"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[1845],{58455:function(e,t,n){var i=n(1413),o=n(29439),r=n(47313),a=n(40490),l=n.n(a),c=n(16330),s=n(57829),d=n(85345),u=n(40935),p=n(70816),m=n.n(p),x=n(11193),f=n(46417);t.Z=function(e){var t=e.model,n=e.level,a=void 0===n?"all":n,p=e.fixedSize,h=void 0!==p&&p,g=r.createRef(),v=r.useState([]),j=(0,o.Z)(v,2),b=j[0],Z=j[1];r.useLayoutEffect((function(){console.log("tref",g),y()}),[]);var y=function(){var e;c.mu.findAllByTopic(null!==(e=null===t||void 0===t?void 0:t.id)&&void 0!==e?e:"",a,{page:0}).then((function(e){console.log(e);var t=[];null!=e.items&&e.items.map((function(e){var n,i;e.id=null!==(n=null===(i=e.student)||void 0===i?void 0:i.id)&&void 0!==n?n:"",t.push(e),e.records&&e.records.length>1&&e.records.map((function(n){n.parentId=e.id,delete n.student,t.push(n)}))})),console.log(t),Z(t)}))};return(0,f.jsx)(s.Z,{children:(0,f.jsx)(l(),{tableRef:g,components:{Container:function(e){return(0,f.jsx)(d.Z,(0,i.Z)((0,i.Z)({},e),{},{elevation:0}))}},title:"Daftar Pembaca",options:{search:!1,pageSizeOptions:h?[5]:void 0,pageSize:h?5:10,sorting:!1,draggable:!1,actionsColumnIndex:-1,exportButton:{csv:!0},exportAllData:!0,exportCsv:function(e,t){var n=new u.CsvBuilder("download.csv"),i=[];b.forEach((function(e){var t;i.push([e.studentName,e.countRead,e.totalDuration,null!==(t=e.lastFeedback)&&void 0!==t?t:e.feedback,e.lastReadFormat])})),n.setDelimeter(",").setColumns(["Nama","Jumlah Membaca","Lama Membaca","Tingkat Pemahaman","Tanggal Membaca"]).addRows(i).exportFile()}},onRowClick:function(e,t,n){},data:b,parentChildData:function(e,t){return t.find((function(t){return t.id===e.parentId}))},columns:[{title:"Name",field:"studentName",render:function(e){return e.studentName}},{title:"Jumlah baca",field:"countRead",render:function(e){return e.hasReading?e.countRead:"Belum Membaca"}},{title:"Lama baca",field:"totalDuration",render:function(e){return e.hasReading?e.totalDuration:""}},{title:"Tingkat Pemahaman",field:"lastFeedback",render:function(e){return e.hasReading?e.lastFeedback:""}},{title:"Terakhir Membaca",field:"lastReadFormat",render:function(e){return null==e.lastRead?"":(0,f.jsx)(x.Z,{title:e.lastReadFormat,children:(0,f.jsx)(s.Z,{children:m()(e.lastRead).fromNow()})})}}]})})}},33567:function(e,t,n){n.r(t);n(47313);var i=n(75361),o=n(57775),r=n(20466),a=n(92649),l=n(97890),c=n(58455),s=n(46417);t.default=function(e){var t=(0,l.UO)().topicId,n=new r.Zf;return n.id=null!==t&&void 0!==t?t:"",(0,s.jsx)(a.Z,{showBackButton:!0,title:"Detail Artikel",sidebarContent:(0,s.jsx)(i.Z,{model:n}),children:(0,s.jsx)(o.Z,{children:(0,s.jsx)(c.Z,{model:n})})})}},75361:function(e,t,n){n(47313);var i=n(17049),o=n(44894),r=n(4901),a=n(5958),l=n(22539),c=n(46417),s=[{title:"Artikel",subtitle:"",page:"article",showNotificationIcon:!1,icon:(0,c.jsx)(l.TYc,{}),roles:[o.lg.Student,o.lg.Teacher]},{title:"Edit Artikel",subtitle:"",page:"form",showNotificationIcon:!1,icon:(0,c.jsx)(r.bnh,{}),roles:[o.lg.Teacher]},{title:"Daftar Pembaca",subtitle:"",page:"reader",showNotificationIcon:!1,icon:(0,c.jsx)(a.$mu,{}),roles:[o.lg.Teacher]}];t.Z=function(e){var t=e.model;return(0,c.jsx)(i.Z,{items:s,onGenerateLink:function(e){return{path:"/topic/".concat(null===t||void 0===t?void 0:t.id,"/").concat(e.page),state:{}}}})}},17049:function(e,t,n){n.d(t,{Z:function(){return F}});var i=n(47313),o=n(88228),r=n(57829),a=n(98668),l=n(47605),c=n(71003),s=n(1001),d=n(69680),u=n(46417),p=function(e){var t=e.loader,n=e.placeholder,o=e.loading,p=e.title,m=void 0===p?(0,u.jsx)(s.Z,{id:"common.noRecordFound"}):p,x=e.actionTitle,f=e.content,h=e.onClick;return o||t?(0,u.jsx)(i.Fragment,{children:n||(0,u.jsxs)(r.Z,{sx:{flexDirection:"row",minHeight:"450px",height:"100%",flex:1,display:"flex",p:5,justifyContent:"center",alignItems:"center",borderColor:"transparent",borderRadius:"4px",textAlign:"center"},children:[(0,u.jsx)(a.Z,{size:16}),(0,u.jsx)(r.Z,{component:"span",sx:{ml:2},children:"Loading..."})]})}):(0,u.jsxs)(r.Z,{sx:{flexDirection:"column",minHeight:"450px",height:"100%",flex:1,display:"flex",p:5,justifyContent:"center",alignItems:"center",border:1,borderColor:"transparent",borderRadius:"4px",textAlign:"center"},children:[m?(0,u.jsx)(l.Z,{sx:{fontSize:14,color:function(e){return e.palette.text.secondary},fontWeight:d.F3.MEDIUM,mb:2},component:"h4",variant:"h4",children:m}):null,(0,u.jsx)(l.Z,{sx:{fontSize:14,color:function(e){return e.palette.text.secondary}},children:f}),x?(0,u.jsx)(c.Z,{color:"primary",variant:"contained",sx:{mt:7.5,height:45,minWidth:150},onClick:h,children:x}):null]})},m=n(35990),x=function(){return(0,u.jsxs)(m.ZP,{viewBox:"0 0 200 45",children:[(0,u.jsx)("rect",{x:"0",y:"10",rx:"0",ry:"0",width:"20",height:"20"}),(0,u.jsx)("rect",{x:"35",y:"12",rx:"2",ry:"2",width:"100",height:"15"})]})},f=function(){return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(x,{}),(0,u.jsx)(x,{}),(0,u.jsx)(x,{}),(0,u.jsx)(x,{}),(0,u.jsx)(x,{}),(0,u.jsx)(x,{})]})},h=n(3191),g=n(4942),v=n(1413),j=n(34499),b=n(20729),Z=n(88564),y=n(17551),k=n(74748),R=n(83213),w=(0,Z.ZP)((function(e){return(0,u.jsx)(j.ZP,(0,v.Z)({component:b.Z},e))}))((function(e){var t,n=e.theme;return t={padding:"7px 16px",borderRadius:"0 30px 30px 0",marginBottom:1,marginTop:1,color:n.palette.text.primary,width:"95%"},(0,g.Z)(t,n.breakpoints.up("md"),{paddingLeft:20,paddingRight:20}),(0,g.Z)(t,n.breakpoints.up("lg"),{paddingLeft:24,paddingRight:24}),(0,g.Z)(t,"& svg",{fontSize:"18px"}),(0,g.Z)(t,"&:hover,&:focus,&.active",{backgroundColor:(0,y.Fq)(n.palette.primary.main,.1),color:n.palette.primary.main,"& .material-icons, & svg, & .MuiTypography-root":{color:n.palette.primary.main}}),(0,g.Z)(t,"&.active",{color:n.palette.primary.main,"& .material-icons, & .MuiTypography-root":{color:n.palette.primary.main},"& .list-item-text":{"& .MuiTypography-body1":{fontWeight:d.F3.SEMI_BOLD}}}),t})),C=function(e){return(0,u.jsxs)(w,{to:e.to,replace:!0,activeClassName:"active",children:[(0,u.jsx)(k.Z,{sx:{minWidth:10,mr:3.5,"& .material-icons, & svg":{fontSize:22,color:function(e){return e.palette.text.secondary}}},children:e.icon}),(0,u.jsx)(R.Z,{primary:e.title,sx:{my:0,"& .MuiTypography-body1":{fontSize:14,mb:.5}},className:"list-item-text"})]})},T=n(88913),D=n(69737),F=function(e){var t=e.items,n=e.onGenerateLink,i=(0,D.f)().user;return(0,u.jsx)(h.Z,{sx:{mb:{xs:2,xl:5}},component:"nav",children:(0,u.jsx)(o.Z,{data:t.filter((function(e){return(0,T.P)(e.roles,i.role)})),ListEmptyComponent:(0,u.jsx)(p,{loading:!0,placeholder:(0,u.jsx)(r.Z,{sx:{px:{xs:4,md:5,lg:6.2}},children:(0,u.jsx)(f,{})})}),renderRow:function(e){var t=n(e),i=t;return"object"===typeof t&&(i=t.path),(0,u.jsx)(C,{title:e.title,subtitle:e.subtitle,page:e.page,showNotificationIcon:e.showNotificationIcon,icon:e.icon,to:i})}})})}}}]);