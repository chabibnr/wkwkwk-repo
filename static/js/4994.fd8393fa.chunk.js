"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[4994],{31032:function(n,e,t){t.r(e),t.d(e,{default:function(){return A}});var i=t(1413),o=t(29439),r=t(47313),a=t(92649),u=t(71003),s=t(69625),l=t(57775),c=t(44610),d=t(40490),f=t.n(d),m=t(16330),h=t(62847),x=t(67375),v=t(1084),p=t(33187),Z=t(79842),S=t(3463),j=t(57829),b=t(6961),k=t(20791),g=t(29417),C=t(56417),y=t(46417),w=S.Ry({name:S.Z_().required("Nama Kurikulum harus diisi")}),B=function(n){var e=new C.O(m.F8,{onSaveSuccess:n.onSaveSuccess,onSaveFailed:n.onSaveFailed});return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(Z.J9,{initialValues:n.model,validationSchema:w,onSubmit:function(n,t){return e.onSubmit(n,t)},children:function(e){var t=e.isSubmitting;return(0,y.jsxs)(Z.l0,{children:[(0,y.jsx)(g.nv,{variant:"filled",name:"name",placeholder:"Nama Kurikulum",label:"Nama Kurikulum"}),(0,y.jsx)(j.Z,{mt:4,children:(0,y.jsx)(g.XZ,{title:"Status",name:"isActive",label:"Aktif"})}),(0,y.jsx)(j.Z,{mt:4,children:(0,y.jsxs)(b.Z,{children:[(0,y.jsx)(u.Z,{color:"secondary",onClick:n.onCancel,disabled:t,variant:"text",disableElevation:!0,children:"Batal"}),(0,y.jsx)(k.M,{isSubmitting:t,text:"Simpan"})]})})]})}})})},_=t(14997),F=t(83865),A=function(){var n=(0,r.useState)(null),e=(0,o.Z)(n,2),t=e[0],d=e[1],Z=(0,v.I0)(),S=r.useRef(),j=r.useCallback((function(n,e){n.formMode=e,d(n)}),[]),b=r.useCallback((function(n){Z((0,x.PV)("Kurikulum berhasil disimpan")),S.current.onQueryChange(),g()}),[]),k=r.useCallback((function(){Z((0,x.Tl)("Kurikulum gagal disimpan"))}),[]),g=r.useCallback((function(){d(null)}),[]),C=r.useCallback((function(){return m.F8.remove(t).then((function(n){n.status?(S.current.onQueryChange(),Z((0,x.PV)("Kurikulum telah dihapus"))):Z((0,x.Tl)("Kurikulum gagal dihapus"))}))}),[t]);return(0,y.jsxs)(a.Z,{title:"Pengaturan Kurikulum",toolbar:(0,y.jsx)(u.Z,{variant:"contained",onClick:function(){return d(new h.NX)},children:"Tambah Kurikulum"}),children:[t&&("create"==t.formMode||"edit"==t.formMode)&&(0,y.jsx)(p.Z,{open:!0,title:t.isNewRecord?"Tambah Kurikulum":"Perbarui Kurikulum",children:(0,y.jsx)(s.Z,{children:(0,y.jsx)(B,{model:t,onCancel:g,onSaveFailed:k,onSaveSuccess:b})})}),t&&"delete"==t.formMode&&(0,y.jsx)(_.Z,{open:!0,onDeny:g,onConfirm:C,dialogTitle:"Hapus Kurikulum",title:"Yakin ingin menghapus kurikulum <strong>".concat(t.name,"</strong> ?")}),(0,y.jsx)(f(),{title:"",tableRef:S,components:{Toolbar:function(){return(0,y.jsx)(y.Fragment,{})},Container:function(n){return(0,y.jsx)(l.Z,(0,i.Z)({},n))}},options:{search:!1,pageSize:10,sorting:!1,draggable:!1,actionsColumnIndex:-1},data:function(n){return new Promise((function(e,t){m.F8.findAll({page:n.page+1}).then((function(n){n.status?e({data:n.items,page:n.page-1,totalCount:n.totalCount}):e({data:[],page:0,totalCount:0})}))}))},columns:[{title:"Nama",field:"name"},{title:"Status",field:"isActive",render:function(n){return n.isActive?(0,y.jsx)(c.Z,{label:"Aktif",color:"success",size:"small",variant:"outlined"}):(0,y.jsx)(c.Z,{color:"error",label:"Tidak Aktif",size:"small",variant:"outlined"})}},{title:"Dibuat",field:"createdAt",render:function(n){return(0,y.jsx)(F.Z,{date:n.createdAt,format:"LL"})}},{title:"Diperbarui",field:"updatedAt",render:function(n){return(0,y.jsx)(F.Z,{date:n.updatedAt,format:"LL"})}}],actions:[{icon:"create",tooltip:"Edit Kurikulum",onClick:function(n,e){e instanceof h.NX&&j(e,"edit"),Z((0,x.SR)())}},{icon:"delete",tooltip:"Hapus Kurikulum",iconProps:{color:"error"},onClick:function(n,e){e instanceof h.NX&&j(e,"delete")}}]})]})}},14997:function(n,e,t){var i=t(29439),o=t(1413),r=t(47313),a=t(71003),u=t(1001),s=t(50301),l=t(94469),c=t(33604),d=t(47605),f=t(69625),m=t(6961),h=t(69680),x=t(20791),v=t(65476),p=t(46417),Z=r.forwardRef((function(n,e){return(0,p.jsx)(s.Z,(0,o.Z)({direction:"up",ref:e},n))}));e.Z=function(n){var e=n.open,t=n.onDeny,o=n.onConfirm,s=n.title,S=n.dialogTitle,j=r.useState(!1),b=(0,i.Z)(j,2),k=b[0],g=b[1];return(0,p.jsxs)(l.Z,{TransitionComponent:Z,open:e,onClose:function(){return t(!1)},children:[(0,p.jsx)(c.Z,{children:(0,p.jsx)(d.Z,{component:"h4",variant:"h4",sx:{mb:3,fontWeight:h.F3.SEMI_BOLD},id:"alert-dialog-title",children:S})}),(0,p.jsx)(f.Z,{sx:{color:"text.secondary",fontSize:14},id:"alert-dialog-description",children:(0,v.ZP)("".concat(s))}),(0,p.jsxs)(m.Z,{sx:{pb:5,px:6},children:[(0,p.jsx)(a.Z,{variant:"outlined",sx:{fontWeight:h.F3.MEDIUM,mr:4},onClick:function(){return t(!1)},color:"secondary",children:(0,p.jsx)(u.Z,{id:"common.no"})}),(0,p.jsx)(x.M,{isSubmitting:k,onClick:function(){g(!0),o().finally((function(){g(!1),t(!1)}))},text:"Lanjutkan"})]})]})}},92649:function(n,e,t){t.d(e,{Z:function(){return w},W:function(){return y}});var i=t(29439),o=t(57829),r=t(34499),a=t(37429),u=t(80836),s=t(83213),l=t(47313),c=t(26672),d=t(97890),f=t(94614),m=t(4942),h=t(57451),x=t(21212),v=t(57775),p=t(50301),Z=t(86302),S=t(1084),j=t(67375),b=t(46417),k=function(n){var e=n.isAppDrawerOpen,t=n.sidebarContent,i=(0,S.I0)();return(0,b.jsx)(p.Z,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,b.jsxs)(o.Z,{sx:{width:{lg:280}},children:[(0,b.jsx)(h.Z,{lgUp:!0,children:(0,b.jsx)(x.ZP,{open:e,onClose:function(){return i((0,j.Y1)())},sx:(0,m.Z)({position:"absolute"},"& .".concat(Z.Z.paper),{width:280,"& .listItem":{zIndex:1305}}),children:t})}),(0,b.jsx)(h.Z,{lgDown:!0,children:(0,b.jsx)(v.Z,{style:{height:"100%"},children:t})})]})})},g=t(19406),C=l.createContext({setTitle:function(n){},setSubtitle:function(n){},setShowBackButton:function(n){},setOnBackButtonPress:function(n){},setToolbar:function(n){},resetLayout:function(){}}),y=function(){return(0,l.useContext)(C)},w=function(n){var e=(0,l.useState)(),t=(0,i.Z)(e,2),m=t[0],h=t[1],x=(0,l.useState)(n.toolbar),v=(0,i.Z)(x,2),p=v[0],Z=v[1],j=(0,l.useState)(),y=(0,i.Z)(j,2),w=y[0],B=y[1],_=(0,l.useState)(n.showBackButton),F=(0,i.Z)(_,2),A=F[0],T=F[1],L=(0,l.useState)(n.fullView),P=(0,i.Z)(L,2),K=P[0],D=(P[1],(0,l.useState)()),I=(0,i.Z)(D,2),O=I[0],M=I[1],N=(0,l.useState)(n.sidebarContent),z=(0,i.Z)(N,2),E=z[0],R=(z[1],(0,l.useState)(n.contentPadding)),V=(0,i.Z)(R,2),W=V[0],X=(V[1],(0,d.s0)()),U=(0,l.useCallback)((function(){X(-1)}),[history]),H=((0,S.I0)(),(0,S.v9)((function(n){return n.common})).isAppDrawerOpen),Q=(0,g.l5)().footer,Y=((0,g.l5)().navStyle,null!==m&&void 0!==m?m:n.title),q=null!==w&&void 0!==w?w:n.subTitle,J=null!==p&&void 0!==p?p:n.toolbar,G=null!==A&&void 0!==A?A:n.showBackButton,$=null!==O&&void 0!==O?O:n.onBackButtonPress;return(0,l.useEffect)((function(){document.title=null!==Y&&void 0!==Y?Y:"AFresto System Indonesia"}),[Y]),(0,b.jsx)(C.Provider,{value:{setTitle:h,setSubtitle:B,setOnBackButtonPress:M,setShowBackButton:T,setToolbar:Z,resetLayout:function(){h(void 0),B(void 0),T(void 0),M(void 0),Z(void 0)}},children:(0,b.jsxs)(o.Z,{children:[Y&&(0,b.jsxs)(r.ZP,{component:"div",sx:{backgroundColor:"#fff",borderBottom:"1px solid #ccc",position:"sticky",top:"70px",zIndex:99},secondaryAction:J,children:[G&&(0,b.jsx)(a.Z,{children:(0,b.jsx)(u.Z,{onClick:null!==$&&void 0!==$?$:U,children:(0,b.jsx)(c.x_l,{})})}),(0,b.jsx)(s.Z,{primary:Y,primaryTypographyProps:{fontSize:20},secondary:q})]}),(0,b.jsx)(f.uc,{animation:"transition.slideUpIn",delay:200,children:(0,b.jsx)(o.Z,{sx:{p:null!==W&&void 0!==W?W:{xs:5,md:7.5,xl:12.5}},children:E?(0,b.jsxs)(o.Z,{sx:{display:"flex"},children:[E?(0,b.jsx)(o.Z,{children:(0,b.jsx)(k,{isAppDrawerOpen:H,footer:Q,fullView:K,sidebarContent:E})}):null,(0,b.jsx)(o.Z,{sx:{display:"flex",flexDirection:"column",width:{xs:"100%",lg:"calc(100% - ".concat(K?0:280,"px)")},pl:{lg:K?0:8}},children:n.children})]}):n.children})})]})})}},33187:function(n,e,t){var i=t(1413),o=(t(47313),t(19860)),r=t(24813),a=t(94469),u=t(33604),s=t(46417);e.Z=function(n){var e=(0,o.Z)(),t=(0,r.Z)(e.breakpoints.down("sm"));return(0,s.jsxs)(a.Z,(0,i.Z)((0,i.Z)({fullWidth:!0,fullScreen:t,maxWidth:"sm"},n),{},{children:[n.title&&(0,s.jsx)(u.Z,{children:n.title}),n.children]}))}},83865:function(n,e,t){t(47313);var i=t(70816),o=t.n(i),r=t(11193),a=t(57829),u=t(46417);e.Z=function(n){var e=n.date,t=n.format,i=void 0===t?"LLLL":t;if(!e)return(0,u.jsx)(u.Fragment,{});e instanceof Date&&(e=o()(e));return(0,u.jsx)(r.Z,{title:e.format("LLLL"),children:(0,u.jsx)(a.Z,{sx:{display:"inline"},children:function(){var n=e;return n.isAfter(o()().subtract(6,"days"))?n.fromNow():n.format(i)}()})})}},56417:function(n,e,t){t.d(e,{O:function(){return r}});var i=t(15671),o=t(43144),r=function(){function n(e,t,o){(0,i.Z)(this,n),this.repository=void 0,this._onSaveSuccess=void 0,this._onSaveFailed=void 0,this._onBeforeSubmit=void 0,this.repository=e,this._onSaveSuccess=t.onSaveSuccess,this._onSaveFailed=t.onSaveFailed,this._onBeforeSubmit=null===o||void 0===o?void 0:o.onBeforeSubmit}return(0,o.Z)(n,[{key:"submitToServer",value:function(n){return this._onBeforeSubmit&&(n=this._onBeforeSubmit(n)),n.id?this.repository.update(n):this.repository.create(n)}},{key:"onSubmit",value:function(n,e,t){var i=this,o=e.setSubmitting,r=e.resetForm;o(!0),this.submitToServer(n).then((function(n){n.status?(!0===t&&r(),i._onSaveSuccess&&i._onSaveSuccess(n.item)):i._onSaveFailed&&i._onSaveFailed(),o(!1)}))}}]),n}()}}]);