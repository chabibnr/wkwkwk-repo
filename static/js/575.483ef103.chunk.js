"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[575],{25403:function(e,n,i){i(47313);var t=i(57775),r=i(57829),s=i(63585),o=i(47605),l=i(44610),a=i(29466),c=i(83061),d=i(46417);n.Z=function(e){var n,i=e.model,u=e.hasClass,x=void 0!==u&&u;return(0,d.jsx)(t.Z,{className:(0,c.Z)("card-hover"),children:(0,d.jsxs)(r.Z,{component:a.rU,to:"1",m:2,borderRadius:"16px",p:4,textAlign:"center",display:"grid",alignItems:"center",sx:{"&:link":{textDecoration:"none !important"}},children:[(0,d.jsx)(s.Z,{sx:{margin:"auto",width:{xs:50,md:770,lg:90,xl:110},height:{xs:50,md:770,lg:90,xl:110}},src:"/assets/images/no-user.gif",children:"H"}),(0,d.jsxs)(r.Z,{mt:2,children:[(0,d.jsx)(o.Z,{fontWeight:700,color:"#000",children:i.getFullName()}),x?"":null!==(n=i.classroom)&&void 0!==n&&n.name?(0,d.jsx)(l.Z,{label:i.classroom.name,size:"small",variant:"outlined",color:"success"}):(0,d.jsx)(l.Z,{label:"Belum masuk kelas",size:"small",variant:"outlined",color:"error"})]})]})})}},28840:function(e,n,i){i.r(n),i.d(n,{default:function(){return F}});var t=i(93433),r=i(47313),s=i(92649),o=i(16330),l=i(25403),a=i(94614),c=i(11579),d=i(1413),u=i(29439),x=i(33187),f=i(71003),h=i(33604),m=i(69625),p=i(57829),Z=i(60636),g=i(75583),j=i(61889),v=i(3191),b=i(34499),k=i(83213),y=i(6006),C=i(80836),P=i(6961),w=i(20791),S=i(80614),I=i(1084),N=i(67375),D=i(23195),W=i(46417),z={flex:1,display:"flex",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#ffffff",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out",height:100},R=function(){var e=r.useState(!1),n=(0,u.Z)(e,2),i=n[0],t=n[1],s=r.useState(null),l=(0,u.Z)(s,2),a=l[0],c=l[1],R=(0,I.I0)(),F=r.useState(!1),M=(0,u.Z)(F,2),_=M[0],E=M[1],T=r.useCallback((function(e){var n=e[0];c(n)}),[]),A=(0,r.useMemo)((function(){return(0,d.Z)({},z)}),[]);return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(f.Z,{onClick:function(){return t(!0)},variant:"outlined",color:"secondary",children:"Import Siswa"}),(0,W.jsxs)(x.Z,{open:i,children:[(0,W.jsx)(h.Z,{children:"Import Data Siswa"}),(0,W.jsxs)(m.Z,{children:[(0,W.jsx)(p.Z,{mb:8,children:(0,W.jsxs)(Z.Z,{severity:"info",children:[(0,W.jsx)(g.Z,{children:"Info"}),"Klik link disamping untuk mendownload template \u2014"," ",(0,W.jsx)("strong",{children:(0,W.jsx)(j.Z,{href:"/import-siswa.xlsx",color:"secondary",children:"Download Template"})})]})}),null===a?(0,W.jsx)(S.ZP,{onDrop:T,children:function(e){var n=e.getRootProps,i=e.getInputProps;return(0,W.jsx)("section",{children:(0,W.jsxs)("div",(0,d.Z)((0,d.Z)({},n({style:A})),{},{children:[(0,W.jsx)("input",(0,d.Z)({},i())),(0,W.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]}))})}}):(0,W.jsx)(v.Z,{component:"div",children:(0,W.jsxs)(b.ZP,{component:"div",children:[(0,W.jsx)(k.Z,{secondary:a.name,primary:"File dipilih"}),(0,W.jsx)(y.Z,{children:(0,W.jsx)(C.Z,{onClick:function(){return c(null)},children:(0,W.jsx)(D.Z,{})})})]})})]}),(0,W.jsxs)(P.Z,{children:[(0,W.jsx)(f.Z,{color:"secondary",onClick:function(){t(!1),c(null)},disabled:_,variant:"text",disableElevation:!0,children:"Batal"}),a&&(0,W.jsx)(w.M,{isSubmitting:_,onClick:function(){null!=a&&(E(!0),o.k6.importStudentXlsx(a).then((function(e){console.log(e)})).finally((function(){R((0,N.PV)("Import siswa berhasil ditambahkan")),E(!1),t(!1)})))},text:"Simpan"})]})]})]})},F=function(){var e=(0,c.useInfiniteQuery)(["list-student"],(function(e){var n=e.pageParam;return x(void 0===n?1:n)}),{getNextPageParam:function(e,n){return e.totalPages>e.page?e.page+1:void 0}}),n=e.data,i=e.isLoading,r=e.isFetchingNextPage,d=e.fetchNextPage,u=e.hasNextPage,x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return o.k6.findAll({page:e,size:16})};return(0,W.jsx)(s.Z,{title:"Daftar Siswa",toolbar:(0,W.jsx)(R,{}),children:(0,W.jsx)(a.O1,{onEndReached:function(){u&&d()},footerProps:{footerText:"",loading:i||r},data:function(){if(n&&n.pages){var e=[];return n.pages.forEach((function(n){e=[].concat((0,t.Z)(e),(0,t.Z)(n.items))})),e}return[]}(),responsive:{xs:1,sm:2,md:4,lg:5},renderRow:function(e){return(0,W.jsx)(l.Z,{model:e},"item-user-".concat(e.id))}})})}},33187:function(e,n,i){var t=i(1413),r=(i(47313),i(19860)),s=i(24813),o=i(94469),l=i(33604),a=i(46417);n.Z=function(e){var n=(0,r.Z)(),i=(0,s.Z)(n.breakpoints.down("sm"));return(0,a.jsxs)(o.Z,(0,t.Z)((0,t.Z)({fullWidth:!0,fullScreen:i,maxWidth:"sm"},e),{},{children:[e.title&&(0,a.jsx)(l.Z,{children:e.title}),e.children]}))}},20791:function(e,n,i){i.d(n,{M:function(){return l}});i(47313);var t=i(57829),r=i(71003),s=i(98668),o=i(46417),l=function(e){var n=e.isSubmitting,i=e.disabled,l=void 0!==i&&i,a=e.color,c=void 0===a?"primary":a,d=e.variant,u=void 0===d?"outlined":d,x=e.className,f=void 0===x?"":x,h=e.fullWidth,m=void 0!==h&&h,p=e.text,Z=e.onClick;return(0,o.jsxs)(t.Z,{sx:{position:"relative",display:m?"block":"inline-block"},children:[(0,o.jsx)(r.Z,{type:"submit",onClick:Z,color:c,variant:u,disabled:n||l,className:f,fullWidth:m,children:p}),n&&(0,o.jsx)(s.Z,{size:20,style:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})]})}},23195:function(e,n,i){var t=i(95318);n.Z=void 0;var r=t(i(45045)),s=i(46417),o=(0,r.default)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");n.Z=o}}]);