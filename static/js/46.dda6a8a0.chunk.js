"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[46],{36566:function(n,e,i){i.r(e),i.d(e,{default:function(){return A}});var t=i(93433),r=i(29439),o=i(47313),s=i(92649),l=i(57829),a=i(71003),c=i(16330),d=i(57775),u=i(63585),x=i(47605),f=i(44610),h=i(29466),m=i(83061),Z=i(46417),p=function(n){var e,i=n.model;return(0,Z.jsx)(d.Z,{className:(0,m.Z)("card-hover"),children:(0,Z.jsxs)(l.Z,{component:h.rU,to:"1",m:2,borderRadius:"16px",p:4,textAlign:"center",display:"grid",alignItems:"center",sx:{"&:link":{textDecoration:"none !important"}},children:[(0,Z.jsx)(u.Z,{sx:{margin:"auto",width:{xs:50,md:770,lg:90,xl:110},height:{xs:50,md:770,lg:90,xl:110}},src:"https://mui.com/static/images/avatar/1.jpg",children:"H"}),(0,Z.jsxs)(l.Z,{mt:2,children:[(0,Z.jsx)(x.Z,{fontWeight:700,color:"#000",children:i.getFullName()}),null!==(e=i.classroom)&&void 0!==e&&e.name?(0,Z.jsx)(f.Z,{label:i.classroom.name,size:"small",variant:"outlined",color:"success"}):(0,Z.jsx)(f.Z,{label:"Belum masuk kelas",size:"small",variant:"outlined",color:"error"})]})]})})},j=i(94614),g=i(11579),v=i(1413),b=i(33187),k=i(33604),y=i(69625),C=i(60636),S=i(75583),w=i(61889),I=i(3191),P=i(34499),D=i(83213),M=i(6006),W=i(80836),z=i(6961),N=i(20791),R=i(80614),L=i(1084),_=i(67375),E=i(23195),F={flex:1,display:"flex",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#ffffff",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out",height:100},T=function(){var n=o.useState(!1),e=(0,r.Z)(n,2),i=e[0],t=e[1],s=o.useState(null),d=(0,r.Z)(s,2),u=d[0],x=d[1],f=(0,L.I0)(),h=o.useState(!1),m=(0,r.Z)(h,2),p=m[0],j=m[1],g=o.useCallback((function(n){var e=n[0];x(e)}),[]),T=(0,o.useMemo)((function(){return(0,v.Z)({},F)}),[]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(a.Z,{onClick:function(){return t(!0)},variant:"outlined",color:"secondary",children:"Import Siswa"}),(0,Z.jsxs)(b.Z,{open:i,children:[(0,Z.jsx)(k.Z,{children:"Import Data Siswa"}),(0,Z.jsxs)(y.Z,{children:[(0,Z.jsx)(l.Z,{mb:8,children:(0,Z.jsxs)(C.Z,{severity:"info",children:[(0,Z.jsx)(S.Z,{children:"Info"}),"Klik link disamping untuk mendownload template \u2014"," ",(0,Z.jsx)("strong",{children:(0,Z.jsx)(w.Z,{href:"/import-siswa.xlsx",color:"secondary",children:"Download Template"})})]})}),null===u?(0,Z.jsx)(R.ZP,{onDrop:g,children:function(n){var e=n.getRootProps,i=n.getInputProps;return(0,Z.jsx)("section",{children:(0,Z.jsxs)("div",(0,v.Z)((0,v.Z)({},e({style:T})),{},{children:[(0,Z.jsx)("input",(0,v.Z)({},i())),(0,Z.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]}))})}}):(0,Z.jsx)(I.Z,{component:"div",children:(0,Z.jsxs)(P.ZP,{component:"div",children:[(0,Z.jsx)(D.Z,{secondary:u.name,primary:"File dipilih"}),(0,Z.jsx)(M.Z,{children:(0,Z.jsx)(W.Z,{onClick:function(){return x(null)},children:(0,Z.jsx)(E.Z,{})})})]})})]}),(0,Z.jsxs)(z.Z,{children:[(0,Z.jsx)(a.Z,{color:"secondary",onClick:function(){t(!1),x(null)},disabled:p,variant:"text",disableElevation:!0,children:"Batal"}),u&&(0,Z.jsx)(N.M,{isSubmitting:p,onClick:function(){null!=u&&(j(!0),c.k6.importStudentXlsx(u).then((function(n){console.log(n)})).finally((function(){f((0,_.PV)("Import siswa berhasil ditambahkan")),j(!1),t(!1)})))},text:"Simpan"})]})]})]})},A=function(){var n=(0,o.useState)(0),e=(0,r.Z)(n,2),i=e[0],d=e[1],u=(0,g.useInfiniteQuery)(["list-student",i],(function(){return h(i)}),{getNextPageParam:function(n,e){return 1}}),x=u.data,f=u.isLoading,h=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return c.k6.findAll({page:n,size:50})};console.log(x);return(0,Z.jsxs)(s.Z,{title:"Daftar Siswa",toolbar:(0,Z.jsx)(T,{}),children:[(0,Z.jsx)(j.O1,{onEndReached:function(){},footerProps:{footerText:"Load More",loading:f},data:function(){if(x&&x.pages){var n=[];return x.pages.forEach((function(e){n=[].concat((0,t.Z)(n),(0,t.Z)(e.items))})),console.log(n),n}return[]}(),responsive:{xs:2,sm:3,md:4,lg:5},renderRow:function(n){return(0,Z.jsx)(p,{model:n},"item-user-".concat(n.id))}}),x&&(0,Z.jsx)(l.Z,{children:(0,Z.jsx)(a.Z,{onClick:function(){return d(i+1)},children:"Load More..."})})]})}},33187:function(n,e,i){var t=i(1413),r=(i(47313),i(19860)),o=i(24813),s=i(94469),l=i(33604),a=i(46417);e.Z=function(n){var e=(0,r.Z)(),i=(0,o.Z)(e.breakpoints.down("sm"));return(0,a.jsxs)(s.Z,(0,t.Z)((0,t.Z)({fullWidth:!0,fullScreen:i,maxWidth:"sm"},n),{},{children:[n.title&&(0,a.jsx)(l.Z,{children:n.title}),n.children]}))}},20791:function(n,e,i){i.d(e,{M:function(){return l}});i(47313);var t=i(57829),r=i(71003),o=i(98668),s=i(46417),l=function(n){var e=n.isSubmitting,i=n.disabled,l=void 0!==i&&i,a=n.color,c=void 0===a?"primary":a,d=n.variant,u=void 0===d?"outlined":d,x=n.className,f=void 0===x?"":x,h=n.fullWidth,m=void 0!==h&&h,Z=n.text,p=n.onClick;return(0,s.jsxs)(t.Z,{sx:{position:"relative",display:m?"block":"inline-block"},children:[(0,s.jsx)(r.Z,{type:"submit",onClick:p,color:c,variant:u,disabled:e||l,className:f,fullWidth:m,children:Z}),e&&(0,s.jsx)(o.Z,{size:20,style:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})]})}},23195:function(n,e,i){var t=i(95318);e.Z=void 0;var r=t(i(45045)),o=i(46417),s=(0,r.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");e.Z=s}}]);