"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[1893],{10547:function(n,e,t){t.r(e),t.d(e,{default:function(){return V}});var o=t(29439),i=t(47313),r=t(57775),l=t(51057),s=t(57829),a=t(3191),c=t(83213),d=t(6006),u=t(44610),x=t(47605),h=t(46417),m=function(n){var e=n.count,t=void 0===e?0:e,o=n.label,i=void 0===o?"":o,r=n.color;return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(s.Z,{sx:{width:50,height:50,background:function(n){return r&&n.palette[r]?n.palette[r].main:n.palette.primary.main},borderRadius:"8px",textAlign:"center",color:"#fff",padding:"3px",display:"inline-block"},children:[(0,h.jsx)(x.Z,{fontSize:"18px",children:t}),(0,h.jsx)(x.Z,{fontSize:"10px",children:i})]})})},p=i.memo(m),f=t(83061),j=t(29466),v=t(32916),Z=t(2682),g=function(n){var e=n.model;return(0,h.jsx)(s.Z,{component:j.rU,sx:{textDecoration:"none"},to:"/module/".concat(e.courseClassroomId,"/detail/").concat(e.id),children:(0,h.jsx)(r.Z,{className:(0,f.Z)("card-hover"),children:(0,h.jsxs)(l.Z,{sx:{textAlign:"left",padding:3},children:[(0,h.jsxs)(a.Z,{children:[(0,h.jsx)(c.Z,{primaryTypographyProps:{fontWeight:400,fontSize:16},primary:e.name,secondary:e.description?e.description:"Tidak ada deskripsi"}),e.isDone&&(0,h.jsx)(d.Z,{children:(0,h.jsx)(u.Z,{label:"Selesai",icon:(0,h.jsx)(v._rq,{}),color:"success",variant:"outlined",size:"small"})})]}),(0,h.jsxs)(s.Z,{display:"flex",alignItems:"center",children:[(0,h.jsx)(s.Z,{children:(0,h.jsx)(c.Z,{primaryTypographyProps:{fontSize:10},secondaryTypographyProps:{fontSize:10},primary:"Ditambahkan",secondary:(0,Z.ss)(e.createdAt)})}),(0,h.jsxs)(s.Z,{ml:"auto",color:"#FCB267",children:[(0,h.jsx)(s.Z,{mr:2,display:"inline-block",children:(0,h.jsx)(p,{label:"Topik",color:"info",count:e.countTopic})}),(0,h.jsx)(p,{label:"Tugas",color:"warning",count:e.countAssignment})]})]})]})})})},S=t(94614),b=t(92649),y=t(16330),k=t(58658),C=t(69737),w=t(20466),T=t(1943),B=t(71003),P=t(44894),I=t(97890),A=t(79842),F=t(33187),z=t(3463),O=t(69625),D=t(6961),M=t(29417),_=t(20791),E=z.Ry({name:z.Z_().required("Nama modul harus diisi")}),W=function(n){return(0,h.jsx)(F.Z,{open:!0,title:"Form Modul",children:(0,h.jsx)(A.J9,{initialValues:n.model,validationSchema:E,onSubmit:function(e,t){var o,i=t.setSubmitting;i(!0),(o=e,o.id?y.r.update(o):y.r.create(o)).then((function(e){var t;e.status?(n.onCancel(),n.onSaveSuccess&&n.onSaveSuccess(null!==(t=e.item)&&void 0!==t?t:n.model)):n.onSaveFailed&&n.onSaveFailed();i(!1)}))},children:function(e){var t=e.isSubmitting;return(0,h.jsxs)(s.Z,{component:A.l0,children:[(0,h.jsxs)(O.Z,{children:[(0,h.jsx)(M.nv,{name:"name",placeholder:"Nama Modul",label:"Nama Modul"}),(0,h.jsx)(s.Z,{mt:4,children:(0,h.jsx)(M.Kx,{name:"description",placeholder:"Tambahkan Keterangan",label:"Keterangan"})})]}),(0,h.jsxs)(D.Z,{children:[(0,h.jsx)(B.Z,{color:"secondary",onClick:n.onCancel,disabled:t,variant:"text",disableElevation:!0,children:"Batal"}),(0,h.jsx)(_.M,{isSubmitting:t,text:"Simpan"})]})]})}})})},R=t(1084),K=t(67375),N=function(n){var e=(0,C.f)().user,t=null===e||void 0===e?void 0:e.role;return t?!0===n.onlyAuthor&&n.userId!==(null===e||void 0===e?void 0:e.uid)?(0,h.jsx)(h.Fragment,{}):(0,k.P_)(t,n.roles)?n.children:(0,h.jsx)(h.Fragment,{}):(0,h.jsx)(h.Fragment,{})},U=t(11579),V=function(n){(0,C.f)().user,(0,I.s0)();var e,t=(0,R.I0)(),r=(0,b.W)(),l=r.setTitle,s=r.setToolbar,a=(0,I.UO)().courseClassroomId,c=(0,U.useQuery)(["list-modules",a],(function(){return y.r.findAllByClassroom(null!==a&&void 0!==a?a:"",{page:f+1})})),d=c.isLoading,u=c.data,x=c.refetch,m=i.useState(0),p=(0,o.Z)(m,2),f=p[0];p[1],(0,k.YK)({xs:4,sm:6,md:8,xl:10},(0,T.z8)());i.useEffect((function(){l("Modul Pembelajaran"),s((0,h.jsx)(N,{roles:[P.lg.Teacher],children:(0,h.jsx)(B.Z,{onClick:function(){F(j),t((0,K.SR)())},fullWidth:!1,variant:"outlined",color:"primary","aria-label":"add",children:"Tambah Modul"})}))}),[]);var j=new w.Yl;j.courseClassroomId=null!==a&&void 0!==a?a:"";var v=i.useState(null),Z=(0,o.Z)(v,2),A=Z[0],F=Z[1];return(0,h.jsxs)(h.Fragment,{children:[A&&(0,h.jsx)(W,{model:A,onSaveSuccess:function(n){x(),t((0,K.PV)("Modul telah disimpan"))},onSaveFailed:function(){t((0,K.Tl)("Modul gagal disimpan"))},onCancel:function(){return F(null)}}),(0,h.jsx)(S.O1,{data:null!==(e=null===u||void 0===u?void 0:u.items)&&void 0!==e?e:[],footerProps:{loading:d,footerText:""},onEndReached:function(){},column:4,responsive:{xs:1,sm:2},renderRow:function(n,e){return(0,h.jsx)(g,{model:n},"course-".concat(e))}})]})}},92649:function(n,e,t){t.d(e,{Z:function(){return w},W:function(){return C}});var o=t(29439),i=t(57829),r=t(34499),l=t(37429),s=t(80836),a=t(83213),c=t(47313),d=t(26672),u=t(97890),x=t(94614),h=t(4942),m=t(57451),p=t(21212),f=t(57775),j=t(50301),v=t(86302),Z=t(1084),g=t(67375),S=t(46417),b=function(n){var e=n.isAppDrawerOpen,t=n.sidebarContent,o=(0,Z.I0)();return(0,S.jsx)(j.Z,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,S.jsxs)(i.Z,{sx:{width:{lg:280}},children:[(0,S.jsx)(m.Z,{lgUp:!0,children:(0,S.jsx)(p.ZP,{open:e,onClose:function(){return o((0,g.Y1)())},sx:(0,h.Z)({position:"absolute"},"& .".concat(v.Z.paper),{width:280,"& .listItem":{zIndex:1305}}),children:t})}),(0,S.jsx)(m.Z,{lgDown:!0,children:(0,S.jsx)(f.Z,{style:{height:"100%"},children:t})})]})})},y=t(19406),k=c.createContext({setTitle:function(n){},setSubtitle:function(n){},setShowBackButton:function(n){},setOnBackButtonPress:function(n){},setToolbar:function(n){},resetLayout:function(){}}),C=function(){return(0,c.useContext)(k)},w=function(n){var e=(0,c.useState)(),t=(0,o.Z)(e,2),h=t[0],m=t[1],p=(0,c.useState)(n.toolbar),f=(0,o.Z)(p,2),j=f[0],v=f[1],g=(0,c.useState)(),C=(0,o.Z)(g,2),w=C[0],T=C[1],B=(0,c.useState)(n.showBackButton),P=(0,o.Z)(B,2),I=P[0],A=P[1],F=(0,c.useState)(n.fullView),z=(0,o.Z)(F,2),O=z[0],D=(z[1],(0,c.useState)()),M=(0,o.Z)(D,2),_=M[0],E=M[1],W=(0,c.useState)(n.sidebarContent),R=(0,o.Z)(W,2),K=R[0],N=(R[1],(0,c.useState)(n.contentPadding)),U=(0,o.Z)(N,2),V=U[0],L=(U[1],(0,u.s0)()),Y=(0,c.useCallback)((function(){L(-1)}),[history]),q=((0,Z.I0)(),(0,Z.v9)((function(n){return n.common})).isAppDrawerOpen),J=(0,y.l5)().footer,Q=((0,y.l5)().navStyle,null!==h&&void 0!==h?h:n.title),G=null!==w&&void 0!==w?w:n.subTitle,H=null!==j&&void 0!==j?j:n.toolbar,X=null!==I&&void 0!==I?I:n.showBackButton,$=null!==_&&void 0!==_?_:n.onBackButtonPress;return(0,c.useEffect)((function(){document.title=null!==Q&&void 0!==Q?Q:"AFresto System Indonesia"}),[Q]),(0,S.jsx)(k.Provider,{value:{setTitle:m,setSubtitle:T,setOnBackButtonPress:E,setShowBackButton:A,setToolbar:v,resetLayout:function(){m(void 0),T(void 0),A(void 0),E(void 0),v(void 0)}},children:(0,S.jsxs)(i.Z,{children:[Q&&(0,S.jsxs)(r.ZP,{component:"div",sx:{backgroundColor:"#fff",borderBottom:"1px solid #ccc",position:"sticky",top:"70px",zIndex:99},secondaryAction:H,children:[X&&(0,S.jsx)(l.Z,{children:(0,S.jsx)(s.Z,{onClick:null!==$&&void 0!==$?$:Y,children:(0,S.jsx)(d.x_l,{})})}),(0,S.jsx)(a.Z,{primary:Q,primaryTypographyProps:{fontSize:20},secondary:G})]}),(0,S.jsx)(x.uc,{animation:"transition.slideUpIn",delay:200,children:(0,S.jsx)(i.Z,{sx:{p:null!==V&&void 0!==V?V:{xs:5,md:7.5,xl:12.5}},children:K?(0,S.jsxs)(i.Z,{sx:{display:"flex"},children:[K?(0,S.jsx)(i.Z,{children:(0,S.jsx)(b,{isAppDrawerOpen:q,footer:J,fullView:O,sidebarContent:K})}):null,(0,S.jsx)(i.Z,{sx:{display:"flex",flexDirection:"column",width:{xs:"100%",lg:"calc(100% - ".concat(O?0:280,"px)")},pl:{lg:O?0:8}},children:n.children})]}):n.children})})]})})}},33187:function(n,e,t){var o=t(1413),i=(t(47313),t(19860)),r=t(24813),l=t(94469),s=t(33604),a=t(46417);e.Z=function(n){var e=(0,i.Z)(),t=(0,r.Z)(e.breakpoints.down("sm"));return(0,a.jsxs)(l.Z,(0,o.Z)((0,o.Z)({fullWidth:!0,fullScreen:t,maxWidth:"sm"},n),{},{children:[n.title&&(0,a.jsx)(s.Z,{children:n.title}),n.children]}))}}}]);