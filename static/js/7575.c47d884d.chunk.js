"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[7575],{25403:function(n,e,t){t(47313);var i=t(57775),o=t(57829),r=t(63585),s=t(47605),l=t(44610),a=t(29466),c=t(83061),d=t(46417);e.Z=function(n){var e,t=n.model,u=n.hasClass,x=void 0!==u&&u;return(0,d.jsx)(i.Z,{className:(0,c.Z)("card-hover"),children:(0,d.jsxs)(o.Z,{component:a.rU,to:"/student/".concat(t.id,"/profile"),m:2,borderRadius:"16px",p:4,textAlign:"center",display:"grid",alignItems:"center",sx:{"&:link":{textDecoration:"none !important"}},children:[(0,d.jsx)(r.Z,{sx:{margin:"auto",width:{xs:50,md:770,lg:90,xl:110},height:{xs:50,md:770,lg:90,xl:110}},src:"/assets/images/no-user.gif",children:"H"}),(0,d.jsxs)(o.Z,{mt:2,children:[(0,d.jsx)(s.Z,{fontWeight:700,color:"#000",children:t.getFullName()}),x?"":null!==(e=t.classroom)&&void 0!==e&&e.name?(0,d.jsx)(l.Z,{label:t.classroom.name,size:"small",variant:"outlined",color:"success"}):(0,d.jsx)(l.Z,{label:"Belum masuk kelas",size:"small",variant:"outlined",color:"error"})]})]})})}},28840:function(n,e,t){t.r(e),t.d(e,{default:function(){return O}});var i=t(93433),o=t(47313),r=t(92649),s=t(16330),l=t(25403),a=t(94614),c=t(11579),d=t(1413),u=t(29439),x=t(33187),f=t(71003),h=t(33604),p=t(69625),Z=t(57829),m=t(60636),v=t(75583),j=t(61889),g=t(3191),b=t(34499),k=t(83213),y=t(6006),S=t(80836),w=t(6961),C=t(20791),P=t(80614),B=t(1084),I=t(67375),D=t(23195),T=t(46417),z={flex:1,display:"flex",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#ffffff",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out",height:100},N=function(){var n=o.useState(!1),e=(0,u.Z)(n,2),t=e[0],i=e[1],r=o.useState(null),l=(0,u.Z)(r,2),a=l[0],c=l[1],N=(0,B.I0)(),O=o.useState(!1),A=(0,u.Z)(O,2),W=A[0],E=A[1],F=o.useCallback((function(n){var e=n[0];c(e)}),[]),R=(0,o.useMemo)((function(){return(0,d.Z)({},z)}),[]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(f.Z,{onClick:function(){return i(!0)},variant:"outlined",color:"secondary",children:"Import Siswa"}),(0,T.jsxs)(x.Z,{open:t,children:[(0,T.jsx)(h.Z,{children:"Import Data Siswa"}),(0,T.jsxs)(p.Z,{children:[(0,T.jsx)(Z.Z,{mb:8,children:(0,T.jsxs)(m.Z,{severity:"info",children:[(0,T.jsx)(v.Z,{children:"Info"}),"Klik link disamping untuk mendownload template \u2014"," ",(0,T.jsx)("strong",{children:(0,T.jsx)(j.Z,{href:"/import-siswa.xlsx",color:"secondary",children:"Download Template"})})]})}),null===a?(0,T.jsx)(P.ZP,{onDrop:F,children:function(n){var e=n.getRootProps,t=n.getInputProps;return(0,T.jsx)("section",{children:(0,T.jsxs)("div",(0,d.Z)((0,d.Z)({},e({style:R})),{},{children:[(0,T.jsx)("input",(0,d.Z)({},t())),(0,T.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]}))})}}):(0,T.jsx)(g.Z,{component:"div",children:(0,T.jsxs)(b.ZP,{component:"div",children:[(0,T.jsx)(k.Z,{secondary:a.name,primary:"File dipilih"}),(0,T.jsx)(y.Z,{children:(0,T.jsx)(S.Z,{onClick:function(){return c(null)},children:(0,T.jsx)(D.Z,{})})})]})})]}),(0,T.jsxs)(w.Z,{children:[(0,T.jsx)(f.Z,{color:"secondary",onClick:function(){i(!1),c(null)},disabled:W,variant:"text",disableElevation:!0,children:"Batal"}),a&&(0,T.jsx)(C.M,{isSubmitting:W,onClick:function(){null!=a&&(E(!0),s.k6.importStudentXlsx(a).then((function(n){console.log(n)})).finally((function(){N((0,I.PV)("Import siswa berhasil ditambahkan")),E(!1),i(!1)})))},text:"Simpan"})]})]})]})},O=function(){var n=(0,c.useInfiniteQuery)(["list-student"],(function(n){var e=n.pageParam;return x(void 0===e?1:e)}),{getNextPageParam:function(n,e){return n.totalPages>n.page?n.page+1:void 0}}),e=n.data,t=n.isLoading,o=n.isFetchingNextPage,d=n.fetchNextPage,u=n.hasNextPage,x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return s.k6.findAll({page:n,size:16})};return(0,T.jsx)(r.Z,{title:"Daftar Siswa",toolbar:(0,T.jsx)(N,{}),children:(0,T.jsx)(a.O1,{onEndReached:function(){u&&d()},footerProps:{footerText:"",loading:t||o},data:function(){if(e&&e.pages){var n=[];return e.pages.forEach((function(e){n=[].concat((0,i.Z)(n),(0,i.Z)(e.items))})),n}return[]}(),responsive:{xs:1,sm:2,md:4,lg:5},renderRow:function(n){return(0,T.jsx)(l.Z,{model:n},"item-user-".concat(n.id))}})})}},92649:function(n,e,t){t.d(e,{Z:function(){return C},W:function(){return w}});var i=t(29439),o=t(57829),r=t(34499),s=t(37429),l=t(80836),a=t(83213),c=t(47313),d=t(26672),u=t(97890),x=t(94614),f=t(4942),h=t(57451),p=t(21212),Z=t(57775),m=t(50301),v=t(86302),j=t(1084),g=t(67375),b=t(46417),k=function(n){var e=n.isAppDrawerOpen,t=n.sidebarContent,i=(0,j.I0)();return(0,b.jsx)(m.Z,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,b.jsxs)(o.Z,{sx:{width:{lg:280}},children:[(0,b.jsx)(h.Z,{lgUp:!0,children:(0,b.jsx)(p.ZP,{open:e,onClose:function(){return i((0,g.Y1)())},sx:(0,f.Z)({position:"absolute"},"& .".concat(v.Z.paper),{width:280,"& .listItem":{zIndex:1305}}),children:t})}),(0,b.jsx)(h.Z,{lgDown:!0,children:(0,b.jsx)(Z.Z,{style:{height:"100%"},children:t})})]})})},y=t(19406),S=c.createContext({setTitle:function(n){},setSubtitle:function(n){},setShowBackButton:function(n){},setOnBackButtonPress:function(n){},setToolbar:function(n){},resetLayout:function(){}}),w=function(){return(0,c.useContext)(S)},C=function(n){var e=(0,c.useState)(),t=(0,i.Z)(e,2),f=t[0],h=t[1],p=(0,c.useState)(n.toolbar),Z=(0,i.Z)(p,2),m=Z[0],v=Z[1],g=(0,c.useState)(),w=(0,i.Z)(g,2),C=w[0],P=w[1],B=(0,c.useState)(n.showBackButton),I=(0,i.Z)(B,2),D=I[0],T=I[1],z=(0,c.useState)(n.fullView),N=(0,i.Z)(z,2),O=N[0],A=(N[1],(0,c.useState)()),W=(0,i.Z)(A,2),E=W[0],F=W[1],R=(0,c.useState)(n.sidebarContent),_=(0,i.Z)(R,2),L=_[0],M=(_[1],(0,c.useState)(n.contentPadding)),U=(0,i.Z)(M,2),V=U[0],H=(U[1],(0,u.s0)()),K=(0,c.useCallback)((function(){H(-1)}),[history]),Q=((0,j.I0)(),(0,j.v9)((function(n){return n.common})).isAppDrawerOpen),X=(0,y.l5)().footer,Y=((0,y.l5)().navStyle,null!==f&&void 0!==f?f:n.title),q=null!==C&&void 0!==C?C:n.subTitle,G=null!==m&&void 0!==m?m:n.toolbar,J=null!==D&&void 0!==D?D:n.showBackButton,$=null!==E&&void 0!==E?E:n.onBackButtonPress;return(0,c.useEffect)((function(){document.title=null!==Y&&void 0!==Y?Y:"AFresto System Indonesia"}),[Y]),(0,b.jsx)(S.Provider,{value:{setTitle:h,setSubtitle:P,setOnBackButtonPress:F,setShowBackButton:T,setToolbar:v,resetLayout:function(){h(void 0),P(void 0),T(void 0),F(void 0),v(void 0)}},children:(0,b.jsxs)(o.Z,{children:[Y&&(0,b.jsxs)(r.ZP,{component:"div",sx:{backgroundColor:"#fff",borderBottom:"1px solid #ccc",position:"sticky",top:"70px",zIndex:99},secondaryAction:G,children:[J&&(0,b.jsx)(s.Z,{children:(0,b.jsx)(l.Z,{onClick:null!==$&&void 0!==$?$:K,children:(0,b.jsx)(d.x_l,{})})}),(0,b.jsx)(a.Z,{primary:Y,primaryTypographyProps:{fontSize:20},secondary:q})]}),(0,b.jsx)(x.uc,{animation:"transition.slideUpIn",delay:200,children:(0,b.jsx)(o.Z,{sx:{p:null!==V&&void 0!==V?V:{xs:5,md:7.5,xl:12.5}},children:L?(0,b.jsxs)(o.Z,{sx:{display:"flex"},children:[L?(0,b.jsx)(o.Z,{children:(0,b.jsx)(k,{isAppDrawerOpen:Q,footer:X,fullView:O,sidebarContent:L})}):null,(0,b.jsx)(o.Z,{sx:{display:"flex",flexDirection:"column",width:{xs:"100%",lg:"calc(100% - ".concat(O?0:280,"px)")},pl:{lg:O?0:8}},children:n.children})]}):n.children})})]})})}},33187:function(n,e,t){var i=t(1413),o=(t(47313),t(19860)),r=t(24813),s=t(94469),l=t(33604),a=t(46417);e.Z=function(n){var e=(0,o.Z)(),t=(0,r.Z)(e.breakpoints.down("sm"));return(0,a.jsxs)(s.Z,(0,i.Z)((0,i.Z)({fullWidth:!0,fullScreen:t,maxWidth:"sm"},n),{},{children:[n.title&&(0,a.jsx)(l.Z,{children:n.title}),n.children]}))}},20791:function(n,e,t){t.d(e,{M:function(){return l}});t(47313);var i=t(57829),o=t(71003),r=t(98668),s=t(46417),l=function(n){var e=n.isSubmitting,t=n.disabled,l=void 0!==t&&t,a=n.color,c=void 0===a?"primary":a,d=n.variant,u=void 0===d?"outlined":d,x=n.className,f=void 0===x?"":x,h=n.fullWidth,p=void 0!==h&&h,Z=n.text,m=n.onClick;return(0,s.jsxs)(i.Z,{sx:{position:"relative",display:p?"block":"inline-block"},children:[(0,s.jsx)(o.Z,{type:"submit",onClick:m,color:c,variant:u,disabled:e||l,className:f,fullWidth:p,children:Z}),e&&(0,s.jsx)(r.Z,{size:20,style:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})]})}},23195:function(n,e,t){var i=t(95318);e.Z=void 0;var o=i(t(45045)),r=t(46417),s=(0,o.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");e.Z=s}}]);