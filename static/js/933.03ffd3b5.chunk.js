"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[933],{34790:function(n,e,t){t.r(e),t.d(e,{default:function(){return E}});var i=t(1413),a=t(29439),r=t(47313),o=t(92649),l=t(71003),c=t(69625),u=t(57775),s=t(40490),d=t.n(s),f=t(16330),m=t(20466),h=t(67375),x=t(1084),g=t(2682),p=t(33187),Z=t(7410),j=t(3463),b=t(57829),k=t(6961),v=t(20791),C=t(29417),S=t(56417),T=t(97741),y=t(46417),M=function(n){var e=r.useState([]),t=(0,a.Z)(e,2),o=t[0],l=t[1];r.useEffect((function(){c()}),[]);var c=function(){f.F8.findAll({page:0}).then((function(n){var e;l(null!==(e=n.items)&&void 0!==e?e:[])}))};return(0,y.jsx)(C.Ph,(0,i.Z)((0,i.Z)({},n),{},{children:o.map((function(e,t){return(0,y.jsx)(T.Z,{value:e.id,children:e.name},"".concat(n.name,"-select-option-").concat(t))}))}))},P=j.Ry({name:j.Z_().required("Nama harus diisi")}),R=function(n){var e=new S.O(f.E$,{onSaveSuccess:n.onSaveSuccess,onSaveFailed:n.onSaveFailed});return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(Z.J9,{initialValues:n.model,validationSchema:P,onSubmit:function(n,t){return e.onSubmit(n,t)},children:function(e){var t=e.isSubmitting;return(0,y.jsxs)(Z.l0,{children:[(0,y.jsx)(b.Z,{mb:4,children:(0,y.jsx)(C.nv,{name:"name",variant:"filled",placeholder:"Nama",label:"Nama"})}),(0,y.jsx)(b.Z,{mb:4,children:(0,y.jsx)(C.nv,{name:"semester",variant:"filled",placeholder:"Semester",label:"Semester"})}),(0,y.jsx)(b.Z,{mb:4,children:(0,y.jsx)(M,{fullWidth:!0,variant:"filled",name:"id_curriculum",label:"Pilih Kurikulum"})}),(0,y.jsx)(b.Z,{mt:4,children:(0,y.jsxs)(k.Z,{children:[(0,y.jsx)(l.Z,{color:"secondary",onClick:n.onCancel,disabled:t,variant:"text",disableElevation:!0,children:"Batal"}),(0,y.jsx)(v.M,{isSubmitting:t,text:"Simpan"})]})})]})}})})},w=t(14997),E=function(){var n=(0,r.useState)(null),e=(0,a.Z)(n,2),t=e[0],s=e[1],Z=(0,x.I0)(),j=r.useRef(),b=r.useCallback((function(n,e){n.formMode=e,s(n)}),[]),k=r.useCallback((function(n){Z((0,h.PV)("Tingkatan berhasil disimpan")),j.current.onQueryChange(),C()}),[]),v=r.useCallback((function(){Z((0,h.Tl)("Tingkatan gagal disimpan"))}),[]),C=r.useCallback((function(){s(null)}),[]),S=r.useCallback((function(){return f.E$.remove(t).then((function(n){n.status?(j.current.onQueryChange(),Z((0,h.PV)("Tingkatan telah dihapus"))):Z((0,h.Tl)("Tingkatan gagal dihapus"))}))}),[t]);return(0,y.jsxs)(o.Z,{title:"Pengaturan Tingkatan",toolbar:(0,y.jsx)(l.Z,{variant:"contained",onClick:function(){return s(new m.GR)},children:"Tambah Tingkatan"}),children:[t&&("create"==t.formMode||"edit"==t.formMode)&&(0,y.jsx)(p.Z,{open:!0,title:t.isNewRecord?"Tambah Tingkatan":"Perbarui Tingkatan",children:(0,y.jsx)(c.Z,{children:(0,y.jsx)(R,{model:t,onCancel:C,onSaveFailed:v,onSaveSuccess:k})})}),t&&"delete"==t.formMode&&(0,y.jsx)(w.Z,{open:!0,onDeny:C,onConfirm:S,dialogTitle:"Hapus Tingkatan",title:"Yakin ingin menghapus Tingkatan <strong>".concat(t.name,"</strong> ?")}),(0,y.jsx)(d(),{title:"",tableRef:j,components:{Toolbar:function(){return(0,y.jsx)(y.Fragment,{})},Container:function(n){return(0,y.jsx)(u.Z,(0,i.Z)({},n))}},options:{search:!1,pageSize:10,sorting:!1,draggable:!1,actionsColumnIndex:-1},data:function(n){return new Promise((function(e,t){f.E$.findAll({page:n.page+1}).then((function(n){n.status?e({data:n.items,page:n.page-1,totalCount:n.totalCount}):e({data:[],page:0,totalCount:0})}))}))},columns:[{title:"Name",field:"name"},{title:"Kurikulum",field:"curriculum",render:function(n){return n.curriculum.name}},{title:"Dibuat",field:"createdAt",render:function(n){return(0,g.ss)(n.createdAt,"LL")}},{title:"Diperbarui",field:"updatedAt",render:function(n){return(0,g.ss)(n.updatedAt,"LL")}}],actions:[{icon:"create",tooltip:"Edit Tingkatan",onClick:function(n,e){e instanceof m.GR&&b(e,"edit"),Z((0,h.SR)())}},{icon:"delete",tooltip:"Hapus Tingkatan",iconProps:{color:"error"},onClick:function(n,e){e instanceof m.GR&&b(e,"delete")}}]})]})}},14997:function(n,e,t){var i=t(29439),a=t(1413),r=t(47313),o=t(71003),l=t(1001),c=t(50301),u=t(94469),s=t(33604),d=t(47605),f=t(69625),m=t(6961),h=t(69680),x=t(20791),g=t(65476),p=t(46417),Z=r.forwardRef((function(n,e){return(0,p.jsx)(c.Z,(0,a.Z)({direction:"up",ref:e},n))}));e.Z=function(n){var e=n.open,t=n.onDeny,a=n.onConfirm,c=n.title,j=n.dialogTitle,b=r.useState(!1),k=(0,i.Z)(b,2),v=k[0],C=k[1];return(0,p.jsxs)(u.Z,{TransitionComponent:Z,open:e,onClose:function(){return t(!1)},children:[(0,p.jsx)(s.Z,{children:(0,p.jsx)(d.Z,{component:"h4",variant:"h4",sx:{mb:3,fontWeight:h.F3.SEMI_BOLD},id:"alert-dialog-title",children:j})}),(0,p.jsx)(f.Z,{sx:{color:"text.secondary",fontSize:14},id:"alert-dialog-description",children:(0,g.ZP)("".concat(c))}),(0,p.jsxs)(m.Z,{sx:{pb:5,px:6},children:[(0,p.jsx)(o.Z,{variant:"outlined",sx:{fontWeight:h.F3.MEDIUM,mr:4},onClick:function(){return t(!1)},color:"secondary",children:(0,p.jsx)(l.Z,{id:"common.no"})}),(0,p.jsx)(x.M,{isSubmitting:v,onClick:function(){C(!0),a().finally((function(){C(!1),t(!1)}))},text:"Lanjutkan"})]})]})}},33187:function(n,e,t){var i=t(1413),a=(t(47313),t(19860)),r=t(24813),o=t(94469),l=t(33604),c=t(46417);e.Z=function(n){var e=(0,a.Z)(),t=(0,r.Z)(e.breakpoints.down("sm"));return(0,c.jsxs)(o.Z,(0,i.Z)((0,i.Z)({fullWidth:!0,fullScreen:t,maxWidth:"sm"},n),{},{children:[n.title&&(0,c.jsx)(l.Z,{children:n.title}),n.children]}))}}}]);