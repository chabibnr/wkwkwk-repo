"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[4040],{9939:function(n,e,t){t.r(e),t.d(e,{default:function(){return T}});var i=t(1413),a=t(29439),r=t(47313),o=t(92649),u=t(71003),l=t(69625),s=t(57775),c=t(44610),d=t(40490),f=t.n(d),m=t(16330),x=t(20466),h=t(67375),j=t(1084),k=t(33187),p=t(7410),Z=t(3463),b=t(57829),g=t(6961),v=t(20791),C=t(29417),S=t(56417),K=t(46417),L=Z.Ry({name:Z.Z_().required("Nama Kurikulum harus diisi")}),A=function(n){var e=new S.O(m.F8,{onSaveSuccess:n.onSaveSuccess,onSaveFailed:n.onSaveFailed});return(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(p.J9,{initialValues:n.model,validationSchema:L,onSubmit:function(n,t){return e.onSubmit(n,t)},children:function(e){var t=e.isSubmitting;return(0,K.jsxs)(p.l0,{children:[(0,K.jsx)(C.nv,{variant:"filled",name:"name",placeholder:"Nama Kurikulum",label:"Nama Kurikulum"}),(0,K.jsx)(b.Z,{mt:4,children:(0,K.jsx)(C.XZ,{title:"Status",name:"isActive",label:"Aktif"})}),(0,K.jsx)(b.Z,{mt:4,children:(0,K.jsxs)(g.Z,{children:[(0,K.jsx)(u.Z,{color:"secondary",onClick:n.onCancel,disabled:t,variant:"text",disableElevation:!0,children:"Batal"}),(0,K.jsx)(v.M,{isSubmitting:t,text:"Simpan"})]})})]})}})})},y=t(14997),F=t(70816),w=t.n(F),M=t(11193),N=function(n){var e=n.date,t=n.format,i=void 0===t?"LLLL":t;if(!e)return(0,K.jsx)(K.Fragment,{});e instanceof Date&&(e=w()(e));return(0,K.jsx)(M.Z,{title:e.format("LLLL"),children:(0,K.jsx)(b.Z,{sx:{display:"inline"},children:function(){var n=e;return n.isAfter(w()().subtract(6,"days"))?n.fromNow():n.format(i)}()})})},T=function(){var n=(0,r.useState)(null),e=(0,a.Z)(n,2),t=e[0],d=e[1],p=(0,j.I0)(),Z=r.useRef(),b=r.useCallback((function(n,e){n.formMode=e,d(n)}),[]),g=r.useCallback((function(n){p((0,h.PV)("Kurikulum berhasil disimpan")),Z.current.onQueryChange(),C()}),[]),v=r.useCallback((function(){p((0,h.Tl)("Kurikulum gagal disimpan"))}),[]),C=r.useCallback((function(){d(null)}),[]),S=r.useCallback((function(){return m.F8.remove(t).then((function(n){n.status?(Z.current.onQueryChange(),p((0,h.PV)("Kurikulum telah dihapus"))):p((0,h.Tl)("Kurikulum gagal dihapus"))}))}),[t]);return(0,K.jsxs)(o.Z,{title:"Pengaturan Kurikulum",toolbar:(0,K.jsx)(u.Z,{variant:"contained",onClick:function(){return d(new x.NX)},children:"Tambah Kurikulum"}),children:[t&&("create"==t.formMode||"edit"==t.formMode)&&(0,K.jsx)(k.Z,{open:!0,title:t.isNewRecord?"Tambah Kurikulum":"Perbarui Kurikulum",children:(0,K.jsx)(l.Z,{children:(0,K.jsx)(A,{model:t,onCancel:C,onSaveFailed:v,onSaveSuccess:g})})}),t&&"delete"==t.formMode&&(0,K.jsx)(y.Z,{open:!0,onDeny:C,onConfirm:S,dialogTitle:"Hapus Kurikulum",title:"Yakin ingin menghapus kurikulum <strong>".concat(t.name,"</strong> ?")}),(0,K.jsx)(f(),{title:"",tableRef:Z,components:{Toolbar:function(){return(0,K.jsx)(K.Fragment,{})},Container:function(n){return(0,K.jsx)(s.Z,(0,i.Z)({},n))}},options:{search:!1,pageSize:10,sorting:!1,draggable:!1,actionsColumnIndex:-1},data:function(n){return new Promise((function(e,t){m.F8.findAll({page:n.page+1}).then((function(n){n.status?e({data:n.items,page:n.page-1,totalCount:n.totalCount}):e({data:[],page:0,totalCount:0})}))}))},columns:[{title:"Nama",field:"name"},{title:"Status",field:"isActive",render:function(n){return n.isActive?(0,K.jsx)(c.Z,{label:"Aktif",color:"success",size:"small",variant:"outlined"}):(0,K.jsx)(c.Z,{color:"error",label:"Tidak Aktif",size:"small",variant:"outlined"})}},{title:"Dibuat",field:"createdAt",render:function(n){return(0,K.jsx)(N,{date:n.createdAt,format:"LL"})}},{title:"Diperbarui",field:"updatedAt",render:function(n){return(0,K.jsx)(N,{date:n.updatedAt,format:"LL"})}}],actions:[{icon:"create",tooltip:"Edit Kurikulum",onClick:function(n,e){e instanceof x.NX&&b(e,"edit"),p((0,h.SR)())}},{icon:"delete",tooltip:"Hapus Kurikulum",iconProps:{color:"error"},onClick:function(n,e){e instanceof x.NX&&b(e,"delete")}}]})]})}},14997:function(n,e,t){var i=t(29439),a=t(1413),r=t(47313),o=t(71003),u=t(1001),l=t(50301),s=t(94469),c=t(33604),d=t(47605),f=t(69625),m=t(6961),x=t(69680),h=t(20791),j=t(65476),k=t(46417),p=r.forwardRef((function(n,e){return(0,k.jsx)(l.Z,(0,a.Z)({direction:"up",ref:e},n))}));e.Z=function(n){var e=n.open,t=n.onDeny,a=n.onConfirm,l=n.title,Z=n.dialogTitle,b=r.useState(!1),g=(0,i.Z)(b,2),v=g[0],C=g[1];return(0,k.jsxs)(s.Z,{TransitionComponent:p,open:e,onClose:function(){return t(!1)},children:[(0,k.jsx)(c.Z,{children:(0,k.jsx)(d.Z,{component:"h4",variant:"h4",sx:{mb:3,fontWeight:x.F3.SEMI_BOLD},id:"alert-dialog-title",children:Z})}),(0,k.jsx)(f.Z,{sx:{color:"text.secondary",fontSize:14},id:"alert-dialog-description",children:(0,j.ZP)("".concat(l))}),(0,k.jsxs)(m.Z,{sx:{pb:5,px:6},children:[(0,k.jsx)(o.Z,{variant:"outlined",sx:{fontWeight:x.F3.MEDIUM,mr:4},onClick:function(){return t(!1)},color:"secondary",children:(0,k.jsx)(u.Z,{id:"common.no"})}),(0,k.jsx)(h.M,{isSubmitting:v,onClick:function(){C(!0),a().finally((function(){C(!1),t(!1)}))},text:"Lanjutkan"})]})]})}},33187:function(n,e,t){var i=t(1413),a=(t(47313),t(19860)),r=t(24813),o=t(94469),u=t(33604),l=t(46417);e.Z=function(n){var e=(0,a.Z)(),t=(0,r.Z)(e.breakpoints.down("sm"));return(0,l.jsxs)(o.Z,(0,i.Z)((0,i.Z)({fullWidth:!0,fullScreen:t,maxWidth:"sm"},n),{},{children:[n.title&&(0,l.jsx)(u.Z,{children:n.title}),n.children]}))}}}]);