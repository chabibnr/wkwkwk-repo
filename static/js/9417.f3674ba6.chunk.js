"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[9417],{29417:function(e,t,n){n.d(t,{XZ:function(){return g},ou:function(){return w},ML:function(){return O},Ph:function(){return x},Kx:function(){return Z},nv:function(){return d}});var i=n(1413),r=n(29439),o=n(79842),l=n(8047),a=n(47313),u=n(46417),d=function(e){var t=(0,o.U$)(e),n=(0,r.Z)(t,2),a=n[0],d=n[1],c=d.error&&d.touched?d.error:"",s=(0,i.Z)({},e);return"filled"===e.variant&&(s.InputProps={disableUnderline:!0,style:{borderRadius:8}}),(0,u.jsx)(l.Z,(0,i.Z)((0,i.Z)({helperText:c,error:!!c,fullWidth:!0},s),a))},c=n(57204),s=n(5178),p=n(69746),f=n(69173),h=n(49969),m=n(20715),g=function(e){var t=(0,o.U$)(e),n=(0,r.Z)(t,2),l=n[0],a=n[1],d=a.error&&a.touched?a.error:"";return(0,u.jsxs)(c.Z,{component:"fieldset",error:!!d,children:[(0,u.jsx)(s.Z,{component:"legend",children:e.title}),(0,u.jsx)(p.Z,{children:(0,u.jsx)(f.Z,(0,i.Z)({control:(0,u.jsx)(h.Z,(0,i.Z)((0,i.Z)({checked:l.value},e),{},{onChange:l.onChange}))},e))}),(0,u.jsx)(m.Z,{children:d})]})},v=n(47992),b=n(68721),x=a.forwardRef((function(e,t){var n=(0,o.U$)(e),i=(0,r.Z)(n,2),l=i[0],d=i[1],s=d.error&&d.touched?d.error:"";return a.useImperativeHandle(t,(function(){return{initOnLoad:function(){console.log("x")}}})),(0,u.jsxs)(c.Z,{fullWidth:e.fullWidth,error:!!s,variant:e.variant,children:[(0,u.jsx)(v.Z,{children:e.label}),(0,u.jsx)(b.Z,{disableUnderline:"filled"===e.variant,labelId:"".concat(l.name,"-select-label"),id:"".concat(l.name,"-label"),name:l.name,value:l.value,onChange:l.onChange,style:"filled"===e.variant?{borderRadius:8}:void 0,children:e.children}),(0,u.jsx)(m.Z,{children:s})]})})),Z=function(e){var t=(0,o.U$)(e),n=(0,r.Z)(t,2),a=n[0],d=n[1],c=d.error&&d.touched?d.error:"";return(0,u.jsx)(l.Z,(0,i.Z)((0,i.Z)((0,i.Z)({multiline:!0},e),a),{},{helperText:c,error:!!c,fullWidth:!0}))},j=n(74359),y=n(1082),C=n(80836),k=n(74109),w=function(e){var t=(0,o.U$)(e),n=(0,r.Z)(t,2),a=n[0],d=n[1],c=d.error&&d.touched?d.error:"",s=(0,i.Z)({},e),p={disableUnderline:"filled"===e.variant,style:{borderRadius:8},endAdornment:(0,u.jsx)(y.Z,{position:"end",children:(0,u.jsx)(C.Z,{children:(0,u.jsx)(k.Z,{})})})};return(0,u.jsx)(j.W,(0,i.Z)((0,i.Z)({renderInput:function(e){return(0,u.jsx)(l.Z,(0,i.Z)((0,i.Z)({},e),{},{fullWidth:!0,variant:"filled",InputProps:p}))}},a),{},{inputVariant:e.variant,helperText:c,error:!!c,fullWidth:!0,ampm:!1,value:a.value,onChange:function(e){a.onChange({target:{name:a.name,value:e}})}},s))},U=n(7155),_=n(57829),R=n(98668),I=n(94469),P=n(33604),W=n(69625),D=n(6961),S=n(71003),A=n(80614),T=n(16330),L=n(65476),M=n(20791),z=n(93233),V=n.n(z),$=n(69737),E={flex:1,display:"flex",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#ffffff",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out",height:100},F={borderColor:"#2196f3"},B={borderColor:"#00e676"},H={borderColor:"#ff1744"},Y={image:{type:"image",title:"Unggah Gambar",accepted:"image/*"},doc:{type:"doc",title:"Unggah Dokumen",accepted:"application/pdf,.pdf,.doc,.docx"},attachment:{type:"attachment",title:"Unggah Attachment",accepted:"*"},audio:{type:"audio",title:"Unggah Audio",accepted:"audio/*"},video:{type:"video",title:"Unggah Video",accepted:"video/*"},youtube:{type:"youtube",title:"Tempelkan Video dari Youtube",accepted:"video/*"}},N=function(e){var t=e.initialValue,n=e.setData,o=e.placeholder,d=e.setEditor,c=e.onBeforePaste,s=(0,$.f)().user,p=(0,a.useRef)(null),f=(0,a.useRef)(null),h=a.useState(null),m=(0,r.Z)(h,2),g=m[0],v=m[1],b=a.useState(!1),x=(0,r.Z)(b,2),Z=x[0],j=x[1],y=a.useState(null),C=(0,r.Z)(y,2),k=C[0],w=C[1],z=a.useState(!1),N=(0,r.Z)(z,2),O=N[0],G=N[1],J=a.useState(null),K=(0,r.Z)(J,2),X=K[0],q=K[1],Q=a.useState(null),ee=(0,r.Z)(Q,2),te=ee[0],ne=ee[1],ie=a.useCallback((function(e){var t=e[0];console.log(t),v(t),"doc"!==(null===te||void 0===te?void 0:te.type)&&q(URL.createObjectURL(t)),G(!1)}),[te]),re=(0,A.uI)({accept:"image/*"}),oe=re.isDragActive,le=re.isDragAccept,ae=re.isDragReject,ue=(0,a.useMemo)((function(){return(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},E),oe?F:{}),le?B:{}),ae?H:{})}),[oe,le,ae]),de=a.useState(!1),ce=(0,r.Z)(de,2),se=ce[0],pe=ce[1],fe=function(){pe(!1),v(null),q(null)};(0,a.useEffect)((function(){console.log(p)}),[]);var he=a.useCallback((function(e,t){pe(!0),ne(Y[e]),f.current=t}),[]),me=function(e){if(null!=g||null!=k||""!==k){var t=null===te||void 0===te?void 0:te.type;if(console.log(t,e),"image"===t)return"<img src='".concat(e,"' />");if("youtube"===t&&k){var n=V()(null!==k&&void 0!==k?k:"");return null==n?"Url tidak valid":'<iframe width="420" height="315"\n            src="https://www.youtube.com/embed/'.concat(n,'?rel=0" frameborder="0">\n            </iframe>')}if("video"===t&&null!=g)return"<video controls preload='none'>\n            <source src='".concat(e,"' type='").concat(g.type,"' />\n            Your browser does not support the video tag.\n            </video>");if("audio"===t)return"<audio src='".concat(e,"' controls preload='none'></audio>");if("doc"===t)return""==e?"Preview tidak tersedia untuk dokumen":'<iframe class="doc-viewer" style="width: 100%" height="500"\n            src="https://docs.google.com/viewer?url='.concat(e,'&embedded=true" frameborder="0">\n            </iframe>')}};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(I.Z,{open:se,onClose:fe,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,u.jsx)(P.Z,{id:"alert-dialog-title",children:null===te||void 0===te?void 0:te.title}),(0,u.jsx)(W.Z,{children:(0,u.jsx)(_.Z,{width:"500px",children:null!=g||"youtube"===(null===te||void 0===te?void 0:te.type)&&k?(console.log("preview called"),O?(0,u.jsxs)(_.Z,{textAlign:"center",children:[(0,u.jsx)(_.Z,{children:"Memuat Preview"}),(0,u.jsx)(_.Z,{children:(0,u.jsx)(R.Z,{})})]}):null!=k&&""!==k?(0,u.jsx)(_.Z,{sx:{"& > *":{width:"100%"}},children:(0,L.ZP)("".concat(me("")))}):null!=g?(0,u.jsx)(_.Z,{sx:{"& > *":{width:"100%"}},children:(0,L.ZP)("".concat(me(null!==X&&void 0!==X?X:"")))}):void 0):"youtube"===(null===te||void 0===te?void 0:te.type)?(0,u.jsx)(_.Z,{mt:4,children:(0,u.jsx)(l.Z,{id:"outlined-basic",label:"URL Youtube",variant:"outlined",fullWidth:!0,onChange:function(e){w(e.currentTarget.value)}})}):(0,u.jsx)(_.Z,{children:(0,u.jsx)(_.Z,{children:(0,u.jsx)(A.ZP,{multiple:!1,maxFiles:1,onDrop:ie,accept:null===te||void 0===te?void 0:te.accepted,children:function(e){var t=e.getRootProps,n=e.getInputProps;return(0,u.jsx)("section",{children:(0,u.jsxs)("div",(0,i.Z)((0,i.Z)({},t({style:ue})),{},{children:[(0,u.jsx)("input",(0,i.Z)({},n())),(0,u.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]}))})}})})})})}),(0,u.jsxs)(D.Z,{children:[(0,u.jsx)(S.Z,{onClick:fe,color:"inherit",variant:"text",disableElevation:!0,children:"Batal"}),g||"youtube"===(null===te||void 0===te?void 0:te.type)&&k?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(S.Z,{onClick:function(){return v(null),void w(null)},variant:"outlined",children:"Hapus"}),(0,u.jsx)(M.M,{onClick:function(){var e;if("youtube"===(null===te||void 0===te?void 0:te.type)&&k)return null===(e=f.current)||void 0===e||e.execCommand("mceInsertContent",!1,me(null!==k&&void 0!==k?k:"")),void fe();if(g){var t;j(!0);var n=new Date,i=g.name.split("."),r=(null!==(t=null===s||void 0===s?void 0:s.uid)&&void 0!==t?t:"unknown-user")+"-"+n.getMilliseconds()+"."+i[i.length-1],o=new FormData;o.append("filename",r),o.append("file",g,g.name),T.RJ.image(o).then((function(e){var t,n,i;null===(t=f.current)||void 0===t||t.execCommand("mceInsertContent",!1,me(null!==(n=null===(i=e.item)||void 0===i?void 0:i.url)&&void 0!==n?n:"")),fe(),j(!1)}))}},text:"youtube"===(null===te||void 0===te?void 0:te.type)&&k?"Tambahkan":"Unggah",isSubmitting:Z,color:"primary",variant:"outlined"})]}):null]})]}),(0,u.jsx)(U.M,{onInit:function(e,t){p.current=t,d&&d(t)},onChange:function(){console.log(p.current.getContent()),p.current&&n&&n("content",p.current.getContent())},initialValue:t,init:{menubar:!1,statusbar:!1,placeholder:o,setup:function(e){},some_setting:1,media_live_embeds:!0,autoresize_bottom_margin:10,contextmenu:"link image media table",fontsize_formats:"8pt 10pt 12pt 14pt 16pt 18pt 24pt 36pt 48pt",plugins:"autoresize image media link lists charmap table file-handler",toolbar:"formatgroup bold italic underline strikethrough aligngroup paragraphgroup",toolbar_groups:{formatgroup:{icon:"format",tooltip:"Formatting",items:"formatselect | fontsizeselect | forecolor backcolor | superscript subscript | removeformat "},aligngroup:{icon:"align-justify",tooltip:"Text Align",items:"alignleft aligncenter alignright alignjustify"},paragraphgroup:{icon:"paragraph",tooltip:"Paragraph format",items:"h1 h2 h3 | bullist numlist | indent outdent"},insertgroup:{icon:"plus",tooltip:"Insert",items:"file-handler-image | file-handler-audio | file-handler-video | file-handler-youtube | file-handler-doc "}},open_file_picker:he,paste_preprocess:function(e,t){return c&&c(p,t)},content_style:'body { font-family:Poppins,Helvetica,Arial,sans-serif; font-size:14px }audio,img{max-width: 100% !important}[data-mce-object="video"]{width: 100%}video{width: 100% !important; height: auto !important}',toolbar_location:"top",external_plugins:{"file-handler":"/plugins/file-handler/plugin.min.js"},mobile:{theme:"silver",menubar:!1,toolbar_location:"top",toolbar:"bold italic underline file-handler-image file-handler-audio file-handler-video "},style_formats:[{title:"Image Left",selector:"img",styles:{float:"left",margin:"0 10px 0 10px"}},{title:"Image Right",selector:"img",styles:{float:"right",margin:"0 0 10px 10px"}}]}})]})},O=a.forwardRef((function(e,t){var n=(0,a.useRef)(),i=(0,a.useRef)(),l=(0,o.U$)(e),d=(0,r.Z)(l,2),s=d[0],p=d[1],f=p.error&&p.touched?p.error:"";return"string"!==typeof n.current&&(n.current="string"===typeof s.value?s.value:""),a.useImperativeHandle(t,(function(){return{resetEditor:function(){i.current&&console.log(i.current.setContent(""))}}})),(0,u.jsxs)(c.Z,{fullWidth:e.fullWidth,error:!!f,children:[(0,u.jsx)(v.Z,{id:"-select-label",children:e.label}),(0,u.jsx)(N,{onBeforePaste:e.onBeforePaste,setEditor:function(e){return i.current=e},initialValue:n.current,placeholder:e.placeholder,setData:function(e,t){s.onChange({target:{name:s.name,value:t}})}}),(0,u.jsx)(m.Z,{children:f})]})}))},20791:function(e,t,n){n.d(t,{M:function(){return a}});n(47313);var i=n(57829),r=n(71003),o=n(98668),l=n(46417),a=function(e){var t=e.isSubmitting,n=e.disabled,a=void 0!==n&&n,u=e.color,d=void 0===u?"primary":u,c=e.variant,s=void 0===c?"outlined":c,p=e.className,f=void 0===p?"":p,h=e.fullWidth,m=void 0!==h&&h,g=e.text,v=e.onClick;return(0,l.jsxs)(i.Z,{sx:{position:"relative",display:m?"block":"inline-block"},children:[(0,l.jsx)(r.Z,{type:"submit",onClick:v,color:d,variant:s,disabled:t||a,className:f,fullWidth:m,children:g}),t&&(0,l.jsx)(o.Z,{size:20,style:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})]})}}}]);