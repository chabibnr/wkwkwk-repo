"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[6209],{15882:function(e,n,i){i.r(n),i.d(n,{default:function(){return w}});var t=i(47313),s=i(92649),a=i(57829),r=i(69625),o=i(97741),l=i(6961),u=i(29417),c=i(20791),d=i(79842),h=i(3463),m=i(56417),x=i(16330),f=i(67375),v=i(1084),p=i(1413),S=i(29439),Z=i(46417),b=function(e){var n=t.useState([]),i=(0,S.Z)(n,2),s=i[0],a=i[1];t.useEffect((function(){r()}),[]);var r=function(){x.xJ.findAll({page:0}).then((function(e){var n;a(null!==(n=e.items)&&void 0!==n?n:[])}))};return(0,Z.jsx)(u.Ph,(0,p.Z)((0,p.Z)({},e),{},{children:s.map((function(n,i){return(0,Z.jsx)(o.Z,{value:n.id,children:n.name},"".concat(e.name,"-select-option-").concat(i))}))}))},j=i(97890),k=h.Ry({username:h.Z_().required("Username harus diisi"),email:h.Z_().email("Masukan format email yang benar").required("Email harus diisi"),password:h.Z_().required("Kata sandi harus diisi"),firstname:h.Z_().required("Nama Depan harus diisi"),surname:h.Z_().required("Nama Belakang harus diisi"),gender:h.Z_().required("Jenis Kelamin harus dipilih")}),g=function(e){var n=(0,v.I0)(),i=(0,j.s0)(),t=new m.O(x.yH,{onSaveSuccess:function(e){n((0,f.SR)()),n((0,f.PV)("Pegawai telah ditambahkan")),i(-1)},onSaveFailed:function(){n((0,f.SR)()),n((0,f.Tl)("Pegawai gagal ditambahkan,<br/>username atau email mungkin sudah digunakan."))}});return(0,Z.jsx)(d.J9,{initialValues:e.model,validationSchema:k,onSubmit:function(e,n){return t.onSubmit(e,n)},children:function(e){var n=e.isSubmitting;return(0,Z.jsx)(a.Z,{component:d.l0,children:(0,Z.jsxs)(r.Z,{children:[(0,Z.jsx)(a.Z,{mb:8,children:(0,Z.jsx)(u.nv,{name:"username",label:"Username"})}),(0,Z.jsx)(a.Z,{mb:8,children:(0,Z.jsx)(u.nv,{name:"email",label:"Email"})}),(0,Z.jsx)(a.Z,{mb:8,children:(0,Z.jsx)(u.nv,{name:"password",label:"Password",type:"password"})}),(0,Z.jsx)(a.Z,{mb:8,children:(0,Z.jsx)(u.nv,{name:"firstname",label:"Nama Depan"})}),(0,Z.jsx)(a.Z,{mb:8,children:(0,Z.jsx)(u.nv,{name:"surname",label:"Nama Belakang"})}),(0,Z.jsx)(a.Z,{mb:8,children:(0,Z.jsxs)(u.Ph,{name:"gender",label:"Jenis Kelamin",fullWidth:!0,children:[(0,Z.jsx)(o.Z,{value:"male",children:"Laki-laki"}),(0,Z.jsx)(o.Z,{value:"female",children:"Perempuan"})]})}),(0,Z.jsx)(a.Z,{mb:8,children:(0,Z.jsx)(b,{name:"role",label:"Pilih Jabatan",fullWidth:!0})}),(0,Z.jsx)(l.Z,{children:(0,Z.jsx)(c.M,{isSubmitting:n,text:"Simpan"})})]})})}})},y=i(62847),B=i(94614),w=function(){return(0,Z.jsx)(s.Z,{showBackButton:!0,title:"Tambah Pegawai Baru",children:(0,Z.jsx)(B.CP,{children:(0,Z.jsx)(g,{model:new y.RB})})})}},92649:function(e,n,i){i.d(n,{Z:function(){return w},W:function(){return B}});var t=i(29439),s=i(57829),a=i(34499),r=i(37429),o=i(80836),l=i(83213),u=i(47313),c=i(26672),d=i(97890),h=i(94614),m=i(4942),x=i(57451),f=i(21212),v=i(57775),p=i(50301),S=i(86302),Z=i(1084),b=i(67375),j=i(46417),k=function(e){var n=e.isAppDrawerOpen,i=e.sidebarContent,t=(0,Z.I0)();return(0,j.jsx)(p.Z,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,j.jsxs)(s.Z,{sx:{width:{lg:280}},children:[(0,j.jsx)(x.Z,{lgUp:!0,children:(0,j.jsx)(f.ZP,{open:n,onClose:function(){return t((0,b.Y1)())},sx:(0,m.Z)({position:"absolute"},"& .".concat(S.Z.paper),{width:280,"& .listItem":{zIndex:1305}}),children:i})}),(0,j.jsx)(x.Z,{lgDown:!0,children:(0,j.jsx)(v.Z,{style:{height:"100%"},children:i})})]})})},g=i(19406),y=u.createContext({setTitle:function(e){},setSubtitle:function(e){},setShowBackButton:function(e){},setOnBackButtonPress:function(e){},setToolbar:function(e){},resetLayout:function(){}}),B=function(){return(0,u.useContext)(y)},w=function(e){var n=(0,u.useState)(),i=(0,t.Z)(n,2),m=i[0],x=i[1],f=(0,u.useState)(e.toolbar),v=(0,t.Z)(f,2),p=v[0],S=v[1],b=(0,u.useState)(),B=(0,t.Z)(b,2),w=B[0],_=B[1],P=(0,u.useState)(e.showBackButton),C=(0,t.Z)(P,2),T=C[0],O=C[1],F=(0,u.useState)(e.fullView),I=(0,t.Z)(F,2),D=I[0],q=(I[1],(0,u.useState)()),A=(0,t.Z)(q,2),E=A[0],J=A[1],N=(0,u.useState)(e.sidebarContent),R=(0,t.Z)(N,2),U=R[0],V=(R[1],(0,u.useState)(e.contentPadding)),z=(0,t.Z)(V,2),K=z[0],L=(z[1],(0,d.s0)()),W=(0,u.useCallback)((function(){L(-1)}),[history]),M=((0,Z.I0)(),(0,Z.v9)((function(e){return e.common})).isAppDrawerOpen),H=(0,g.l5)().footer,Y=((0,g.l5)().navStyle,null!==m&&void 0!==m?m:e.title),G=null!==w&&void 0!==w?w:e.subTitle,Q=null!==p&&void 0!==p?p:e.toolbar,X=null!==T&&void 0!==T?T:e.showBackButton,$=null!==E&&void 0!==E?E:e.onBackButtonPress;return(0,u.useEffect)((function(){document.title=null!==Y&&void 0!==Y?Y:"AFresto System Indonesia"}),[Y]),(0,j.jsx)(y.Provider,{value:{setTitle:x,setSubtitle:_,setOnBackButtonPress:J,setShowBackButton:O,setToolbar:S,resetLayout:function(){x(void 0),_(void 0),O(void 0),J(void 0),S(void 0)}},children:(0,j.jsxs)(s.Z,{children:[Y&&(0,j.jsxs)(a.ZP,{component:"div",sx:{backgroundColor:"#fff",borderBottom:"1px solid #ccc",position:"sticky",top:"70px",zIndex:99},secondaryAction:Q,children:[X&&(0,j.jsx)(r.Z,{children:(0,j.jsx)(o.Z,{onClick:null!==$&&void 0!==$?$:W,children:(0,j.jsx)(c.x_l,{})})}),(0,j.jsx)(l.Z,{primary:Y,primaryTypographyProps:{fontSize:20},secondary:G})]}),(0,j.jsx)(h.uc,{animation:"transition.slideUpIn",delay:200,children:(0,j.jsx)(s.Z,{sx:{p:null!==K&&void 0!==K?K:{xs:5,md:7.5,xl:12.5}},children:U?(0,j.jsxs)(s.Z,{sx:{display:"flex"},children:[U?(0,j.jsx)(s.Z,{children:(0,j.jsx)(k,{isAppDrawerOpen:M,footer:H,fullView:D,sidebarContent:U})}):null,(0,j.jsx)(s.Z,{sx:{display:"flex",flexDirection:"column",width:{xs:"100%",lg:"calc(100% - ".concat(D?0:280,"px)")},pl:{lg:D?0:8}},children:e.children})]}):e.children})})]})})}},56417:function(e,n,i){i.d(n,{O:function(){return a}});var t=i(15671),s=i(43144),a=function(){function e(n,i,s){(0,t.Z)(this,e),this.repository=void 0,this._onSaveSuccess=void 0,this._onSaveFailed=void 0,this._onBeforeSubmit=void 0,this.repository=n,this._onSaveSuccess=i.onSaveSuccess,this._onSaveFailed=i.onSaveFailed,this._onBeforeSubmit=null===s||void 0===s?void 0:s.onBeforeSubmit}return(0,s.Z)(e,[{key:"submitToServer",value:function(e){return this._onBeforeSubmit&&(e=this._onBeforeSubmit(e)),e.id?this.repository.update(e):this.repository.create(e)}},{key:"onSubmit",value:function(e,n,i){var t=this,s=n.setSubmitting,a=n.resetForm;s(!0),this.submitToServer(e).then((function(e){e.status?(!0===i&&a(),t._onSaveSuccess&&t._onSaveSuccess(e.item)):t._onSaveFailed&&t._onSaveFailed(),s(!1)}))}}]),e}()}}]);