"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[859],{99492:function(e,i,n){n.r(i),n.d(i,{default:function(){return P}});n(47313);var t=n(7410),s=n(3463),a=n(19641),l=n(57775),r=n(51057),o=n(57829),u=n(48899),c=n(97741),d=n(71003),h=n(20791),m=n(16330),v=n(29417),x=n(56417),S=n(92649),j=n(97890),f=n(46417),p=s.Ry({name:s.Z_().required("Judul harus diisi"),content:s.Z_().required("Konten harus diisi")}),b=function(e){var i=(0,j.s0)(),n=new x.O(m.Xv,{onSaveSuccess:e.onSaveSuccess,onSaveFailed:e.onSaveFailed});return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(S.Z,{title:"Form Artikel",subTitle:e.model.name,showBackButton:!0,onBackButtonPress:function(){return i("/topic/".concat(e.model.id,"/article"),{replace:!0})},children:(0,f.jsx)(t.J9,{initialValues:e.model,validationSchema:p,onSubmit:function(e,i){return n.onSubmit(e,i)},children:function(i){var n=i.isSubmitting;return(0,f.jsx)(t.l0,{children:(0,f.jsxs)(a.ZP,{container:!0,spacing:8,children:[(0,f.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:7,lg:8,children:(0,f.jsx)(l.Z,{children:(0,f.jsx)(r.Z,{children:(0,f.jsxs)(o.Z,{width:"100%",children:[(0,f.jsx)(v.nv,{placeholder:"Tuliskan Judul Materi",fullWidth:!0,InputProps:{"aria-label":"title",disableUnderline:!0},name:"name"}),(0,f.jsx)(o.Z,{width:"100%",mt:8,children:(0,f.jsx)(v.ML,{name:"content",fullWidth:!0})})]})})})}),(0,f.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:5,lg:4,children:(0,f.jsx)(o.Z,{style:{position:"sticky",top:"4rem"},children:(0,f.jsxs)(a.ZP,{container:!0,spacing:8,children:[(0,f.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:12,children:(0,f.jsxs)(l.Z,{children:[(0,f.jsx)(u.Z,{titleTypographyProps:{variant:"subtitle2",style:{fontWeight:"bold"}},title:"Waktu pelaksanaan",subheader:"Jadwalkan kapan materi ini akan di ajarkan"}),(0,f.jsxs)(r.Z,{children:[(0,f.jsx)(o.Z,{mb:8,children:(0,f.jsx)(v.ou,{label:"Waktu Mulai",name:"startDate",variant:"filled"})}),(0,f.jsx)(o.Z,{children:(0,f.jsx)(v.ou,{label:"Waktu Selesai",name:"endDate",variant:"filled"})})]})]})}),(0,f.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:12,children:(0,f.jsxs)(l.Z,{children:[(0,f.jsx)(u.Z,{titleTypographyProps:{variant:"subtitle2",style:{fontWeight:"bold"}},title:"Siap untuk disimpan?",subheader:"Klik simpan untuk menyimpan semua perubahan."}),(0,f.jsxs)(r.Z,{children:[(0,f.jsx)(o.Z,{mb:4,children:(0,f.jsxs)(v.Ph,{name:"isPublish",label:"Publish",fullWidth:!0,variant:"filled",children:[(0,f.jsx)(c.Z,{value:"true",children:"Publikasikan"}),(0,f.jsx)(c.Z,{value:"false",children:"Draft"})]})}),(0,f.jsxs)(a.ZP,{container:!0,spacing:4,children:[(0,f.jsx)(a.ZP,{item:!0,xs:!0,children:(0,f.jsx)(d.Z,{fullWidth:!0,color:"secondary",onClick:e.onCancel,disabled:n,variant:"contained",disableElevation:!0,children:"Batal"})}),(0,f.jsx)(a.ZP,{item:!0,xs:!0,children:(0,f.jsx)(h.M,{fullWidth:!0,isSubmitting:n,text:"Simpan"})})]})]})]})})]})})})]})})}})})})},Z=n(11579),k=n(1084),y=n(67375),P=function(e){var i=(0,j.UO)().topicId,n=(0,j.s0)(),t=(0,k.I0)(),s=(0,Z.useQuery)(["view-topic",i],(function(){return m.Xv.view(null!==i&&void 0!==i?i:"")})).data;return(0,f.jsx)(f.Fragment,{children:s&&s.item&&(0,f.jsx)(b,{model:s.item,onSaveSuccess:function(e){t((0,y.PV)("Berhasil disimpan")),n("/topic/".concat(e.id,"/article"))},onSaveFailed:function(){t((0,y.Tl)("Internal Error: Gagal menyimpan "))},onCancel:function(){}})})}},56417:function(e,i,n){n.d(i,{O:function(){return a}});var t=n(15671),s=n(43144),a=function(){function e(i,n,s){(0,t.Z)(this,e),this.repository=void 0,this._onSaveSuccess=void 0,this._onSaveFailed=void 0,this._onBeforeSubmit=void 0,this.repository=i,this._onSaveSuccess=n.onSaveSuccess,this._onSaveFailed=n.onSaveFailed,this._onBeforeSubmit=null===s||void 0===s?void 0:s.onBeforeSubmit}return(0,s.Z)(e,[{key:"submitToServer",value:function(e){return this._onBeforeSubmit&&(e=this._onBeforeSubmit(e)),e.id?this.repository.update(e):this.repository.create(e)}},{key:"onSubmit",value:function(e,i,n){var t=this,s=i.setSubmitting,a=i.resetForm;s(!0),this.submitToServer(e).then((function(e){e.status?(!0===n&&a(),t._onSaveSuccess&&t._onSaveSuccess(e.item)):t._onSaveFailed&&t._onSaveFailed(),s(!1)}))}}]),e}()}}]);