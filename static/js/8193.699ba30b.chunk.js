"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[8193],{52101:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var i=t(29439),o=t(47313),r=t(85523),a=t(57775),s=t(51057),l=t(57829),d=t(47605),c=t(83213),u=t(83061),x=t(2682),m=t(29466),h=t(46417),f=function(e){var n=e.model;return(0,h.jsx)(l.Z,{component:m.rU,sx:{textDecoration:"none"},to:"/assignment/".concat(n.id,"/detail"),children:(0,h.jsxs)(a.Z,{className:(0,u.Z)("card-hover"),children:[(0,h.jsxs)(l.Z,{sx:{backgroundImage:"url(/assets/images/assignment.jpg)",color:"#fff",borderRadius:"16px",padding:2,height:"200px",textAlign:"center",backgroundSize:"cover",display:"grid",alignItems:"center",margin:2,position:"relative"},children:[(0,h.jsx)(l.Z,{sx:{position:"absolute",bottom:0,left:0,right:0,padding:"8px 16px",borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px",background:"rgba(0,0,0,.7)"},children:n.name}),(0,h.jsx)(a.Z,{elevation:6,sx:{width:60,height:40,position:"absolute",top:"10px",right:"10px",background:function(e){return e.palette.warning.main},borderRadius:"8px",textAlign:"center",color:"#fff",padding:"3px",display:"flex",alignmentItems:"center",justifyContent:"center",flexDirection:"column"},children:(0,h.jsx)(d.Z,{fontSize:"14px",children:"Tugas"})})]}),(0,h.jsx)(s.Z,{sx:{textAlign:"left",padding:3},children:(0,h.jsx)(l.Z,{display:"flex",alignItems:"center",children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(c.Z,{primary:"Dimulai Pada",secondary:(0,x.ss)(n.createdAt)})})})})]})})},p=t(94614),v=t(92649),g=t(16330),b=t(69737),Z=t(20466),j=t(88913),S=t(44894),k=t(97890),y=t(33187),B=t(7410),_=t(3463),A=t(69625),I=t(6961),R=t(71003),D=t(20791),w=t(29417),T=t(56417),C=t(1084),F=t(67375),P=_.Ry({name:_.Z_().required("Judul Artikel harus diisi")}),z=function(e){var n=(0,C.I0)(),t=((0,k.s0)(),new T.O(g.Xv,{onSaveSuccess:function(e){n((0,F.PV)("Artikel Telah ditambahkan"))},onSaveFailed:function(){n((0,F.Tl)("Artikel Telah ditambahkan"))}},{onBeforeSubmit:function(e){return e.content="",e.type=Z.oz.ARTICLE,e}}));return(0,h.jsx)(y.Z,{open:!0,title:"Tambah Artikel baru",children:(0,h.jsx)(B.J9,{initialValues:e.model,validationSchema:P,onSubmit:function(e,n){return t.onSubmit(e,n)},children:function(n){var t=n.isSubmitting;return(0,h.jsxs)(l.Z,{component:B.l0,children:[(0,h.jsxs)(A.Z,{children:[(0,h.jsx)(l.Z,{mb:8,children:(0,h.jsx)(w.nv,{variant:"filled",name:"name",label:"Judul Artikel"})}),(0,h.jsx)(l.Z,{mb:8,children:(0,h.jsx)(w.ou,{variant:"filled",name:"startDate",label:"Waktu Mulai"})}),(0,h.jsx)(l.Z,{mb:8,children:(0,h.jsx)(w.ou,{variant:"filled",name:"endDate",label:"Waktu Selesai"})})]}),(0,h.jsxs)(I.Z,{children:[(0,h.jsx)(R.Z,{color:"secondary",onClick:e.onCancel,disabled:t,variant:"text",disableElevation:!0,children:"Batal"}),(0,h.jsx)(D.M,{isSubmitting:t,text:"Simpan"})]})]})}})})},E=function(e){var n=e.moduleId,t=(0,o.useState)(!1),r=(0,i.Z)(t,2),a=r[0],s=r[1],l=(0,o.useState)(!1),d=(0,i.Z)(l,2),c=d[0],u=d[1],x=new Z.Zf;return x.moduleId=n,(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(R.Z,{onClick:function(){return s(!0)},children:"Tambah"}),(0,h.jsx)(y.Z,{open:a,title:"Tambah Baru",onClose:function(){return s(!1)},children:(0,h.jsx)(R.Z,{onClick:function(){return u(!0)},children:"Tambah Artikel"})}),c&&(0,h.jsx)(z,{model:x,onCancel:function(){return u(!1)}})]})},L=t(11579),O=function(e){var n=(0,b.f)().user,t=(0,k.s0)(),a=(0,k.UO)(),s=a.courseClassroomId,l=a.moduleId,d=o.useState(!1),c=(0,i.Z)(d,2),u=c[0],x=c[1],m=(0,L.useQuery)(["list-module-items",l],(function(){return g.r.findAllItems(null!==l&&void 0!==l?l:"",{page:0})})).data;return o.useEffect((function(){var e;x((0,j.P)(S.lg.Student,null!==(e=null===n||void 0===n?void 0:n.role)&&void 0!==e?e:[]))}),[n]),(0,h.jsx)(v.Z,{title:"Detail Modul",showBackButton:!0,onBackButtonPress:function(){return t("/module/".concat(s,"/module"),{replace:!0})},toolbar:!u&&(0,h.jsx)(E,{moduleId:null!==l&&void 0!==l?l:""}),children:(0,h.jsx)(p.O1,{data:null!==m&&void 0!==m?m:[],footerProps:{loading:!1,footerText:""},onEndReached:function(){},column:4,responsive:{xs:1,sm:2,md:4},renderRow:function(e,n){return e instanceof Z.Zf?(0,h.jsx)(r.Z,{model:e,showDateStart:!0}):e instanceof Z.ot?(0,h.jsx)(f,{model:e}):(0,h.jsx)(h.Fragment,{children:"Unsupported content"})}})})}},85523:function(e,n,t){t(47313);var i=t(57775),o=t(51057),r=t(44610),a=t(57829),s=t(47605),l=t(83213),d=t(83061),c=t(2682),u=t(11193),x=t(29466),m=t(69737),h=t(88913),f=t(44894),p=t(46417);n.Z=function(e){var n,t,v=e.model,g=e.showDateStart,b=void 0!==g&&g,Z=(0,m.f)().user;return(0,p.jsx)(a.Z,{component:x.rU,sx:{textDecoration:"none"},to:"/topic/".concat(v.id,"/article"),children:(0,p.jsxs)(i.Z,{className:(0,d.Z)("card-hover"),children:[(0,p.jsxs)(a.Z,{sx:{backgroundImage:"url(".concat((0,c.y5)(v.content),")"),color:"#fff",borderRadius:"16px",padding:2,height:"200px",textAlign:"center",backgroundSize:"cover",display:"grid",alignItems:"center",margin:2,position:"relative"},children:[(0,p.jsx)(a.Z,{sx:{position:"absolute",bottom:0,left:0,right:0,padding:"8px 16px",borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px",background:"rgba(0,0,0,.7)"},children:v.name}),(0,p.jsx)(i.Z,{elevation:10,sx:{width:60,height:40,position:"absolute",top:"10px",right:"10px",background:function(e){return e.palette.primary.main},borderRadius:"8px",textAlign:"center",color:"#fff",padding:"3px",display:"flex",alignmentItems:"center",justifyContent:"center",flexDirection:"column"},children:(0,p.jsx)(s.Z,{fontSize:"14px",children:"Artikel"})})]}),(0,p.jsx)(o.Z,{sx:{textAlign:"left",padding:3},children:(0,p.jsxs)(a.Z,{display:"flex",alignItems:"center",children:[(0,p.jsx)(a.Z,{children:(0,p.jsx)(l.Z,{primary:b?"Diajarkan Pada":null===(n=v.module)||void 0===n?void 0:n.name,secondary:b?(0,c.KB)(v.startDate):null===(t=v.course)||void 0===t?void 0:t.name})}),(0,p.jsx)(a.Z,{marginLeft:"auto",children:function(){var e;return(0,h.P)(f.lg.Student,null!==(e=null===Z||void 0===Z?void 0:Z.role)&&void 0!==e?e:[])?v.lastRead?(0,p.jsx)(u.Z,{title:"Tanggal ".concat((0,c.ss)(v.lastRead)),children:(0,p.jsx)(r.Z,{label:"Dibaca",variant:"outlined",color:"success",size:"small"})}):void 0:v.isPublish?(0,p.jsx)(r.Z,{label:"Publish",variant:"filled",color:"success",size:"small"}):(0,p.jsx)(r.Z,{label:"Disimpan",variant:"filled",color:"warning",size:"small"})}()})]})})]})})}},33187:function(e,n,t){var i=t(1413),o=(t(47313),t(19860)),r=t(24813),a=t(94469),s=t(33604),l=t(46417);n.Z=function(e){var n=(0,o.Z)(),t=(0,r.Z)(n.breakpoints.down("sm"));return(0,l.jsxs)(a.Z,(0,i.Z)((0,i.Z)({fullWidth:!0,fullScreen:t,maxWidth:"sm"},e),{},{children:[e.title&&(0,l.jsx)(s.Z,{children:e.title}),e.children]}))}},56417:function(e,n,t){t.d(n,{O:function(){return r}});var i=t(15671),o=t(43144),r=function(){function e(n,t,o){(0,i.Z)(this,e),this.repository=void 0,this._onSaveSuccess=void 0,this._onSaveFailed=void 0,this._onBeforeSubmit=void 0,this.repository=n,this._onSaveSuccess=t.onSaveSuccess,this._onSaveFailed=t.onSaveFailed,this._onBeforeSubmit=null===o||void 0===o?void 0:o.onBeforeSubmit}return(0,o.Z)(e,[{key:"submitToServer",value:function(e){return this._onBeforeSubmit&&(e=this._onBeforeSubmit(e)),e.id?this.repository.update(e):this.repository.create(e)}},{key:"onSubmit",value:function(e,n,t){var i=this,o=n.setSubmitting,r=n.resetForm;o(!0),this.submitToServer(e).then((function(e){e.status?(!0===t&&r(),i._onSaveSuccess&&i._onSaveSuccess(e.item)):i._onSaveFailed&&i._onSaveFailed(),o(!1)}))}}]),e}()}}]);