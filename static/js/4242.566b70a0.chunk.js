"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[4242],{92649:function(e,t,n){n.d(t,{Z:function(){return I},W:function(){return w}});var i=n(29439),r=n(57829),o=n(34499),l=n(37429),a=n(80836),u=n(83213),d=n(47313),s=n(26672),c=n(97890),p=n(94614),f=n(4942),h=n(57451),m=n(21212),g=n(57775),v=n(50301),x=n(86302),Z=n(1084),b=n(67375),j=n(46417),y=function(e){var t=e.isAppDrawerOpen,n=e.sidebarContent,i=(0,Z.I0)();return(0,j.jsx)(v.Z,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,j.jsxs)(r.Z,{sx:{width:{lg:280}},children:[(0,j.jsx)(h.Z,{lgUp:!0,children:(0,j.jsx)(m.ZP,{open:t,onClose:function(){return i((0,b.Y1)())},sx:(0,f.Z)({position:"absolute"},"& .".concat(x.Z.paper),{width:280,"& .listItem":{zIndex:1305}}),children:n})}),(0,j.jsx)(h.Z,{lgDown:!0,children:(0,j.jsx)(g.Z,{style:{height:"100%"},children:n})})]})})},C=n(19406),k=d.createContext({setTitle:function(e){}}),w=function(){return(0,d.useContext)(k)},I=function(e){var t,n=(0,d.useState)(e.title),f=(0,i.Z)(n,2),h=f[0],m=f[1],g=(0,d.useState)(e.toolbar),v=(0,i.Z)(g,2),x=v[0],b=(v[1],(0,d.useState)(e.subTitle)),w=(0,i.Z)(b,2),I=w[0],P=(w[1],(0,d.useState)(e.showBackButton)),S=(0,i.Z)(P,2),U=S[0],_=(S[1],(0,d.useState)(e.fullView)),R=(0,i.Z)(_,2),D=R[0],W=(R[1],(0,d.useState)()),A=(0,i.Z)(W,2),T=A[0],z=(A[1],(0,d.useState)(e.sidebarContent)),B=(0,i.Z)(z,2),E=B[0],V=(B[1],(0,d.useState)(e.contentPadding)),L=(0,i.Z)(V,2),M=L[0],O=(L[1],(0,c.s0)()),F=(0,d.useCallback)((function(){O(-1)}),[history]),$=((0,Z.I0)(),(0,Z.v9)((function(e){return e.common})).isAppDrawerOpen),H=(0,C.l5)().footer;(0,C.l5)().navStyle;return(0,d.useEffect)((function(){document.title=null!==h&&void 0!==h?h:"AFresto System Indonesia"}),[h]),(0,j.jsx)(k.Provider,{value:{setTitle:m},children:(0,j.jsxs)(r.Z,{children:[h&&(0,j.jsxs)(o.ZP,{component:"div",sx:{backgroundColor:"#fff",borderBottom:"1px solid #ccc",position:"sticky",top:"70px",zIndex:99},secondaryAction:x,children:[U&&(0,j.jsx)(l.Z,{children:(0,j.jsx)(a.Z,{onClick:null!==(t=null!==T&&void 0!==T?T:e.onBackButtonPress)&&void 0!==t?t:F,children:(0,j.jsx)(s.x_l,{})})}),(0,j.jsx)(u.Z,{primary:h,primaryTypographyProps:{fontSize:20},secondary:I})]}),(0,j.jsx)(p.uc,{animation:"transition.slideUpIn",delay:200,children:(0,j.jsx)(r.Z,{sx:{p:null!==M&&void 0!==M?M:{xs:5,md:7.5,xl:12.5}},children:E?(0,j.jsxs)(r.Z,{sx:{display:"flex"},children:[E?(0,j.jsx)(r.Z,{children:(0,j.jsx)(y,{isAppDrawerOpen:$,footer:H,fullView:D,sidebarContent:E})}):null,(0,j.jsx)(r.Z,{sx:{display:"flex",flexDirection:"column",width:{xs:"100%",lg:"calc(100% - ".concat(D?0:280,"px)")},pl:{lg:D?0:8}},children:e.children})]}):e.children})})]})})}},29417:function(e,t,n){n.d(t,{XZ:function(){return g},ou:function(){return w},ML:function(){return N},Ph:function(){return Z},Kx:function(){return b},nv:function(){return d}});var i=n(1413),r=n(29439),o=n(7410),l=n(8047),a=n(47313),u=n(46417),d=function(e){var t=(0,o.U$)(e),n=(0,r.Z)(t,2),a=n[0],d=n[1],s=d.error&&d.touched?d.error:"",c=(0,i.Z)({},e);return"filled"===e.variant&&(c.InputProps={disableUnderline:!0,style:{borderRadius:8}}),(0,u.jsx)(l.Z,(0,i.Z)((0,i.Z)({helperText:s,error:!!s,fullWidth:!0},c),a))},s=n(57204),c=n(5178),p=n(69746),f=n(69173),h=n(49969),m=n(20715),g=function(e){var t=(0,o.U$)(e),n=(0,r.Z)(t,2),l=n[0],a=n[1],d=a.error&&a.touched?a.error:"";return(0,u.jsxs)(s.Z,{component:"fieldset",error:!!d,children:[(0,u.jsx)(c.Z,{component:"legend",children:e.title}),(0,u.jsx)(p.Z,{children:(0,u.jsx)(f.Z,(0,i.Z)({control:(0,u.jsx)(h.Z,(0,i.Z)((0,i.Z)({checked:l.value},e),{},{onChange:l.onChange}))},e))}),(0,u.jsx)(m.Z,{children:d})]})},v=n(47992),x=n(68721),Z=a.forwardRef((function(e,t){var n=(0,o.U$)(e),i=(0,r.Z)(n,2),l=i[0],d=i[1],c=d.error&&d.touched?d.error:"";return a.useImperativeHandle(t,(function(){return{initOnLoad:function(){console.log("x")}}})),(0,u.jsxs)(s.Z,{fullWidth:e.fullWidth,error:!!c,variant:e.variant,children:[(0,u.jsx)(v.Z,{children:e.label}),(0,u.jsx)(x.Z,{disableUnderline:"filled"===e.variant,labelId:"".concat(l.name,"-select-label"),id:"".concat(l.name,"-label"),name:l.name,value:l.value,onChange:l.onChange,style:"filled"===e.variant?{borderRadius:8}:void 0,children:e.children}),(0,u.jsx)(m.Z,{children:c})]})})),b=function(e){var t=(0,o.U$)(e),n=(0,r.Z)(t,2),a=n[0],d=n[1],s=d.error&&d.touched?d.error:"";return(0,u.jsx)(l.Z,(0,i.Z)((0,i.Z)((0,i.Z)({multiline:!0},e),a),{},{helperText:s,error:!!s,fullWidth:!0}))},j=n(74359),y=n(1082),C=n(80836),k=n(74109),w=function(e){var t=(0,o.U$)(e),n=(0,r.Z)(t,2),a=n[0],d=n[1],s=d.error&&d.touched?d.error:"",c=(0,i.Z)({},e),p={disableUnderline:"filled"===e.variant,style:{borderRadius:8},endAdornment:(0,u.jsx)(y.Z,{position:"end",children:(0,u.jsx)(C.Z,{children:(0,u.jsx)(k.Z,{})})})};return(0,u.jsx)(j.W,(0,i.Z)((0,i.Z)({renderInput:function(e){return(0,u.jsx)(l.Z,(0,i.Z)((0,i.Z)({},e),{},{fullWidth:!0,variant:"filled",InputProps:p}))}},a),{},{inputVariant:e.variant,helperText:s,error:!!s,fullWidth:!0,ampm:!1,value:a.value,onChange:function(e){a.onChange({target:{name:a.name,value:e}})}},c))},I=n(7155),P=n(57829),S=n(98668),U=n(94469),_=n(33604),R=n(69625),D=n(6961),W=n(71003),A=n(80614),T=n(16330),z=n(65476),B=n(20791),E=n(93233),V=n.n(E),L=n(69737),M={flex:1,display:"flex",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#ffffff",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out",height:100},O={borderColor:"#2196f3"},F={borderColor:"#00e676"},$={borderColor:"#ff1744"},H={image:{type:"image",title:"Unggah Gambar",accepted:"image/*"},doc:{type:"doc",title:"Unggah Dokumen",accepted:"application/pdf,.pdf,.doc,.docx"},attachment:{type:"attachment",title:"Unggah Attachment",accepted:"*"},audio:{type:"audio",title:"Unggah Audio",accepted:"audio/*"},video:{type:"video",title:"Unggah Video",accepted:"video/*"},youtube:{type:"youtube",title:"Tempelkan Video dari Youtube",accepted:"video/*"}},Y=function(e){var t=e.initialValue,n=e.setData,o=e.placeholder,d=e.setEditor,s=e.onBeforePaste,c=(0,L.f)().user,p=(0,a.useRef)(null),f=(0,a.useRef)(null),h=a.useState(null),m=(0,r.Z)(h,2),g=m[0],v=m[1],x=a.useState(!1),Z=(0,r.Z)(x,2),b=Z[0],j=Z[1],y=a.useState(null),C=(0,r.Z)(y,2),k=C[0],w=C[1],E=a.useState(!1),Y=(0,r.Z)(E,2),N=Y[0],G=Y[1],J=a.useState(null),K=(0,r.Z)(J,2),X=K[0],q=K[1],Q=a.useState(null),ee=(0,r.Z)(Q,2),te=ee[0],ne=ee[1],ie=a.useCallback((function(e){var t=e[0];console.log(t),v(t),"doc"!==(null===te||void 0===te?void 0:te.type)&&q(URL.createObjectURL(t)),G(!1)}),[te]),re=(0,A.uI)({accept:"image/*"}),oe=re.isDragActive,le=re.isDragAccept,ae=re.isDragReject,ue=(0,a.useMemo)((function(){return(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},M),oe?O:{}),le?F:{}),ae?$:{})}),[oe,le,ae]),de=a.useState(!1),se=(0,r.Z)(de,2),ce=se[0],pe=se[1],fe=function(){pe(!1),v(null),q(null)};(0,a.useEffect)((function(){console.log(p)}),[]);var he=a.useCallback((function(e,t){pe(!0),ne(H[e]),f.current=t}),[]),me=function(e){if(null!=g||null!=k||""!==k){var t=null===te||void 0===te?void 0:te.type;if(console.log(t,e),"image"===t)return"<img src='".concat(e,"' />");if("youtube"===t&&k){var n=V()(null!==k&&void 0!==k?k:"");return null==n?"Url tidak valid":'<iframe width="420" height="315"\n            src="https://www.youtube.com/embed/'.concat(n,'?rel=0" frameborder="0">\n            </iframe>')}if("video"===t&&null!=g)return"<video controls preload='none'>\n            <source src='".concat(e,"' type='").concat(g.type,"' />\n            Your browser does not support the video tag.\n            </video>");if("audio"===t)return"<audio src='".concat(e,"' controls preload='none'></audio>");if("doc"===t)return""==e?"Preview tidak tersedia untuk dokumen":'<iframe class="doc-viewer" style="width: 100%" height="500"\n            src="https://docs.google.com/viewer?url='.concat(e,'&embedded=true" frameborder="0">\n            </iframe>')}};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(U.Z,{open:ce,onClose:fe,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,u.jsx)(_.Z,{id:"alert-dialog-title",children:null===te||void 0===te?void 0:te.title}),(0,u.jsx)(R.Z,{children:(0,u.jsx)(P.Z,{width:"500px",children:null!=g||"youtube"===(null===te||void 0===te?void 0:te.type)&&k?(console.log("preview called"),N?(0,u.jsxs)(P.Z,{textAlign:"center",children:[(0,u.jsx)(P.Z,{children:"Memuat Preview"}),(0,u.jsx)(P.Z,{children:(0,u.jsx)(S.Z,{})})]}):null!=k&&""!==k?(0,u.jsx)(P.Z,{sx:{"& > *":{width:"100%"}},children:(0,z.ZP)("".concat(me("")))}):null!=g?(0,u.jsx)(P.Z,{sx:{"& > *":{width:"100%"}},children:(0,z.ZP)("".concat(me(null!==X&&void 0!==X?X:"")))}):void 0):"youtube"===(null===te||void 0===te?void 0:te.type)?(0,u.jsx)(P.Z,{mt:4,children:(0,u.jsx)(l.Z,{id:"outlined-basic",label:"URL Youtube",variant:"outlined",fullWidth:!0,onChange:function(e){w(e.currentTarget.value)}})}):(0,u.jsx)(P.Z,{children:(0,u.jsx)(P.Z,{children:(0,u.jsx)(A.ZP,{multiple:!1,maxFiles:1,onDrop:ie,accept:null===te||void 0===te?void 0:te.accepted,children:function(e){var t=e.getRootProps,n=e.getInputProps;return(0,u.jsx)("section",{children:(0,u.jsxs)("div",(0,i.Z)((0,i.Z)({},t({style:ue})),{},{children:[(0,u.jsx)("input",(0,i.Z)({},n())),(0,u.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]}))})}})})})})}),(0,u.jsxs)(D.Z,{children:[(0,u.jsx)(W.Z,{onClick:fe,color:"inherit",variant:"text",disableElevation:!0,children:"Batal"}),g||"youtube"===(null===te||void 0===te?void 0:te.type)&&k?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(W.Z,{onClick:function(){return v(null),void w(null)},variant:"outlined",children:"Hapus"}),(0,u.jsx)(B.M,{onClick:function(){var e;if("youtube"===(null===te||void 0===te?void 0:te.type)&&k)return null===(e=f.current)||void 0===e||e.execCommand("mceInsertContent",!1,me(null!==k&&void 0!==k?k:"")),void fe();if(g){var t;j(!0);var n=new Date,i=g.name.split("."),r=(null!==(t=null===c||void 0===c?void 0:c.uid)&&void 0!==t?t:"unknown-user")+"-"+n.getMilliseconds()+"."+i[i.length-1],o=new FormData;o.append("filename",r),o.append("file",g,g.name),T.RJ.image(o).then((function(e){var t,n,i;null===(t=f.current)||void 0===t||t.execCommand("mceInsertContent",!1,me(null!==(n=null===(i=e.item)||void 0===i?void 0:i.url)&&void 0!==n?n:"")),fe(),j(!1)}))}},text:"youtube"===(null===te||void 0===te?void 0:te.type)&&k?"Tambahkan":"Unggah",isSubmitting:b,color:"primary",variant:"outlined"})]}):null]})]}),(0,u.jsx)(I.M,{onInit:function(e,t){p.current=t,d&&d(t)},onChange:function(){console.log(p.current.getContent()),p.current&&n&&n("content",p.current.getContent())},initialValue:t,init:{menubar:!1,statusbar:!1,placeholder:o,setup:function(e){},some_setting:1,media_live_embeds:!0,autoresize_bottom_margin:10,contextmenu:"link image media table",fontsize_formats:"8pt 10pt 12pt 14pt 16pt 18pt 24pt 36pt 48pt",plugins:"autoresize image media link lists charmap table file-handler",toolbar:"formatgroup bold italic underline strikethrough aligngroup paragraphgroup | file-handler file-handler-image file-handler-audio file-handler-video file-handler-youtube | file-handler-doc",toolbar_groups:{formatgroup:{icon:"format",tooltip:"Formatting",items:"formatselect | fontsizeselect | forecolor backcolor | superscript subscript | removeformat "},aligngroup:{icon:"align-justify",tooltip:"Text Align",items:"alignleft aligncenter alignright alignjustify"},paragraphgroup:{icon:"paragraph",tooltip:"Paragraph format",items:"h1 h2 h3 | bullist numlist | indent outdent"},insertgroup:{icon:"plus",tooltip:"Insert",items:"file-handler-image | file-handler-audio | file-handler-video | file-handler-youtube | file-handler-doc "}},open_file_picker:he,paste_preprocess:function(e,t){return s&&s(p,t)},content_style:'body { font-family:Poppins,Helvetica,Arial,sans-serif; font-size:14px }audio,img{max-width: 100% !important}[data-mce-object="video"]{width: 100%}video{width: 100% !important; height: auto !important}',toolbar_location:"top",external_plugins:{"file-handler":"/plugins/file-handler/plugin.min.js"},mobile:{theme:"silver",menubar:!1,toolbar_location:"top",toolbar:"bold italic underline file-handler-image file-handler-audio file-handler-video "},style_formats:[{title:"Image Left",selector:"img",styles:{float:"left",margin:"0 10px 0 10px"}},{title:"Image Right",selector:"img",styles:{float:"right",margin:"0 0 10px 10px"}}]}})]})},N=a.forwardRef((function(e,t){var n=(0,a.useRef)(),i=(0,a.useRef)(),l=(0,o.U$)(e),d=(0,r.Z)(l,2),c=d[0],p=d[1],f=p.error&&p.touched?p.error:"";return"string"!==typeof n.current&&(n.current="string"===typeof c.value?c.value:""),a.useImperativeHandle(t,(function(){return{resetEditor:function(){i.current&&console.log(i.current.setContent(""))}}})),(0,u.jsxs)(s.Z,{fullWidth:e.fullWidth,error:!!f,children:[(0,u.jsx)(v.Z,{id:"-select-label",children:e.label}),(0,u.jsx)(Y,{onBeforePaste:e.onBeforePaste,setEditor:function(e){return i.current=e},initialValue:n.current,placeholder:e.placeholder,setData:function(e,t){c.onChange({target:{name:c.name,value:t}})}}),(0,u.jsx)(m.Z,{children:f})]})}))},20791:function(e,t,n){n.d(t,{M:function(){return a}});n(47313);var i=n(57829),r=n(71003),o=n(98668),l=n(46417),a=function(e){var t=e.isSubmitting,n=e.disabled,a=void 0!==n&&n,u=e.color,d=void 0===u?"primary":u,s=e.variant,c=void 0===s?"outlined":s,p=e.className,f=void 0===p?"":p,h=e.fullWidth,m=void 0!==h&&h,g=e.text,v=e.onClick;return(0,l.jsxs)(i.Z,{sx:{position:"relative",display:m?"block":"inline-block"},children:[(0,l.jsx)(r.Z,{type:"submit",onClick:v,color:d,variant:c,disabled:t||a,className:f,fullWidth:m,children:g}),t&&(0,l.jsx)(o.Z,{size:20,style:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})]})}}}]);