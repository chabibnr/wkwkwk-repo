"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[8450],{82953:function(n,e,t){var o=t(93433),i=t(15861),s=t(87757),r=t.n(s),l=(t(47313),t(25403)),a=t(94614),c=t(11579),u=t(16330),d=t(46417);e.Z=function(n){var e=n.classroomId,t=(0,c.useInfiniteQuery)(["list-student-by-classroom",e],(function(n){var e=n.pageParam;return p(void 0===e?1:e)}),{getNextPageParam:function(n,e){return n.totalPages>n.page?n.page+1:void 0}}),s=t.data,x=(t.refetch,t.isLoading),f=t.isFetchingNextPage,m=t.fetchNextPage,h=t.hasNextPage,p=function(){var n=(0,i.Z)(r().mark((function n(){var t,o,i=arguments;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:1,n.next=3,u.xm.findAllByClassroom(e,{page:t,size:50});case 3:return o=n.sent,console.log(o),n.abrupt("return",o);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,d.jsx)(a.O1,{onEndReached:function(){h&&m()},footerProps:{footerText:"",loading:x||f},data:function(){if(s&&s.pages){var n=[];return s.pages.forEach((function(e){n=[].concat((0,o.Z)(n),(0,o.Z)(e.items))})),n}return[]}(),responsive:{xs:1,sm:2,md:4,lg:5},renderRow:function(n){return(0,d.jsx)(l.Z,{hasClass:!0,model:n.student},"item-user-".concat(n.id))}})}},33851:function(n,e,t){t.r(e),t.d(e,{default:function(){return U}});var o=t(47313),i=t(92649),s=t(29466),r=t(97890),l=t(93433),a=t(29439),c=t(1413),u=t(45987),d=t(71003),x=t(88564),f=t(94469),m=t(33604),h=t(69625),p=t(6961),g=t(80836),Z=t(11198),v=t(57829),j=t(62847),b=t(16330),y=t(34499),k=t(37429),C=t(63585),w=t(83213),S=t(32916),B=t(46417),I=function(n){var e,t=n.model,o=n.selected,i=n.selectItem,s=n.unSelectItem;return(0,B.jsxs)(y.ZP,{button:!0,onClick:function(){return o?s(t.id):i(t.id)},sx:{outline:o?"1px solid rgba(10, 143, 220, 0.5)":"none",backgroundColor:"#fff",borderRadius:"16px"},children:[(0,B.jsx)(k.Z,{children:(0,B.jsx)(C.Z,{sx:{bgcolor:o?"rgba(10, 143, 220, 1)":""},children:o?(0,B.jsx)(S.UgA,{}):"A"})}),(0,B.jsx)(w.Z,{primary:t.getFullName(),secondary:null!==(e=t.nis)&&void 0!==e?e:"-"})]})},P=t(94614),O=t(20791),A=t(11579),T=["children","onClose"],N=(0,x.ZP)(f.Z)((function(n){var e=n.theme;return{"& .MuiDialogContent-root":{padding:e.spacing(2)},"& .MuiDialogActions-root":{padding:e.spacing(1)}}})),z=function(n){var e=n.children,t=n.onClose,o=(0,u.Z)(n,T);return(0,B.jsxs)(m.Z,(0,c.Z)((0,c.Z)({sx:{m:0,p:2}},o),{},{children:[e,t?(0,B.jsx)(g.Z,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8,color:function(n){return n.palette.grey[500]}},children:(0,B.jsx)(Z.Z,{})}):null]}))};function D(n){var e,t=o.useState(!1),i=(0,a.Z)(t,2),s=i[0],c=i[1],u=o.useState(!1),x=(0,a.Z)(u,2),f=x[0],m=x[1],g=o.useState([]),Z=(0,a.Z)(g,2),y=Z[0],k=Z[1],C=(0,A.useQuery)(["find-user-not-in-class"],(function(){return b.k6.findAllNoClass({})})).data,w=(0,r.UO)().classroomId,S=function(n){y.push(n),k((0,l.Z)(y))},T=function(n){var e=y.indexOf(n);y.splice(e,1),k((0,l.Z)(y))},D=function(){c(!1)};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(d.Z,{variant:"outlined",onClick:function(){c(!0)},children:"Tambah Siswa"}),(0,B.jsxs)(N,{onClose:D,"aria-labelledby":"customized-dialog-title",open:s,maxWidth:"lg",children:[(0,B.jsx)(z,{id:"customized-dialog-title",onClose:D,children:"Modal title"}),(0,B.jsx)(h.Z,{children:(0,B.jsx)(v.Z,{m:2,bgcolor:"#cccccc4f",borderRadius:"16px",p:4,display:"grid",children:(0,B.jsx)(P.O1,{data:null!==(e=null===C||void 0===C?void 0:C.items)&&void 0!==e?e:[],responsive:{xs:2,sm:3},renderRow:function(n,e){return(0,B.jsx)(I,{model:n,selectItem:S,unSelectItem:T,selected:-1!==y.indexOf(n.id)},"classroom-student-id-".concat(n.id))}})})}),(0,B.jsx)(p.Z,{children:(0,B.jsx)(O.M,{isSubmitting:f,text:"Tambahkan Siswa",onClick:function(){m(!0);var e=new j.ap;e.studentIds=y,e.active=!0,e.classroomId=w,b.xm.create(e).then((function(e){console.log("complete"),n.onComplete(),D()})).finally((function(){return m(!1)}))}})})]})]})}var R=t(82953),U=function(){var n=(0,r.UO)().classroomId;return(0,B.jsx)(i.Z,{title:"Daftar Siswa",showBackButton:!0,toolbar:(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(d.Z,{component:s.rU,to:"add",variant:"outlined",sx:{marginRight:4},children:"Tambah Masal"}),(0,B.jsx)(D,{onComplete:function(){}})]}),children:(0,B.jsx)(R.Z,{classroomId:n})})}},25403:function(n,e,t){t(47313);var o=t(57775),i=t(57829),s=t(63585),r=t(47605),l=t(44610),a=t(29466),c=t(83061),u=t(46417);e.Z=function(n){var e,t=n.model,d=n.hasClass,x=void 0!==d&&d;return(0,u.jsx)(o.Z,{className:(0,c.Z)("card-hover"),children:(0,u.jsxs)(i.Z,{component:a.rU,to:"/student/".concat(t.id,"/profile"),m:2,borderRadius:"16px",p:4,textAlign:"center",display:"grid",alignItems:"center",sx:{"&:link":{textDecoration:"none !important"}},children:[(0,u.jsx)(s.Z,{sx:{margin:"auto",width:{xs:50,md:770,lg:90,xl:110},height:{xs:50,md:770,lg:90,xl:110}},src:"/assets/images/no-user.gif",children:"H"}),(0,u.jsxs)(i.Z,{mt:2,children:[(0,u.jsx)(r.Z,{fontWeight:700,color:"#000",children:t.getFullName()}),x?"":null!==(e=t.classroom)&&void 0!==e&&e.name?(0,u.jsx)(l.Z,{label:t.classroom.name,size:"small",variant:"outlined",color:"success"}):(0,u.jsx)(l.Z,{label:"Belum masuk kelas",size:"small",variant:"outlined",color:"error"})]})]})})}},92649:function(n,e,t){t.d(e,{Z:function(){return S},W:function(){return w}});var o=t(29439),i=t(57829),s=t(34499),r=t(37429),l=t(80836),a=t(83213),c=t(47313),u=t(26672),d=t(97890),x=t(94614),f=t(4942),m=t(57451),h=t(21212),p=t(57775),g=t(50301),Z=t(86302),v=t(1084),j=t(67375),b=t(46417),y=function(n){var e=n.isAppDrawerOpen,t=n.sidebarContent,o=(0,v.I0)();return(0,b.jsx)(g.Z,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,b.jsxs)(i.Z,{sx:{width:{lg:280}},children:[(0,b.jsx)(m.Z,{lgUp:!0,children:(0,b.jsx)(h.ZP,{open:e,onClose:function(){return o((0,j.Y1)())},sx:(0,f.Z)({position:"absolute"},"& .".concat(Z.Z.paper),{width:280,"& .listItem":{zIndex:1305}}),children:t})}),(0,b.jsx)(m.Z,{lgDown:!0,children:(0,b.jsx)(p.Z,{style:{height:"100%"},children:t})})]})})},k=t(19406),C=c.createContext({setTitle:function(n){},setSubtitle:function(n){},setShowBackButton:function(n){},setOnBackButtonPress:function(n){},setToolbar:function(n){},resetLayout:function(){}}),w=function(){return(0,c.useContext)(C)},S=function(n){var e=(0,c.useState)(),t=(0,o.Z)(e,2),f=t[0],m=t[1],h=(0,c.useState)(n.toolbar),p=(0,o.Z)(h,2),g=p[0],Z=p[1],j=(0,c.useState)(),w=(0,o.Z)(j,2),S=w[0],B=w[1],I=(0,c.useState)(n.showBackButton),P=(0,o.Z)(I,2),O=P[0],A=P[1],T=(0,c.useState)(n.fullView),N=(0,o.Z)(T,2),z=N[0],D=(N[1],(0,c.useState)()),R=(0,o.Z)(D,2),U=R[0],F=R[1],M=(0,c.useState)(n.sidebarContent),E=(0,o.Z)(M,2),W=E[0],_=(E[1],(0,c.useState)(n.contentPadding)),L=(0,o.Z)(_,2),Q=L[0],V=(L[1],(0,d.s0)()),H=(0,c.useCallback)((function(){V(-1)}),[history]),Y=((0,v.I0)(),(0,v.v9)((function(n){return n.common})).isAppDrawerOpen),q=(0,k.l5)().footer,G=((0,k.l5)().navStyle,null!==f&&void 0!==f?f:n.title),J=null!==S&&void 0!==S?S:n.subTitle,K=null!==g&&void 0!==g?g:n.toolbar,X=null!==O&&void 0!==O?O:n.showBackButton,$=null!==U&&void 0!==U?U:n.onBackButtonPress;return(0,c.useEffect)((function(){document.title=null!==G&&void 0!==G?G:"AFresto System Indonesia"}),[G]),(0,b.jsx)(C.Provider,{value:{setTitle:m,setSubtitle:B,setOnBackButtonPress:F,setShowBackButton:A,setToolbar:Z,resetLayout:function(){m(void 0),B(void 0),A(void 0),F(void 0),Z(void 0)}},children:(0,b.jsxs)(i.Z,{children:[G&&(0,b.jsxs)(s.ZP,{component:"div",sx:{backgroundColor:"#fff",borderBottom:"1px solid #ccc",position:"sticky",top:"70px",zIndex:99},secondaryAction:K,children:[X&&(0,b.jsx)(r.Z,{children:(0,b.jsx)(l.Z,{onClick:null!==$&&void 0!==$?$:H,children:(0,b.jsx)(u.x_l,{})})}),(0,b.jsx)(a.Z,{primary:G,primaryTypographyProps:{fontSize:20},secondary:J})]}),(0,b.jsx)(x.uc,{animation:"transition.slideUpIn",delay:200,children:(0,b.jsx)(i.Z,{sx:{p:null!==Q&&void 0!==Q?Q:{xs:5,md:7.5,xl:12.5}},children:W?(0,b.jsxs)(i.Z,{sx:{display:"flex"},children:[W?(0,b.jsx)(i.Z,{children:(0,b.jsx)(y,{isAppDrawerOpen:Y,footer:q,fullView:z,sidebarContent:W})}):null,(0,b.jsx)(i.Z,{sx:{display:"flex",flexDirection:"column",width:{xs:"100%",lg:"calc(100% - ".concat(z?0:280,"px)")},pl:{lg:z?0:8}},children:n.children})]}):n.children})})]})})}},20791:function(n,e,t){t.d(e,{M:function(){return l}});t(47313);var o=t(57829),i=t(71003),s=t(98668),r=t(46417),l=function(n){var e=n.isSubmitting,t=n.disabled,l=void 0!==t&&t,a=n.color,c=void 0===a?"primary":a,u=n.variant,d=void 0===u?"outlined":u,x=n.className,f=void 0===x?"":x,m=n.fullWidth,h=void 0!==m&&m,p=n.text,g=n.onClick;return(0,r.jsxs)(o.Z,{sx:{position:"relative",display:h?"block":"inline-block"},children:[(0,r.jsx)(i.Z,{type:"submit",onClick:g,color:c,variant:d,disabled:e||l,className:f,fullWidth:h,children:p}),e&&(0,r.jsx)(s.Z,{size:20,style:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})]})}}}]);