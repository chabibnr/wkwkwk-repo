"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[805],{29417:function(e,t,n){n.d(t,{XZ:function(){return m},ou:function(){return C},ML:function(){return N},Ph:function(){return x},Kx:function(){return Z},nv:function(){return d}});var i=n(1413),r=n(29439),o=n(7410),l=n(8047),a=n(47313),u=n(46417),d=function(e){var t=(0,o.U$)(e),n=(0,r.Z)(t,2),a=n[0],d=n[1],s=d.error&&d.touched?d.error:"",c=(0,i.Z)({},e);return"filled"===e.variant&&(c.InputProps={disableUnderline:!0,style:{borderRadius:8}}),(0,u.jsx)(l.Z,(0,i.Z)((0,i.Z)({helperText:s,error:!!s,fullWidth:!0},c),a))},s=n(57204),c=n(5178),f=n(69746),h=n(69173),p=n(49969),v=n(20715),m=function(e){var t=(0,o.U$)(e),n=(0,r.Z)(t,2),l=n[0],a=n[1],d=a.error&&a.touched?a.error:"";return(0,u.jsxs)(s.Z,{component:"fieldset",error:!!d,children:[(0,u.jsx)(c.Z,{component:"legend",children:e.title}),(0,u.jsx)(f.Z,{children:(0,u.jsx)(h.Z,(0,i.Z)({control:(0,u.jsx)(p.Z,(0,i.Z)((0,i.Z)({checked:l.value},e),{},{onChange:l.onChange}))},e))}),(0,u.jsx)(v.Z,{children:d})]})},g=n(47992),b=n(68721),x=a.forwardRef((function(e,t){var n=(0,o.U$)(e),i=(0,r.Z)(n,2),l=i[0],d=i[1],c=d.error&&d.touched?d.error:"";return a.useImperativeHandle(t,(function(){return{initOnLoad:function(){console.log("x")}}})),(0,u.jsxs)(s.Z,{fullWidth:e.fullWidth,error:!!c,variant:e.variant,children:[(0,u.jsx)(g.Z,{children:e.label}),(0,u.jsx)(b.Z,{disableUnderline:"filled"===e.variant,labelId:"".concat(l.name,"-select-label"),id:"".concat(l.name,"-label"),name:l.name,value:l.value,onChange:l.onChange,style:"filled"===e.variant?{borderRadius:8}:void 0,children:e.children}),(0,u.jsx)(v.Z,{children:c})]})})),Z=function(e){var t=(0,o.U$)(e),n=(0,r.Z)(t,2),a=n[0],d=n[1],s=d.error&&d.touched?d.error:"";return(0,u.jsx)(l.Z,(0,i.Z)((0,i.Z)((0,i.Z)({multiline:!0},e),a),{},{helperText:s,error:!!s,fullWidth:!0}))},j=n(74359),y=n(1082),S=n(80836),k=n(74109),C=function(e){var t=(0,o.U$)(e),n=(0,r.Z)(t,2),a=n[0],d=n[1],s=d.error&&d.touched?d.error:"",c=(0,i.Z)({},e),f={disableUnderline:"filled"===e.variant,style:{borderRadius:8},endAdornment:(0,u.jsx)(y.Z,{position:"end",children:(0,u.jsx)(S.Z,{children:(0,u.jsx)(k.Z,{})})})};return(0,u.jsx)(j.W,(0,i.Z)((0,i.Z)({renderInput:function(e){return(0,u.jsx)(l.Z,(0,i.Z)((0,i.Z)({},e),{},{fullWidth:!0,variant:"filled",InputProps:f}))}},a),{},{inputVariant:e.variant,helperText:s,error:!!s,fullWidth:!0,ampm:!1,value:a.value,onChange:function(e){a.onChange({target:{name:a.name,value:e}})}},c))},_=n(7155),w=n(57829),U=n(98668),R=n(94469),I=n(33604),P=n(69625),W=n(6961),F=n(71003),D=n(80614),T=n(16330),B=n(65476),A=n(20791),L=n(93233),M=n.n(L),z=n(69737),V={flex:1,display:"flex",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#ffffff",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out",height:100},$={borderColor:"#2196f3"},E={borderColor:"#00e676"},H={borderColor:"#ff1744"},O={image:{type:"image",title:"Unggah Gambar",accepted:"image/*"},doc:{type:"doc",title:"Unggah Dokumen",accepted:"application/pdf,.pdf,.doc,.docx"},attachment:{type:"attachment",title:"Unggah Attachment",accepted:"*"},audio:{type:"audio",title:"Unggah Audio",accepted:"audio/*"},video:{type:"video",title:"Unggah Video",accepted:"video/*"},youtube:{type:"youtube",title:"Tempelkan Video dari Youtube",accepted:"video/*"}},Y=function(e){var t=e.initialValue,n=e.setData,o=e.placeholder,d=e.setEditor,s=e.onBeforePaste,c=(0,z.f)().user,f=(0,a.useRef)(null),h=(0,a.useRef)(null),p=a.useState(null),v=(0,r.Z)(p,2),m=v[0],g=v[1],b=a.useState(!1),x=(0,r.Z)(b,2),Z=x[0],j=x[1],y=a.useState(null),S=(0,r.Z)(y,2),k=S[0],C=S[1],L=a.useState(!1),Y=(0,r.Z)(L,2),N=Y[0],G=Y[1],J=a.useState(null),K=(0,r.Z)(J,2),X=K[0],q=K[1],Q=a.useState(null),ee=(0,r.Z)(Q,2),te=ee[0],ne=ee[1],ie=a.useCallback((function(e){var t=e[0];console.log(t),g(t),"doc"!==(null===te||void 0===te?void 0:te.type)&&q(URL.createObjectURL(t)),G(!1)}),[te]),re=(0,D.uI)({accept:"image/*"}),oe=re.isDragActive,le=re.isDragAccept,ae=re.isDragReject,ue=(0,a.useMemo)((function(){return(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},V),oe?$:{}),le?E:{}),ae?H:{})}),[oe,le,ae]),de=a.useState(!1),se=(0,r.Z)(de,2),ce=se[0],fe=se[1],he=function(){fe(!1),g(null),q(null)};(0,a.useEffect)((function(){console.log(f)}),[]);var pe=a.useCallback((function(e,t){fe(!0),ne(O[e]),h.current=t}),[]),ve=function(e){if(null!=m||null!=k||""!==k){var t=null===te||void 0===te?void 0:te.type;if(console.log(t,e),"image"===t)return"<img src='".concat(e,"' />");if("youtube"===t&&k){var n=M()(null!==k&&void 0!==k?k:"");return null==n?"Url tidak valid":'<iframe width="420" height="315"\n            src="https://www.youtube.com/embed/'.concat(n,'?rel=0" frameborder="0">\n            </iframe>')}if("video"===t&&null!=m)return"<video controls preload='none'>\n            <source src='".concat(e,"' type='").concat(m.type,"' />\n            Your browser does not support the video tag.\n            </video>");if("audio"===t)return"<audio src='".concat(e,"' controls preload='none'></audio>");if("doc"===t)return""==e?"Preview tidak tersedia untuk dokumen":'<iframe class="doc-viewer" style="width: 100%" height="500"\n            src="https://docs.google.com/viewer?url='.concat(e,'&embedded=true" frameborder="0">\n            </iframe>')}};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(R.Z,{open:ce,onClose:he,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,u.jsx)(I.Z,{id:"alert-dialog-title",children:null===te||void 0===te?void 0:te.title}),(0,u.jsx)(P.Z,{children:(0,u.jsx)(w.Z,{width:"500px",children:null!=m||"youtube"===(null===te||void 0===te?void 0:te.type)&&k?(console.log("preview called"),N?(0,u.jsxs)(w.Z,{textAlign:"center",children:[(0,u.jsx)(w.Z,{children:"Memuat Preview"}),(0,u.jsx)(w.Z,{children:(0,u.jsx)(U.Z,{})})]}):null!=k&&""!==k?(0,u.jsx)(w.Z,{sx:{"& > *":{width:"100%"}},children:(0,B.ZP)("".concat(ve("")))}):null!=m?(0,u.jsx)(w.Z,{sx:{"& > *":{width:"100%"}},children:(0,B.ZP)("".concat(ve(null!==X&&void 0!==X?X:"")))}):void 0):"youtube"===(null===te||void 0===te?void 0:te.type)?(0,u.jsx)(w.Z,{mt:4,children:(0,u.jsx)(l.Z,{id:"outlined-basic",label:"URL Youtube",variant:"outlined",fullWidth:!0,onChange:function(e){C(e.currentTarget.value)}})}):(0,u.jsx)(w.Z,{children:(0,u.jsx)(w.Z,{children:(0,u.jsx)(D.ZP,{multiple:!1,maxFiles:1,onDrop:ie,accept:null===te||void 0===te?void 0:te.accepted,children:function(e){var t=e.getRootProps,n=e.getInputProps;return(0,u.jsx)("section",{children:(0,u.jsxs)("div",(0,i.Z)((0,i.Z)({},t({style:ue})),{},{children:[(0,u.jsx)("input",(0,i.Z)({},n())),(0,u.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]}))})}})})})})}),(0,u.jsxs)(W.Z,{children:[(0,u.jsx)(F.Z,{onClick:he,color:"inherit",variant:"text",disableElevation:!0,children:"Batal"}),m||"youtube"===(null===te||void 0===te?void 0:te.type)&&k?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(F.Z,{onClick:function(){return g(null),void C(null)},variant:"outlined",children:"Hapus"}),(0,u.jsx)(A.M,{onClick:function(){var e;if("youtube"===(null===te||void 0===te?void 0:te.type)&&k)return null===(e=h.current)||void 0===e||e.execCommand("mceInsertContent",!1,ve(null!==k&&void 0!==k?k:"")),void he();if(m){var t;j(!0);var n=new Date,i=m.name.split("."),r=(null!==(t=null===c||void 0===c?void 0:c.uid)&&void 0!==t?t:"unknown-user")+"-"+n.getMilliseconds()+"."+i[i.length-1],o=new FormData;o.append("filename",r),o.append("file",m,m.name),T.RJ.image(o).then((function(e){var t,n,i;null===(t=h.current)||void 0===t||t.execCommand("mceInsertContent",!1,ve(null!==(n=null===(i=e.item)||void 0===i?void 0:i.url)&&void 0!==n?n:"")),he(),j(!1)}))}},text:"youtube"===(null===te||void 0===te?void 0:te.type)&&k?"Tambahkan":"Unggah",isSubmitting:Z,color:"primary",variant:"outlined"})]}):null]})]}),(0,u.jsx)(_.M,{onInit:function(e,t){f.current=t,d&&d(t)},onChange:function(){console.log(f.current.getContent()),f.current&&n&&n("content",f.current.getContent())},initialValue:t,init:{menubar:!1,statusbar:!1,placeholder:o,setup:function(e){},some_setting:1,media_live_embeds:!0,autoresize_bottom_margin:10,contextmenu:"link image media table",fontsize_formats:"8pt 10pt 12pt 14pt 16pt 18pt 24pt 36pt 48pt",plugins:"autoresize image media link lists charmap table file-handler",toolbar:"formatgroup bold italic underline strikethrough aligngroup paragraphgroup | file-handler file-handler-image file-handler-audio file-handler-video file-handler-youtube | file-handler-doc",toolbar_groups:{formatgroup:{icon:"format",tooltip:"Formatting",items:"formatselect | fontsizeselect | forecolor backcolor | superscript subscript | removeformat "},aligngroup:{icon:"align-justify",tooltip:"Text Align",items:"alignleft aligncenter alignright alignjustify"},paragraphgroup:{icon:"paragraph",tooltip:"Paragraph format",items:"h1 h2 h3 | bullist numlist | indent outdent"},insertgroup:{icon:"plus",tooltip:"Insert",items:"file-handler-image | file-handler-audio | file-handler-video | file-handler-youtube | file-handler-doc "}},open_file_picker:pe,paste_preprocess:function(e,t){return s&&s(f,t)},content_style:'body { font-family:Poppins,Helvetica,Arial,sans-serif; font-size:14px }audio,img{max-width: 100% !important}[data-mce-object="video"]{width: 100%}video{width: 100% !important; height: auto !important}',toolbar_location:"top",external_plugins:{"file-handler":"/plugins/file-handler/plugin.min.js"},mobile:{theme:"silver",menubar:!1,toolbar_location:"top",toolbar:"bold italic underline file-handler-image file-handler-audio file-handler-video "},style_formats:[{title:"Image Left",selector:"img",styles:{float:"left",margin:"0 10px 0 10px"}},{title:"Image Right",selector:"img",styles:{float:"right",margin:"0 0 10px 10px"}}]}})]})},N=a.forwardRef((function(e,t){var n=(0,a.useRef)(),i=(0,a.useRef)(),l=(0,o.U$)(e),d=(0,r.Z)(l,2),c=d[0],f=d[1],h=f.error&&f.touched?f.error:"";return"string"!==typeof n.current&&(n.current="string"===typeof c.value?c.value:""),a.useImperativeHandle(t,(function(){return{resetEditor:function(){i.current&&console.log(i.current.setContent(""))}}})),(0,u.jsxs)(s.Z,{fullWidth:e.fullWidth,error:!!h,children:[(0,u.jsx)(g.Z,{id:"-select-label",children:e.label}),(0,u.jsx)(Y,{onBeforePaste:e.onBeforePaste,setEditor:function(e){return i.current=e},initialValue:n.current,placeholder:e.placeholder,setData:function(e,t){c.onChange({target:{name:c.name,value:t}})}}),(0,u.jsx)(v.Z,{children:h})]})}))},20791:function(e,t,n){n.d(t,{M:function(){return a}});n(47313);var i=n(57829),r=n(71003),o=n(98668),l=n(46417),a=function(e){var t=e.isSubmitting,n=e.disabled,a=void 0!==n&&n,u=e.color,d=void 0===u?"primary":u,s=e.variant,c=void 0===s?"outlined":s,f=e.className,h=void 0===f?"":f,p=e.fullWidth,v=void 0!==p&&p,m=e.text,g=e.onClick;return(0,l.jsxs)(i.Z,{sx:{position:"relative",display:v?"block":"inline-block"},children:[(0,l.jsx)(r.Z,{type:"submit",onClick:g,color:d,variant:c,disabled:t||a,className:h,fullWidth:v,children:m}),t&&(0,l.jsx)(o.Z,{size:20,style:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})]})}},56417:function(e,t,n){n.d(t,{O:function(){return o}});var i=n(15671),r=n(43144),o=function(){function e(t,n,r){(0,i.Z)(this,e),this.repository=void 0,this._onSaveSuccess=void 0,this._onSaveFailed=void 0,this._onBeforeSubmit=void 0,this.repository=t,this._onSaveSuccess=n.onSaveSuccess,this._onSaveFailed=n.onSaveFailed,this._onBeforeSubmit=null===r||void 0===r?void 0:r.onBeforeSubmit}return(0,r.Z)(e,[{key:"submitToServer",value:function(e){return this._onBeforeSubmit&&(e=this._onBeforeSubmit(e)),e.id?this.repository.update(e):this.repository.create(e)}},{key:"onSubmit",value:function(e,t,n){var i=this,r=t.setSubmitting,o=t.resetForm;r(!0),this.submitToServer(e).then((function(e){e.status?(!0===n&&o(),i._onSaveSuccess&&i._onSaveSuccess(e.item)):i._onSaveFailed&&i._onSaveFailed(),r(!1)}))}}]),e}()}}]);