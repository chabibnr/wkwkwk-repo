"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[9726],{91011:function(e,t,n){n.r(t),n.d(t,{default:function(){return ye}});var r,i,o=n(29439),s=n(47313),a=n(65476),c=n(97890),u=n(16330),l=n(92649),d=n(75361),h=n(94614),f=n(57829),m=n(71003),v=n(57775),p=n(51057),g=n(57227),x=n(11579),y=n(4942),b=n(69625),w=n(6961),E=n(47605),T=n(51885),k=n(24929),Z=n(75429),I=n(44894),j=n(20791),S=n(33187),M=n(93433),L=n(15861),A=n(15671),C=n(43144),R=n(37762),P=n(87757),D=n.n(P),O=Object.create,N=Object.defineProperty,U=Object.getOwnPropertyDescriptor,B=Object.getOwnPropertyNames,z=Object.getPrototypeOf,G=Object.prototype.hasOwnProperty,F=(r=function(e,t){var r,i;r=e,i=function(e){var t,n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,r=536870912,i=2*r,o=new WeakMap,s=function(e,t){return function(o){var s=t.get(o),a=void 0===s?o.size:s<i?s+1:0;if(!o.has(a))return e(o,a);if(o.size<r){for(;o.has(a);)a=Math.floor(Math.random()*i);return e(o,a)}if(o.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;o.has(a);)a=Math.floor(Math.random()*n);return e(o,a)}}((t=o,function(e,n){return t.set(e,n),n}),o),a=function(e){return function(t){var n=e(t);return t.add(n),n}}(s);e.addUniqueNumber=a,e.generateUniqueNumber=s,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof e&&"undefined"!=typeof t?i(e):"function"==typeof define&&n.amdO?define(["exports"],i):i((r="undefined"!=typeof globalThis?globalThis:r||self).fastUniqueNumbers={})},function(){return i||r((i={exports:{}}).exports,i),i.exports});var _=function(e){return function(e,t,n){if(t&&"object"==typeof t||"function"==typeof t){var r,i=(0,R.Z)(B(t));try{var o=function(){var i=r.value;!G.call(e,i)&&"default"!==i&&N(e,i,{get:function(){return t[i]},enumerable:!(n=U(t,i))||n.enumerable})};for(i.s();!(r=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}}return e}(function(e){return N(e,"__esModule",{value:!0})}(N(null!=e?O(z(e)):{},"default",e&&e.__esModule&&"default"in e?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)}(F()),V=null,W=(function(e,t){}((function(e){var t=new Map([[0,function(){}]]),n=new Map([[0,function(){}]]),r=new Map,i=new Worker(e);return i.addEventListener("message",(function(e){var i=e.data;if(function(e){return void 0!==e.method&&"call"===e.method}(i)){var o=i.params,s=o.timerId,a=o.timerType;if("interval"===a){var c=t.get(s);if("number"==typeof c){var u=r.get(c);if(void 0===u||u.timerId!==s||u.timerType!==a)throw new Error("The timer is in an undefined state.")}else{if("undefined"==typeof c)throw new Error("The timer is in an undefined state.");c()}}else if("timeout"===a){var l=n.get(s);if("number"==typeof l){var d=r.get(l);if(void 0===d||d.timerId!==s||d.timerType!==a)throw new Error("The timer is in an undefined state.")}else{if("undefined"==typeof l)throw new Error("The timer is in an undefined state.");l(),n.delete(s)}}}else{if(!function(e){return null===e.error&&"number"==typeof e.id}(i)){var h=i.error.message;throw new Error(h)}var f=i.id,m=r.get(f);if(void 0===m)throw new Error("The timer is in an undefined state.");var v=m.timerId,p=m.timerType;r.delete(f),"interval"===p?t.delete(v):n.delete(v)}})),{clearInterval:function(e){var n=(0,_.generateUniqueNumber)(r);r.set(n,{timerId:e,timerType:"interval"}),t.set(e,n),i.postMessage({id:n,method:"clear",params:{timerId:e,timerType:"interval"}})},clearTimeout:function(e){var t=(0,_.generateUniqueNumber)(r);r.set(t,{timerId:e,timerType:"timeout"}),n.set(e,t),i.postMessage({id:t,method:"clear",params:{timerId:e,timerType:"timeout"}})},setInterval:function(e,n){var r=(0,_.generateUniqueNumber)(t);return t.set(r,(function(){e(),"function"==typeof t.get(r)&&i.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:r,timerType:"interval"}})})),i.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:r,timerType:"interval"}}),r},setTimeout:function(e,t){var r=(0,_.generateUniqueNumber)(n);return n.set(r,e),i.postMessage({id:null,method:"set",params:{delay:t,now:performance.now(),timerId:r,timerType:"timeout"}}),r}}}),'(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'),"object"==("undefined"==typeof window?"undefined":typeof window)),q={setTimeout:W?setTimeout.bind(window):setTimeout,clearTimeout:W?clearTimeout.bind(window):clearTimeout,setInterval:W?setInterval.bind(window):setInterval,clearInterval:W?clearInterval.bind(window):clearInterval};function Y(e){q.setTimeout=e.setTimeout,q.clearTimeout=e.clearTimeout,q.setInterval=e.setInterval,q.clearInterval=e.clearInterval}var J,X,H={},Q=function(){function e(t){(0,A.Z)(this,e),this.closed=!1,this.mc=new MessageChannel,this.name=t,H[t]=H[t]||[],H[t].push(this),this.mc.port1.start(),this.mc.port2.start(),this.onStorage=this.onStorage.bind(this),window.addEventListener("storage",this.onStorage)}return(0,C.Z)(e,[{key:"onStorage",value:function(e){if(e.storageArea===window.localStorage&&e.key.substring(0,this.name.length)===this.name&&null!==e.newValue){var t=JSON.parse(e.newValue);this.mc.port2.postMessage(t)}}},{key:"postMessage",value:function(e){var t=this;if(this.closed)throw new Error("InvalidStateError");var n=JSON.stringify(e),r="".concat(this.name,":").concat(String(Date.now())).concat(String(Math.random()));window.localStorage.setItem(r,n),q.setTimeout((function(){window.localStorage.removeItem(r)}),500),H[this.name].forEach((function(e){e!==t&&e.mc.port2.postMessage(JSON.parse(n))}))}},{key:"close",value:function(){if(!this.closed){this.closed=!0,this.mc.port1.close(),this.mc.port2.close(),window.removeEventListener("storage",this.onStorage);var e=H[this.name].indexOf(this);H[this.name].splice(e,1)}}},{key:"onmessage",get:function(){return this.mc.port1.onmessage},set:function(e){this.mc.port1.onmessage=e}},{key:"onmessageerror",get:function(){return this.mc.port1.onmessageerror},set:function(e){this.mc.port1.onmessageerror=e}},{key:"addEventListener",value:function(e,t){return this.mc.port1.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){return this.mc.port1.removeEventListener(e,t)}},{key:"dispatchEvent",value:function(e){return this.mc.port1.dispatchEvent(e)}}]),e}(),K="undefined"==typeof window?void 0:"function"==typeof window.BroadcastChannel?window.BroadcastChannel:Q;function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return q.setTimeout(t,e)}))}function ee(){return Math.random().toString(36).substring(2)}(X=J||(J={}))[X.APPLY=0]="APPLY",X[X.TELL=1]="TELL",X[X.CLOSE=2]="CLOSE",X[X.REGISTER=3]="REGISTER",X[X.DEREGISTER=4]="DEREGISTER",X[X.IDLE=5]="IDLE",X[X.ACTIVE=6]="ACTIVE",X[X.PROMPT=7]="PROMPT",X[X.START=8]="START",X[X.RESET=9]="RESET",X[X.ACTIVATE=10]="ACTIVATE",X[X.PAUSE=11]="PAUSE",X[X.RESUME=12]="RESUME",X[X.MESSAGE=13]="MESSAGE";var te,ne,re=function(){function e(t,n){(0,A.Z)(this,e),this.token=ee(),this.isLeader=!1,this.isDead=!1,this.isApplying=!1,this.reApply=!1,this.intervals=[],this.listeners=[],this.channel=t,this.options=n,this.apply=this.apply.bind(this),this.awaitLeadership=this.awaitLeadership.bind(this),this.sendAction=this.sendAction.bind(this)}return(0,C.Z)(e,[{key:"apply",value:function(){var e=(0,L.Z)(D().mark((function e(){var t,n,r=this;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLeader&&!this.isDead){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.isApplying){e.next=4;break}return e.abrupt("return",(this.reApply=!0,!1));case 4:return this.isApplying=!0,t=!1,n=function(e){var n=e.data,i=n.token,o=n.action;i!==r.token&&(o===J.APPLY&&i>r.token&&(t=!0),o===J.TELL&&(t=!0))},this.channel.addEventListener("message",n),e.prev=7,this.sendAction(J.APPLY),e.next=11,$(this.options.responseTime);case 11:return this.channel.removeEventListener("message",n),this.isApplying=!1,e.abrupt("return",t?!!this.reApply&&this.apply():(this.assumeLead(),!0));case 16:return e.prev=16,e.t0=e.catch(7),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,this,[[7,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"awaitLeadership",value:function(){var e=this;if(this.isLeader)return Promise.resolve();var t=!1,n=null;return new Promise((function(r){var i=function(){if(!t){t=!0,q.clearInterval(n);var i=e.intervals.indexOf(n);e.intervals.splice(i,1),e.channel.removeEventListener("message",o),r()}};n=q.setInterval((function(){e.apply().then((function(){e.isLeader&&i()}))}),e.options.fallbackInterval),e.intervals.push(n);var o=function(t){t.data.action===J.CLOSE&&e.apply().then((function(){e.isLeader&&i()}))};e.channel.addEventListener("message",o)}))}},{key:"sendAction",value:function(e){this.channel.postMessage({action:e,token:this.token})}},{key:"assumeLead",value:function(){var e=this;this.isLeader=!0;var t=function(t){t.data.action===J.APPLY&&e.sendAction(J.TELL)};return this.channel.addEventListener("message",t),this.listeners.push(t),this.sendAction(J.TELL)}},{key:"waitForLeadership",value:function(){return this.deferred||(this.deferred=this.awaitLeadership()),this.deferred}},{key:"close",value:function(){var e=this;this.isDead||(this.isDead=!0,this.isLeader=!1,this.sendAction(J.CLOSE),this.listeners.forEach((function(t){return e.channel.removeEventListener("message",t)})),this.intervals.forEach((function(e){return q.clearInterval(e)})))}}]),e}();(ne=te||(te={}))[ne.PROMPTED=0]="PROMPTED",ne[ne.ACTIVE=1]="ACTIVE",ne[ne.IDLE=2]="IDLE";var ie=function(){function e(t){var n=this;(0,A.Z)(this,e),this.token=ee(),this.registry=new Map,this.allIdle=!1;var r=t.channelName;if(this.options=t,this.channel=new K(r),this.registry.set(this.token,1),t.leaderElection){this.elector=new re(this.channel,{fallbackInterval:2e3,responseTime:100}),this.elector.waitForLeadership()}this.channel.addEventListener("message",(function(e){var t=e.data,r=t.action,i=t.token,o=t.data;switch(r){case J.REGISTER:n.registry.set(i,2);break;case J.DEREGISTER:n.registry.delete(i);break;case J.IDLE:n.idle(i);break;case J.ACTIVE:n.active(i);break;case J.PROMPT:n.prompt(i);break;case J.START:n.start(i);break;case J.RESET:n.reset(i);break;case J.ACTIVATE:n.activate(i);break;case J.PAUSE:n.pause(i);break;case J.RESUME:n.resume(i);break;case J.MESSAGE:n.options.onMessage(o)}})),this.send(J.REGISTER)}return(0,C.Z)(e,[{key:"isLeader",get:function(){if(!this.elector)throw new Error('\u274c Leader election is not enabled. To Enable it set the "leaderElection" property to true.');return this.elector.isLeader}},{key:"prompt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;this.registry.set(e,0);var t=(0,M.Z)(this.registry.values()).every((function(e){return 0===e}));e===this.token&&this.send(J.PROMPT),t&&this.options.onPrompt()}},{key:"idle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;this.registry.set(e,2);var t=(0,M.Z)(this.registry.values()).every((function(e){return 2===e}));e===this.token&&this.send(J.IDLE),!this.allIdle&&t&&(this.allIdle=!0,this.options.onIdle())}},{key:"active",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;this.allIdle=!1,this.registry.set(e,1);var t=(0,M.Z)(this.registry.values()).some((function(e){return 1===e}));e===this.token&&this.send(J.ACTIVE),t&&this.options.onActive()}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;this.allIdle=!1,this.registry.set(e,1),e===this.token?this.send(J.START):this.options.start(!0)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;this.allIdle=!1,this.registry.set(e,1),e===this.token?this.send(J.RESET):this.options.reset(!0)}},{key:"activate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;this.allIdle=!1,this.registry.set(e,1),e===this.token?this.send(J.ACTIVATE):this.options.activate(!0)}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;e===this.token?this.send(J.PAUSE):this.options.pause(!0)}},{key:"resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;e===this.token?this.send(J.RESUME):this.options.resume(!0)}},{key:"message",value:function(e){try{this.channel.postMessage({action:J.MESSAGE,token:this.token,data:e})}catch(t){}}},{key:"send",value:function(e){try{this.channel.postMessage({action:e,token:this.token})}catch(t){}}},{key:"close",value:function(){this.options.leaderElection&&this.elector.close(),this.send(J.DEREGISTER),this.channel.close()}}]),e}(),oe=W?document:null,se=["mousemove","keydown","wheel","DOMMouseScroll","mousewheel","mousedown","touchstart","touchmove","MSPointerDown","MSPointerMove","visibilitychange"];function ae(e){var t=(0,s.useRef)(e);return(0,s.useEffect)((function(){t.current=e}),[e]),t}function ce(e,t){var n;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){e.apply(void 0,i),n=null}),t)}return r.cancel=function(){clearTimeout(n)},r}function ue(e,t){var n=0;return function(){var r=(new Date).getTime();if(!(r-n<t))return n=r,e.apply(void 0,arguments)}}var le=function(){return W?performance.now():Date.now()};function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.timeout,n=void 0===t?12e5:t,r=e.promptTimeout,i=void 0===r?0:r,o=e.element,a=void 0===o?oe:o,c=e.events,u=void 0===c?se:c,l=e.timers,d=void 0===l?void 0:l,h=e.immediateEvents,f=void 0===h?[]:h,m=e.onPrompt,v=void 0===m?function(){}:m,p=e.onIdle,g=void 0===p?function(){}:p,x=e.onActive,y=void 0===x?function(){}:x,b=e.onAction,w=void 0===b?function(){}:b,E=e.onMessage,T=void 0===E?function(){}:E,k=e.debounce,Z=void 0===k?0:k,I=e.throttle,j=void 0===I?0:I,S=e.eventsThrottle,L=void 0===S?200:S,A=e.startOnMount,C=void 0===A||A,R=e.startManually,P=void 0!==R&&R,D=e.stopOnIdle,O=void 0!==D&&D,N=e.crossTab,U=void 0!==N&&N,B=e.name,z=void 0===B?"idle-timer":B,G=e.syncTimers,F=void 0===G?0:G,_=e.leaderElection,V=void 0!==_&&_,J=(0,s.useRef)(le()),X=(0,s.useRef)(Date.now()),H=(0,s.useRef)(le()),Q=(0,s.useRef)(null),K=(0,s.useRef)(null),$=(0,s.useRef)(0),ee=(0,s.useRef)(!0),te=(0,s.useRef)(!1),ne=(0,s.useRef)(!0),re=(0,s.useRef)(!1),de=(0,s.useRef)(!1),he=(0,s.useRef)(0),fe=(0,s.useRef)(0),me=(0,s.useRef)(null),ve=(0,s.useRef)(null),pe=ae(n),ge=ae(i),xe=ae(O),ye=(0,s.useRef)(f),be=(0,s.useRef)(a),we=(0,s.useRef)((0,M.Z)(new Set([].concat((0,M.Z)(u),(0,M.Z)(f))).values())),Ee=ae(g),Te=ae(y),ke=ae(v),Ze=ae(T),Ie=(0,s.useRef)();(0,s.useEffect)((function(){Ie.current&&Ie.current.cancel&&Ie.current.cancel(),Ie.current=Z>0?ce(w,Z):j>0?ue(w,j):w}),[w,j,Z]);var je=(0,s.useRef)();(0,s.useEffect)((function(){U&&F&&(je.current=ue((function(){ve.current.active()}),F))}),[U,F]);var Se=function(){null!==me.current&&(q.clearTimeout(me.current),me.current=null)},Me=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Se(),me.current=q.setTimeout(Re,e||pe.current),t&&(K.current=le())},Le=function(e){he.current=0,fe.current=le(),de.current=!0,Me(ge.current,!1),ke.current(e)},Ae=function(){Se(),ee.current=!0,Q.current=le(),xe.current?Ne():de.current&&(fe.current=0,de.current=!1),Ee.current()},Ce=function(e){Se(),de.current=!1,fe.current=0,ee.current=!1,$.current+=le()-Q.current,Oe(),Me(),Te.current(e)},Re=function(e){if(!ee.current)return Ie.current.cancel&&Ie.current.cancel(),ge.current>0&&!de.current?void(ve.current?ve.current.prompt():Le(e)):void(ve.current?ve.current.idle():Ae());ve.current?ve.current.active():Ce(e)},Pe=function(e){if(Ie.current(e),!de.current)if(Se(),ee.current||!ye.current.includes(e.type)){var t=le()-K.current;ee.current&&!O||!ee.current&&t>pe.current?Re(e):(te.current=!1,he.current=0,fe.current=0,Me(),U&&F&&je.current())}else Re(e)},De=(0,s.useRef)();(0,s.useEffect)((function(){var e=re.current;e&&Ne(),De.current=L>0?ue(Pe,L):Pe,e&&Oe()}),[L,U,F]);var Oe=function(){!W||re.current||(we.current.forEach((function(e){be.current.addEventListener(e,De.current,{capture:!0,passive:!0})})),re.current=!0)},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!W||(re.current||e)&&(we.current.forEach((function(e){be.current.removeEventListener(e,De.current,{capture:!0})})),re.current=!1)},Ue=(0,s.useCallback)((function(e){Se(),Oe(),ee.current=!1,de.current=!1,te.current=!1,he.current=0,fe.current=0,ve.current&&!e&&ve.current.start(),Me()}),[me,ee,pe,ve]),Be=(0,s.useCallback)((function(e){Se(),Oe(),ee.current=!1,de.current=!1,te.current=!1,he.current=0,fe.current=0,J.current=le(),H.current=le(),ve.current&&!e&&ve.current.reset(),P||Me()}),[me,ee,pe,P,ve]),ze=(0,s.useCallback)((function(e){Se(),Oe(),(ee.current||de.current)&&Ce(),ee.current=!1,de.current=!1,te.current=!1,he.current=0,fe.current=0,H.current=le(),ve.current&&!e&&ve.current.activate(),Me()}),[me,ee,pe,ve]),Ge=(0,s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!te.current&&(he.current=Je(),te.current=!0,Ne(),Se(),ve.current&&!e&&ve.current.pause(),!0)}),[me,ve]),Fe=(0,s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!te.current&&(te.current=!1,de.current||Oe(),ee.current||Me(he.current),fe.current&&(fe.current=le()),ve.current&&!e&&ve.current.resume(),!0)}),[me,pe,he,ve]),_e=(0,s.useCallback)((function(e,t){ve.current?(t&&Ze.current(e),ve.current.message(e)):t&&Ze.current(e)}),[T]),Ve=(0,s.useCallback)((function(){return ee.current}),[ee]),We=(0,s.useCallback)((function(){return de.current}),[de]),qe=(0,s.useCallback)((function(){if(!ve.current)throw new Error('\u274c Cross Tab feature is not enabled. To enable it set the "crossTab" property to true.');return ve.current.isLeader}),[ve]),Ye=(0,s.useCallback)((function(){if(!ve.current)throw new Error('\u274c Cross Tab feature is not enabled. To enable it set the "crossTab" property to true.');return ve.current.token}),[ve]),Je=(0,s.useCallback)((function(){if(te.current)return he.current;var e=he.current?he.current:ge.current+pe.current,t=K.current?le()-K.current:0,n=Math.ceil(e-t);return n<0?0:Math.abs(n)}),[pe,ge,de,he,K]),Xe=(0,s.useCallback)((function(){return Math.round(le()-H.current)}),[H]),He=(0,s.useCallback)((function(){return Math.round(le()-J.current)}),[J]),Qe=(0,s.useCallback)((function(){return Q.current?new Date(X.current-J.current+Q.current):null}),[Q]),Ke=(0,s.useCallback)((function(){return K.current?new Date(X.current-J.current+K.current):null}),[K]),$e=(0,s.useCallback)((function(){return ee.current?Math.round(le()-Q.current+$.current):Math.round($.current)}),[Q,$]),et=(0,s.useCallback)((function(){var e=Math.round(He()-$e());return e>=0?e:0}),[J,Q,$]);return(0,s.useEffect)((function(){if(Z>0&&j>0)throw new Error("\u274c onAction can either be throttled or debounced, not both.");d&&Y(d);var e=function(){ve.current&&ve.current.close(),Ie.current.cancel&&Ie.current.cancel(),Se(),Ne(!0)};return W&&window.addEventListener("beforeunload",e),function(){W&&window.removeEventListener("beforeunload",e),ve.current&&ve.current.close(),Ie.current.cancel&&Ie.current.cancel(),Se(),Ne(!0)}}),[]),(0,s.useEffect)((function(){ve.current&&ve.current.close(),ve.current=U?new ie({channelName:z,leaderElection:V,onPrompt:function(){Le()},onIdle:function(){Ae()},onActive:function(){Ce()},onMessage:Ze.current,start:Ue,reset:Be,activate:ze,pause:Ge,resume:Fe}):null}),[U,z,V,ke,Ee,Te,Ze,Ue,Be,Ge,Fe]),(0,s.useEffect)((function(){Se(),Ne(!0),ne.current||(te.current=!0,ee.current=!0,he.current=0),!P&&(C?Ue():Oe())}),[P,C,ne]),(0,s.useEffect)((function(){if(!ne.current){var e=(0,M.Z)(new Set([].concat((0,M.Z)(u),(0,M.Z)(f))).values());if(Ne(),we.current=e,be.current=a,ye.current=f,P)return;C?Ue():Oe()}}),[a,JSON.stringify(u),JSON.stringify(f),ne,P,C]),(0,s.useEffect)((function(){if(ne.current)ne.current=!1;else{if(pe.current=n,P)return;ee.current&&(Te.current(),ve.current&&ve.current.active()),Ue()}}),[n,ve,P,ne,ee]),{message:_e,start:Ue,reset:Be,activate:ze,pause:Ge,resume:Fe,isIdle:Ve,isPrompted:We,isLeader:qe,getTabId:Ye,getRemainingTime:Je,getElapsedTime:Xe,getTotalElapsedTime:He,getLastIdleTime:Qe,getLastActiveTime:Ke,getTotalIdleTime:$e,getTotalActiveTime:et}}var he=(0,s.createContext)(null);he.Consumer;var fe=n(69737),me=n(88913),ve=n(46417),pe=function(e){var t=e.model,n=e.onClose,r=(0,fe.f)().user,i=s.useState(!1),c=(0,o.Z)(i,2),l=c[0],d=c[1],h=s.useState(!1),m=(0,o.Z)(h,2),v=m[0],p=m[1],g=s.useState(3),x=(0,o.Z)(g,2),M=x[0],L=x[1],A=s.useRef(0),C=s.useRef(),R=de({timeout:15e3,onIdle:function(){d(!0),B(),console.log("user is idle"),console.log("last active",D())},onActive:function(e){d(!1),U(),console.log("start timer from ",A.current),console.log("user is active",e),console.log("time remaining",P())},onAction:function(e){console.log("user did something",e)},debounce:500}),P=R.getTotalActiveTime,D=R.getLastActiveTime;s.useLayoutEffect((function(){O()}),[]);var O=function(){A.current=0,U()},N=function(){z(),n()},U=function(){C.current=setInterval((function(){A.current+=1}),1e3)},B=function(){clearInterval(C.current)},z=function(){B(),A.current=0};return(0,ve.jsx)(ve.Fragment,{children:(0,ve.jsxs)(S.Z,{sx:l?(0,y.Z)({},"& > .MuiDialog-container",{opacity:"0.05 !important"}):{},BackdropProps:{style:{backgroundColor:l?"rgba(0,0,0,1)":"rgba(0,0,0,.7)"}},disableEscapeKeyDown:!0,onClose:function(){},"aria-labelledby":"customized-dialog-title",open:!0,maxWidth:"lg",children:[(0,ve.jsxs)(b.Z,{dividers:!0,sx:(0,y.Z)({padding:function(e){return e.spacing(2)}},"& iframe.doc-viewer",{width:"100% !important"}),children:[(0,ve.jsx)(f.Z,{textAlign:"center",fontSize:"1.4993rem",mb:5,children:t.name}),(0,ve.jsx)(f.Z,{className:"reading-mode-content",children:(0,a.ZP)("".concat(t.content))})]}),(0,ve.jsx)(w.Z,{sx:{margin:0,padding:function(e){return e.spacing(2)},background:k.Z[200]},children:(0,ve.jsxs)(f.Z,{display:"flex",alignItems:"center",width:"100%",children:[(0,ve.jsx)(f.Z,{component:"fieldset",borderColor:"transparent",children:(0,ve.jsxs)(f.Z,{component:"fieldset",borderColor:"transparent",children:[(0,ve.jsx)(E.Z,{component:"legend",children:"Tingkat Pemahaman?"}),(0,ve.jsx)(T.Z,{onChange:function(e,t){L(null!==t&&void 0!==t?t:3)}})]})}),(0,ve.jsx)(f.Z,{ml:"auto",children:(0,ve.jsx)(j.M,{isSubmitting:v,onClick:function(){if(r&&(0,me.P)(I.lg.Student,r.role)){var e=new Z.b;e.studentId=r.uid,e.topicId=t.id,e.feedback=M,e.readDuration=A.current,p(!0),u.mu.create(e).then((function(){p(!1),N()}))}else N()},text:"Selesai Membaca"})})]})})]})})},ge=n(54381),xe=n(22855),ye=function(e){e.model;var t,n,r,i,y,b=(0,c.UO)().topicId,w=(0,c.s0)(),E=(0,fe.f)().user,T=s.useState(!1),k=(0,o.Z)(T,2),Z=k[0],j=k[1],S=(0,x.useQuery)(["view-topic",b],(function(){return u.Xv.view(null!==b&&void 0!==b?b:"")})),M=S.isLoading,L=S.data,A=(0,me.P)([I.lg.Teacher],null!==(t=null===E||void 0===E?void 0:E.role)&&void 0!==t?t:[]);return M?(0,ve.jsx)(g.Z,{sx:{height:"100vh"},children:(0,ve.jsx)(h.QP,{})}):(0,ve.jsxs)(l.Z,{showBackButton:!0,title:"Detail Artikel",subTitle:null===L||void 0===L||null===(n=L.item)||void 0===n?void 0:n.name,sidebarContent:(0,ve.jsx)(d.Z,{model:null===L||void 0===L?void 0:L.item}),onBackButtonPress:function(){var e,t,n;return w("/module/".concat(null===L||void 0===L||null===(e=L.item)||void 0===e||null===(t=e.module)||void 0===t?void 0:t.courseClassroomId,"/detail/").concat(null===L||void 0===L||null===(n=L.item)||void 0===n?void 0:n.moduleId),{replace:!0})},children:[!(null!==L&&void 0!==L&&null!==(r=L.item)&&void 0!==r&&r.getIsPublish())&&(0,ve.jsx)(f.Z,{mb:4,children:(0,ve.jsxs)(ge.Z,{color:"error",severity:"warning",action:(0,ve.jsx)(m.Z,{children:"Publikasikan"}),children:[(0,ve.jsx)(xe.Z,{children:"Artikel belum dipublikasikan"}),"Artikel ini belum dipublikasikan dan belum dapat dibaca oleh Siswa."]})}),(0,ve.jsx)(v.Z,{children:(0,ve.jsxs)(p.Z,{sx:A?{}:{height:200,position:"relative","&::after":{height:50,content:'""',background:" linear-gradient(0deg, rgba(187,187,187,1) 0%, rgba(255,255,255,0.05926120448179273) 100%)",position:"absolute",left:0,bottom:0,right:0}},children:[(0,ve.jsx)(f.Z,{sx:{position:"absolute",bottom:20,display:A?"none":"block",left:0,right:0,zIndex:99,textAlign:"center"},children:(0,ve.jsx)(m.Z,{sx:{width:250},variant:"contained",onClick:function(){j(!0)},children:"Baca Selengkapnya"})}),(0,a.ZP)(null!==(i=null===L||void 0===L||null===(y=L.item)||void 0===y?void 0:y.content)&&void 0!==i?i:"")]})}),Z&&(0,ve.jsx)(pe,{model:null===L||void 0===L?void 0:L.item,openReadingMode:function(){j(!0)},onClose:function(){j(!1)}})]})}},75361:function(e,t,n){n(47313);var r=n(17049),i=n(44894),o=n(4901),s=n(5958),a=n(22539),c=n(57829),u=n(47605),l=n(71003),d=n(94614),h=n(57864),f=n(46417),m=[{title:"Artikel",subtitle:"",page:"article",showNotificationIcon:!1,icon:(0,f.jsx)(a.TYc,{}),roles:[i.lg.Student,i.lg.Teacher]},{title:"Edit Artikel",subtitle:"",page:"form",showNotificationIcon:!1,icon:(0,f.jsx)(o.bnh,{}),roles:[i.lg.Teacher]},{title:"Daftar Pembaca",subtitle:"",page:"reader",showNotificationIcon:!1,icon:(0,f.jsx)(s.$mu,{}),roles:[i.lg.Teacher]},{title:"Diskusi",subtitle:"",page:"discus",showNotificationIcon:!1,icon:(0,f.jsx)(h.RG4,{}),roles:[i.lg.Teacher]}];t.Z=function(e){var t=e.model;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(r.Z,{items:m,onGenerateLink:function(e){return{path:"/topic/".concat(null===t||void 0===t?void 0:t.id,"/").concat(e.page),state:{}}}}),(0,f.jsx)(c.Z,{mt:4,children:(0,f.jsxs)(d.CP,{title:"Papan Tulis",children:[(0,f.jsx)(u.Z,{fontSize:10,children:"Belajar lebih efektif dengan papan tulis digital"}),(0,f.jsx)(l.Z,{variant:"outlined",fullWidth:!0,sx:{marginTop:4},children:"Buka Papan Tulis"})]})})]})}},17049:function(e,t,n){n.d(t,{Z:function(){return M}});var r=n(1413),i=n(47313),o=n(88228),s=n(57829),a=n(98668),c=n(47605),u=n(71003),l=n(1001),d=n(69680),h=n(46417),f=function(e){var t=e.loader,n=e.placeholder,r=e.loading,o=e.title,f=void 0===o?(0,h.jsx)(l.Z,{id:"common.noRecordFound"}):o,m=e.actionTitle,v=e.content,p=e.onClick;return r||t?(0,h.jsx)(i.Fragment,{children:n||(0,h.jsxs)(s.Z,{sx:{flexDirection:"row",minHeight:"450px",height:"100%",flex:1,display:"flex",p:5,justifyContent:"center",alignItems:"center",borderColor:"transparent",borderRadius:"4px",textAlign:"center"},children:[(0,h.jsx)(a.Z,{size:16}),(0,h.jsx)(s.Z,{component:"span",sx:{ml:2},children:"Loading..."})]})}):(0,h.jsxs)(s.Z,{sx:{flexDirection:"column",minHeight:"450px",height:"100%",flex:1,display:"flex",p:5,justifyContent:"center",alignItems:"center",border:1,borderColor:"transparent",borderRadius:"4px",textAlign:"center"},children:[f?(0,h.jsx)(c.Z,{sx:{fontSize:14,color:function(e){return e.palette.text.secondary},fontWeight:d.F3.MEDIUM,mb:2},component:"h4",variant:"h4",children:f}):null,(0,h.jsx)(c.Z,{sx:{fontSize:14,color:function(e){return e.palette.text.secondary}},children:v}),m?(0,h.jsx)(u.Z,{color:"primary",variant:"contained",sx:{mt:7.5,height:45,minWidth:150},onClick:p,children:m}):null]})},m=n(35990),v=function(){return(0,h.jsxs)(m.ZP,{viewBox:"0 0 200 45",children:[(0,h.jsx)("rect",{x:"0",y:"10",rx:"0",ry:"0",width:"20",height:"20"}),(0,h.jsx)("rect",{x:"35",y:"12",rx:"2",ry:"2",width:"100",height:"15"})]})},p=function(){return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(v,{}),(0,h.jsx)(v,{}),(0,h.jsx)(v,{}),(0,h.jsx)(v,{}),(0,h.jsx)(v,{}),(0,h.jsx)(v,{})]})},g=n(3191),x=n(4942),y=n(34499),b=n(20729),w=n(88564),E=n(17551),T=n(74748),k=n(83213),Z=(0,w.ZP)((function(e){return(0,h.jsx)(y.ZP,(0,r.Z)({component:b.Z},e))}))((function(e){var t,n=e.theme;return t={padding:"7px 16px",borderRadius:"0 30px 30px 0",marginBottom:1,marginTop:1,color:n.palette.text.primary,width:"95%"},(0,x.Z)(t,n.breakpoints.up("md"),{paddingLeft:20,paddingRight:20}),(0,x.Z)(t,n.breakpoints.up("lg"),{paddingLeft:24,paddingRight:24}),(0,x.Z)(t,"& svg",{fontSize:"18px"}),(0,x.Z)(t,"&:hover,&:focus,&.active",{backgroundColor:(0,E.Fq)(n.palette.primary.main,.1),color:n.palette.primary.main,"& .material-icons, & svg, & .MuiTypography-root":{color:n.palette.primary.main}}),(0,x.Z)(t,"&.active",{color:n.palette.primary.main,"& .material-icons, & .MuiTypography-root":{color:n.palette.primary.main},"& .list-item-text":{"& .MuiTypography-body1":{fontWeight:d.F3.SEMI_BOLD}}}),t})),I=function(e){console.log(e);var t=i.useCallback((function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(T.Z,{sx:{minWidth:10,mr:3.5,"& .material-icons, & svg":{fontSize:22,color:function(e){return e.palette.text.secondary}}},children:e.icon}),(0,h.jsx)(k.Z,{primary:e.title,sx:{my:0,"& .MuiTypography-body1":{fontSize:14,mb:.5}},className:"list-item-text"})]})}),[]);return e.onAction?(0,h.jsx)(Z,{component:u.Z,onClick:function(){return e.onAction(e)},children:t()}):(0,h.jsx)(Z,{to:e.to,replace:!0,activeClassName:"active",children:t()})},j=n(88913),S=n(69737),M=function(e){var t=e.items,n=e.onGenerateLink,i=(0,S.f)().user;return(0,h.jsx)(g.Z,{sx:{mb:{xs:2,xl:5}},component:"nav",children:(0,h.jsx)(o.Z,{data:t.filter((function(e){return(0,j.P)(e.roles,i.role)})),ListEmptyComponent:(0,h.jsx)(f,{loading:!0,placeholder:(0,h.jsx)(s.Z,{sx:{px:{xs:4,md:5,lg:6.2}},children:(0,h.jsx)(p,{})})}),renderRow:function(e){var t=n(e),i=t;return"object"===typeof t&&(i=t.path),e.to=i,(0,h.jsx)(I,(0,r.Z)({},e))}})})}},92649:function(e,t,n){n.d(t,{Z:function(){return I},W:function(){return Z}});var r=n(29439),i=n(57829),o=n(34499),s=n(37429),a=n(80836),c=n(83213),u=n(47313),l=n(26672),d=n(97890),h=n(94614),f=n(4942),m=n(57451),v=n(21212),p=n(57775),g=n(50301),x=n(86302),y=n(1084),b=n(67375),w=n(46417),E=function(e){var t=e.isAppDrawerOpen,n=e.sidebarContent,r=(0,y.I0)();return(0,w.jsx)(g.Z,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,w.jsxs)(i.Z,{sx:{width:{lg:280}},children:[(0,w.jsx)(m.Z,{lgUp:!0,children:(0,w.jsx)(v.ZP,{open:t,onClose:function(){return r((0,b.Y1)())},sx:(0,f.Z)({position:"absolute"},"& .".concat(x.Z.paper),{width:280,"& .listItem":{zIndex:1305}}),children:n})}),(0,w.jsx)(m.Z,{lgDown:!0,children:(0,w.jsx)(p.Z,{style:{height:"100%"},children:n})})]})})},T=n(19406),k=u.createContext({setTitle:function(e){}}),Z=function(){return(0,u.useContext)(k)},I=function(e){var t,n=(0,u.useState)(e.title),f=(0,r.Z)(n,2),m=f[0],v=f[1],p=(0,u.useState)(e.toolbar),g=(0,r.Z)(p,2),x=g[0],b=(g[1],(0,u.useState)(e.subTitle)),Z=(0,r.Z)(b,2),I=Z[0],j=(Z[1],(0,u.useState)(e.showBackButton)),S=(0,r.Z)(j,2),M=S[0],L=(S[1],(0,u.useState)(e.fullView)),A=(0,r.Z)(L,2),C=A[0],R=(A[1],(0,u.useState)()),P=(0,r.Z)(R,2),D=P[0],O=(P[1],(0,u.useState)(e.sidebarContent)),N=(0,r.Z)(O,2),U=N[0],B=(N[1],(0,u.useState)(e.contentPadding)),z=(0,r.Z)(B,2),G=z[0],F=(z[1],(0,d.s0)()),_=(0,u.useCallback)((function(){F(-1)}),[history]),V=((0,y.I0)(),(0,y.v9)((function(e){return e.common})).isAppDrawerOpen),W=(0,T.l5)().footer;(0,T.l5)().navStyle;return(0,u.useEffect)((function(){document.title=null!==m&&void 0!==m?m:"AFresto System Indonesia"}),[m]),(0,w.jsx)(k.Provider,{value:{setTitle:v},children:(0,w.jsxs)(i.Z,{children:[m&&(0,w.jsxs)(o.ZP,{component:"div",sx:{backgroundColor:"#fff",borderBottom:"1px solid #ccc",position:"sticky",top:"70px",zIndex:99},secondaryAction:x,children:[M&&(0,w.jsx)(s.Z,{children:(0,w.jsx)(a.Z,{onClick:null!==(t=null!==D&&void 0!==D?D:e.onBackButtonPress)&&void 0!==t?t:_,children:(0,w.jsx)(l.x_l,{})})}),(0,w.jsx)(c.Z,{primary:m,primaryTypographyProps:{fontSize:20},secondary:I})]}),(0,w.jsx)(h.uc,{animation:"transition.slideUpIn",delay:200,children:(0,w.jsx)(i.Z,{sx:{p:null!==G&&void 0!==G?G:{xs:5,md:7.5,xl:12.5}},children:U?(0,w.jsxs)(i.Z,{sx:{display:"flex"},children:[U?(0,w.jsx)(i.Z,{children:(0,w.jsx)(E,{isAppDrawerOpen:V,footer:W,fullView:C,sidebarContent:U})}):null,(0,w.jsx)(i.Z,{sx:{display:"flex",flexDirection:"column",width:{xs:"100%",lg:"calc(100% - ".concat(C?0:280,"px)")},pl:{lg:C?0:8}},children:e.children})]}):e.children})})]})})}},33187:function(e,t,n){var r=n(1413),i=(n(47313),n(19860)),o=n(24813),s=n(94469),a=n(33604),c=n(46417);t.Z=function(e){var t=(0,i.Z)(),n=(0,o.Z)(t.breakpoints.down("sm"));return(0,c.jsxs)(s.Z,(0,r.Z)((0,r.Z)({fullWidth:!0,fullScreen:n,maxWidth:"sm"},e),{},{children:[e.title&&(0,c.jsx)(a.Z,{children:e.title}),e.children]}))}},20791:function(e,t,n){n.d(t,{M:function(){return a}});n(47313);var r=n(57829),i=n(71003),o=n(98668),s=n(46417),a=function(e){var t=e.isSubmitting,n=e.disabled,a=void 0!==n&&n,c=e.color,u=void 0===c?"primary":c,l=e.variant,d=void 0===l?"outlined":l,h=e.className,f=void 0===h?"":h,m=e.fullWidth,v=void 0!==m&&m,p=e.text,g=e.onClick;return(0,s.jsxs)(r.Z,{sx:{position:"relative",display:v?"block":"inline-block"},children:[(0,s.jsx)(i.Z,{type:"submit",onClick:g,color:u,variant:d,disabled:t||a,className:f,fullWidth:v,children:p}),t&&(0,s.jsx)(o.Z,{size:20,style:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})]})}},74748:function(e,t,n){var r=n(63366),i=n(87462),o=n(47313),s=n(83061),a=n(50317),c=n(88564),u=n(77342),l=n(37363),d=n(51195),h=n(46417),f=["className"],m=(0,c.ZP)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({minWidth:56,color:t.palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})})),v=o.forwardRef((function(e,t){var n=(0,u.Z)({props:e,name:"MuiListItemIcon"}),c=n.className,v=(0,r.Z)(n,f),p=o.useContext(d.Z),g=(0,i.Z)({},n,{alignItems:p.alignItems}),x=function(e){var t=e.alignItems,n=e.classes,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,a.Z)(r,l.f,n)}(g);return(0,h.jsx)(m,(0,i.Z)({className:(0,s.Z)(x.root,c),ownerState:g,ref:t},v))}));t.Z=v}}]);