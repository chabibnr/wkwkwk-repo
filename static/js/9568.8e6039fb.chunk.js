"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[9568],{76514:function(n,e,t){t.r(e),t.d(e,{default:function(){return M}});var i=t(1413),a=t(29439),o=t(47313),r=t(92649),s=t(71003),l=t(69625),u=t(57775),c=t(40490),d=t.n(c),f=t(16330),h=t(62847),x=t(67375),m=t(1084),p=t(2682),v=t(33187),j=t(79842),S=t(3463),Z=t(57829),b=t(6961),g=t(20791),C=t(29417),k=t(56417),y=t(46417),P=S.Ry({name:S.Z_().required("Nama Pelajaran harus diisi"),codeName:S.Z_().test("len","Kode harus 3 karakter",(function(n){return 3===n.length})).required("Kode harus diisi")}),B=function(n){var e=new k.O(f.JC,{onSaveSuccess:n.onSaveSuccess,onSaveFailed:n.onSaveFailed});return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(j.J9,{initialValues:n.model,validationSchema:P,onSubmit:function(n,t){return e.onSubmit(n,t)},children:function(e){var t=e.isSubmitting;return(0,y.jsxs)(j.l0,{children:[(0,y.jsx)(Z.Z,{mb:4,children:(0,y.jsx)(C.nv,{name:"name",variant:"filled",label:"Nama Pelajaran"})}),(0,y.jsx)(Z.Z,{mb:4,children:(0,y.jsx)(C.nv,{name:"codeName",variant:"filled",label:"Kode"})}),(0,y.jsx)(Z.Z,{mt:4,children:(0,y.jsxs)(b.Z,{children:[(0,y.jsx)(s.Z,{color:"secondary",onClick:n.onCancel,disabled:t,variant:"text",disableElevation:!0,children:"Batal"}),(0,y.jsx)(g.M,{isSubmitting:t,text:"Simpan"})]})})]})}})})},w=t(14997),M=function(){var n=(0,o.useState)(null),e=(0,a.Z)(n,2),t=e[0],c=e[1],j=(0,m.I0)(),S=o.useRef(),Z=o.useCallback((function(n,e){n.formMode=e,c(n)}),[]),b=o.useCallback((function(n){j((0,x.PV)("Mata Pelajaran berhasil disimpan")),S.current.onQueryChange(),C()}),[]),g=o.useCallback((function(){j((0,x.Tl)("Mata Pelajaran gagal disimpan"))}),[]),C=o.useCallback((function(){c(null)}),[]),k=o.useCallback((function(){return f.JC.remove(t).then((function(n){n.status?(S.current.onQueryChange(),j((0,x.PV)("Mata Pelajaran telah dihapus"))):j((0,x.Tl)("Mata Pelajaran gagal dihapus"))}))}),[t]);return(0,y.jsxs)(r.Z,{title:"Pengaturan Mata Pelajaran",toolbar:(0,y.jsx)(s.Z,{variant:"contained",onClick:function(){return c(new h.T0)},children:"Tambah Mata Pelajaran"}),children:[t&&("create"==t.formMode||"edit"==t.formMode)&&(0,y.jsx)(v.Z,{open:!0,title:t.isNewRecord?"Tambah Mata Pelajaran":"Perbarui Mata Pelajaran",children:(0,y.jsx)(l.Z,{children:(0,y.jsx)(B,{model:t,onCancel:C,onSaveFailed:g,onSaveSuccess:b})})}),t&&"delete"==t.formMode&&(0,y.jsx)(w.Z,{open:!0,onDeny:C,onConfirm:k,dialogTitle:"Hapus Mata Pelajaran",title:"Yakin ingin menghapus Mata Pelajaran <strong>".concat(t.name,"</strong> ?")}),(0,y.jsx)(d(),{title:"",tableRef:S,components:{Toolbar:function(){return(0,y.jsx)(y.Fragment,{})},Container:function(n){return(0,y.jsx)(u.Z,(0,i.Z)({},n))}},options:{search:!1,pageSize:10,sorting:!1,draggable:!1,actionsColumnIndex:-1},data:function(n){return new Promise((function(e,t){f.JC.findAll({page:n.page+1}).then((function(n){n.status?e({data:n.items,page:n.page-1,totalCount:n.totalCount}):e({data:[],page:0,totalCount:0})}))}))},columns:[{title:"Name",field:"name"},{title:"Kode",field:"codeName"},{title:"Dibuat",field:"createdAt",render:function(n){return(0,p.ss)(n.createdAt,"LL")}},{title:"Diperbarui",field:"updatedAt",render:function(n){return(0,p.ss)(n.updatedAt,"LL")}}],actions:[{icon:"create",tooltip:"Edit Mata Pelajaran",onClick:function(n,e){e instanceof h.T0&&Z(e,"edit"),j((0,x.SR)())}},{icon:"delete",tooltip:"Hapus Mata Pelajaran",iconProps:{color:"error"},onClick:function(n,e){e instanceof h.T0&&Z(e,"delete")}}]})]})}},14997:function(n,e,t){var i=t(29439),a=t(1413),o=t(47313),r=t(71003),s=t(1001),l=t(50301),u=t(94469),c=t(33604),d=t(47605),f=t(69625),h=t(6961),x=t(69680),m=t(20791),p=t(65476),v=t(46417),j=o.forwardRef((function(n,e){return(0,v.jsx)(l.Z,(0,a.Z)({direction:"up",ref:e},n))}));e.Z=function(n){var e=n.open,t=n.onDeny,a=n.onConfirm,l=n.title,S=n.dialogTitle,Z=o.useState(!1),b=(0,i.Z)(Z,2),g=b[0],C=b[1];return(0,v.jsxs)(u.Z,{TransitionComponent:j,open:e,onClose:function(){return t(!1)},children:[(0,v.jsx)(c.Z,{children:(0,v.jsx)(d.Z,{component:"h4",variant:"h4",sx:{mb:3,fontWeight:x.F3.SEMI_BOLD},id:"alert-dialog-title",children:S})}),(0,v.jsx)(f.Z,{sx:{color:"text.secondary",fontSize:14},id:"alert-dialog-description",children:(0,p.ZP)("".concat(l))}),(0,v.jsxs)(h.Z,{sx:{pb:5,px:6},children:[(0,v.jsx)(r.Z,{variant:"outlined",sx:{fontWeight:x.F3.MEDIUM,mr:4},onClick:function(){return t(!1)},color:"secondary",children:(0,v.jsx)(s.Z,{id:"common.no"})}),(0,v.jsx)(m.M,{isSubmitting:g,onClick:function(){C(!0),a().finally((function(){C(!1),t(!1)}))},text:"Lanjutkan"})]})]})}},92649:function(n,e,t){t.d(e,{Z:function(){return P},W:function(){return y}});var i=t(29439),a=t(57829),o=t(34499),r=t(37429),s=t(80836),l=t(83213),u=t(47313),c=t(26672),d=t(97890),f=t(94614),h=t(4942),x=t(57451),m=t(21212),p=t(57775),v=t(50301),j=t(86302),S=t(1084),Z=t(67375),b=t(46417),g=function(n){var e=n.isAppDrawerOpen,t=n.sidebarContent,i=(0,S.I0)();return(0,b.jsx)(v.Z,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,b.jsxs)(a.Z,{sx:{width:{lg:280}},children:[(0,b.jsx)(x.Z,{lgUp:!0,children:(0,b.jsx)(m.ZP,{open:e,onClose:function(){return i((0,Z.Y1)())},sx:(0,h.Z)({position:"absolute"},"& .".concat(j.Z.paper),{width:280,"& .listItem":{zIndex:1305}}),children:t})}),(0,b.jsx)(x.Z,{lgDown:!0,children:(0,b.jsx)(p.Z,{style:{height:"100%"},children:t})})]})})},C=t(19406),k=u.createContext({setTitle:function(n){},setSubtitle:function(n){},setShowBackButton:function(n){},setOnBackButtonPress:function(n){},setToolbar:function(n){},resetLayout:function(){}}),y=function(){return(0,u.useContext)(k)},P=function(n){var e=(0,u.useState)(),t=(0,i.Z)(e,2),h=t[0],x=t[1],m=(0,u.useState)(n.toolbar),p=(0,i.Z)(m,2),v=p[0],j=p[1],Z=(0,u.useState)(),y=(0,i.Z)(Z,2),P=y[0],B=y[1],w=(0,u.useState)(n.showBackButton),M=(0,i.Z)(w,2),_=M[0],T=M[1],F=(0,u.useState)(n.fullView),D=(0,i.Z)(F,2),I=D[0],A=(D[1],(0,u.useState)()),O=(0,i.Z)(A,2),L=O[0],E=O[1],N=(0,u.useState)(n.sidebarContent),R=(0,i.Z)(N,2),z=R[0],V=(R[1],(0,u.useState)(n.contentPadding)),W=(0,i.Z)(V,2),J=W[0],K=(W[1],(0,d.s0)()),U=(0,u.useCallback)((function(){K(-1)}),[history]),q=((0,S.I0)(),(0,S.v9)((function(n){return n.common})).isAppDrawerOpen),H=(0,C.l5)().footer,Q=((0,C.l5)().navStyle,null!==h&&void 0!==h?h:n.title),Y=null!==P&&void 0!==P?P:n.subTitle,G=null!==v&&void 0!==v?v:n.toolbar,X=null!==_&&void 0!==_?_:n.showBackButton,$=null!==L&&void 0!==L?L:n.onBackButtonPress;return(0,u.useEffect)((function(){document.title=null!==Q&&void 0!==Q?Q:"AFresto System Indonesia"}),[Q]),(0,b.jsx)(k.Provider,{value:{setTitle:x,setSubtitle:B,setOnBackButtonPress:E,setShowBackButton:T,setToolbar:j,resetLayout:function(){x(void 0),B(void 0),T(void 0),E(void 0),j(void 0)}},children:(0,b.jsxs)(a.Z,{children:[Q&&(0,b.jsxs)(o.ZP,{component:"div",sx:{backgroundColor:"#fff",borderBottom:"1px solid #ccc",position:"sticky",top:"70px",zIndex:99},secondaryAction:G,children:[X&&(0,b.jsx)(r.Z,{children:(0,b.jsx)(s.Z,{onClick:null!==$&&void 0!==$?$:U,children:(0,b.jsx)(c.x_l,{})})}),(0,b.jsx)(l.Z,{primary:Q,primaryTypographyProps:{fontSize:20},secondary:Y})]}),(0,b.jsx)(f.uc,{animation:"transition.slideUpIn",delay:200,children:(0,b.jsx)(a.Z,{sx:{p:null!==J&&void 0!==J?J:{xs:5,md:7.5,xl:12.5}},children:z?(0,b.jsxs)(a.Z,{sx:{display:"flex"},children:[z?(0,b.jsx)(a.Z,{children:(0,b.jsx)(g,{isAppDrawerOpen:q,footer:H,fullView:I,sidebarContent:z})}):null,(0,b.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",width:{xs:"100%",lg:"calc(100% - ".concat(I?0:280,"px)")},pl:{lg:I?0:8}},children:n.children})]}):n.children})})]})})}},33187:function(n,e,t){var i=t(1413),a=(t(47313),t(19860)),o=t(24813),r=t(94469),s=t(33604),l=t(46417);e.Z=function(n){var e=(0,a.Z)(),t=(0,o.Z)(e.breakpoints.down("sm"));return(0,l.jsxs)(r.Z,(0,i.Z)((0,i.Z)({fullWidth:!0,fullScreen:t,maxWidth:"sm"},n),{},{children:[n.title&&(0,l.jsx)(s.Z,{children:n.title}),n.children]}))}},56417:function(n,e,t){t.d(e,{O:function(){return o}});var i=t(15671),a=t(43144),o=function(){function n(e,t,a){(0,i.Z)(this,n),this.repository=void 0,this._onSaveSuccess=void 0,this._onSaveFailed=void 0,this._onBeforeSubmit=void 0,this.repository=e,this._onSaveSuccess=t.onSaveSuccess,this._onSaveFailed=t.onSaveFailed,this._onBeforeSubmit=null===a||void 0===a?void 0:a.onBeforeSubmit}return(0,a.Z)(n,[{key:"submitToServer",value:function(n){return this._onBeforeSubmit&&(n=this._onBeforeSubmit(n)),n.id?this.repository.update(n):this.repository.create(n)}},{key:"onSubmit",value:function(n,e,t){var i=this,a=e.setSubmitting,o=e.resetForm;a(!0),this.submitToServer(n).then((function(n){n.status?(!0===t&&o(),i._onSaveSuccess&&i._onSaveSuccess(n.item)):i._onSaveFailed&&i._onSaveFailed(),a(!1)}))}}]),n}()}}]);