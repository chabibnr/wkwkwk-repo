"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[8140],{39246:function(n,t,e){e.r(t),e.d(t,{default:function(){return b}});var i=e(47313),s=e(14924),a=e(57829),o=e(29417),r=e(20791),l=e(79842),d=e(3463),u=e(44894),c=e(16330),f=e(1084),x=e(67375),h=e(69737),p=e(88913),m=e(46417),w=d.Ry({oldPassword:d.Z_().required("Kata sandi lama harus diisi"),newPassword:d.Z_().required("Kata sandi baru harus diisi").min(8,"Katasandi paling sedikit 8 karakter"),confirmPassword:d.Z_().required("Konfirmasi kata sandi harus diisi").oneOf([d.iH("newPassword")],"Konfirmasi kata sandi harus sama")}),v=function(n){var t=n.accountId,e=n.accountType,i=(0,h.f)().user,d=(0,f.I0)(),v=function(){return(0,p.P)(u.lg.Admin,null===i||void 0===i?void 0:i.role)&&i.uid!==t};return(0,m.jsx)(s.Z,{children:(0,m.jsx)(l.J9,{initialValues:{oldPassword:v()?"-":"",newPassword:"",confirmPassword:""},validationSchema:w,onSubmit:function(n,i){var s=i.setSubmitting,a=i.resetForm;d((0,x.SR)()),v()?c.P_.updatePassword("student"===e?"student":"employee",t,n.newPassword).then((function(n){n.status?(d((0,x.PV)("Katasandi telah diganti")),a()):d((0,x.Tl)("Katasandi gagal diganti"))})).finally((function(){s(!1)})):c.P_.changeMyPassword(n.oldPassword,n.newPassword).then((function(n){n.status?(d((0,x.PV)("Katasandi telah diganti")),a()):d((0,x.Tl)("Katasandi lama salah"))})).finally((function(){s(!1)}))},children:function(n){var t=n.isSubmitting;return(0,m.jsxs)(a.Z,{component:l.l0,children:[(0,m.jsx)(a.Z,{mb:8,display:v()?"none":"block",children:(0,m.jsx)(o.nv,{variant:"filled",type:"password",name:"oldPassword",label:"Kata sandi lama"})}),(0,m.jsx)(a.Z,{mb:8,children:(0,m.jsx)(o.nv,{variant:"filled",type:"password",name:"newPassword",label:"Kata sandi baru"})}),(0,m.jsx)(a.Z,{mb:8,children:(0,m.jsx)(o.nv,{variant:"filled",type:"password",name:"confirmPassword",label:"Konfirmasi kata sandi baru"})}),(0,m.jsx)(a.Z,{children:(0,m.jsx)(r.M,{isSubmitting:t,text:"Simpan"})})]})}})})},Z=e(92649),j=e(97890),b=function(n){var t=(0,Z.W)().setTitle,e=(0,j.UO)().employeeId;return i.useEffect((function(){t("Ganti Password")}),[]),(0,m.jsx)(v,{accountId:e,accountType:"employee"})}},92649:function(n,t,e){e.d(t,{Z:function(){return g},W:function(){return S}});var i=e(29439),s=e(57829),a=e(34499),o=e(37429),r=e(80836),l=e(83213),d=e(47313),u=e(26672),c=e(97890),f=e(94614),x=e(4942),h=e(57451),p=e(21212),m=e(57775),w=e(50301),v=e(86302),Z=e(1084),j=e(67375),b=e(46417),y=function(n){var t=n.isAppDrawerOpen,e=n.sidebarContent,i=(0,Z.I0)();return(0,b.jsx)(w.Z,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,b.jsxs)(s.Z,{sx:{width:{lg:280}},children:[(0,b.jsx)(h.Z,{lgUp:!0,children:(0,b.jsx)(p.ZP,{open:t,onClose:function(){return i((0,j.Y1)())},sx:(0,x.Z)({position:"absolute"},"& .".concat(v.Z.paper),{width:280,"& .listItem":{zIndex:1305}}),children:e})}),(0,b.jsx)(h.Z,{lgDown:!0,children:(0,b.jsx)(m.Z,{style:{height:"100%"},children:e})})]})})},P=e(19406),k=d.createContext({setTitle:function(n){},setSubtitle:function(n){},setShowBackButton:function(n){},setOnBackButtonPress:function(n){},setToolbar:function(n){},resetLayout:function(){}}),S=function(){return(0,d.useContext)(k)},g=function(n){var t=(0,d.useState)(),e=(0,i.Z)(t,2),x=e[0],h=e[1],p=(0,d.useState)(n.toolbar),m=(0,i.Z)(p,2),w=m[0],v=m[1],j=(0,d.useState)(),S=(0,i.Z)(j,2),g=S[0],B=S[1],K=(0,d.useState)(n.showBackButton),C=(0,i.Z)(K,2),I=C[0],T=C[1],_=(0,d.useState)(n.fullView),O=(0,i.Z)(_,2),A=O[0],D=(O[1],(0,d.useState)()),V=(0,i.Z)(D,2),E=V[0],q=V[1],z=(0,d.useState)(n.sidebarContent),U=(0,i.Z)(z,2),F=U[0],L=(U[1],(0,d.useState)(n.contentPadding)),M=(0,i.Z)(L,2),R=M[0],W=(M[1],(0,c.s0)()),G=(0,d.useCallback)((function(){W(-1)}),[history]),H=((0,Z.I0)(),(0,Z.v9)((function(n){return n.common})).isAppDrawerOpen),J=(0,P.l5)().footer,Y=((0,P.l5)().navStyle,null!==x&&void 0!==x?x:n.title),N=null!==g&&void 0!==g?g:n.subTitle,Q=null!==w&&void 0!==w?w:n.toolbar,X=null!==I&&void 0!==I?I:n.showBackButton,$=null!==E&&void 0!==E?E:n.onBackButtonPress;return(0,d.useEffect)((function(){document.title=null!==Y&&void 0!==Y?Y:"AFresto System Indonesia"}),[Y]),(0,b.jsx)(k.Provider,{value:{setTitle:h,setSubtitle:B,setOnBackButtonPress:q,setShowBackButton:T,setToolbar:v,resetLayout:function(){h(void 0),B(void 0),T(void 0),q(void 0),v(void 0)}},children:(0,b.jsxs)(s.Z,{children:[Y&&(0,b.jsxs)(a.ZP,{component:"div",sx:{backgroundColor:"#fff",borderBottom:"1px solid #ccc",position:"sticky",top:"70px",zIndex:99},secondaryAction:Q,children:[X&&(0,b.jsx)(o.Z,{children:(0,b.jsx)(r.Z,{onClick:null!==$&&void 0!==$?$:G,children:(0,b.jsx)(u.x_l,{})})}),(0,b.jsx)(l.Z,{primary:Y,primaryTypographyProps:{fontSize:20},secondary:N})]}),(0,b.jsx)(f.uc,{animation:"transition.slideUpIn",delay:200,children:(0,b.jsx)(s.Z,{sx:{p:null!==R&&void 0!==R?R:{xs:5,md:7.5,xl:12.5}},children:F?(0,b.jsxs)(s.Z,{sx:{display:"flex"},children:[F?(0,b.jsx)(s.Z,{children:(0,b.jsx)(y,{isAppDrawerOpen:H,footer:J,fullView:A,sidebarContent:F})}):null,(0,b.jsx)(s.Z,{sx:{display:"flex",flexDirection:"column",width:{xs:"100%",lg:"calc(100% - ".concat(A?0:280,"px)")},pl:{lg:A?0:8}},children:n.children})]}):n.children})})]})})}}}]);