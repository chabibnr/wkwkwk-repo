"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[5623],{69307:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var i=n(47313),o=n(71003),a=n(19641),r=n(57829),l=n(14924),s=n(5845),d=n.n(s),c=n(97548),u=n.n(c),m=n(46417);function x(e){var t={chart:{type:"pie"},title:{text:e.title},series:e.series,credits:{enabled:!1}};return(0,m.jsx)(u(),{highcharts:d(),options:t})}var h=n(16330),f=n(97890),p=n(20466),v=n(16169),g=n(63492),j=n.n(g),Z=n(29439),b=n(85530),y=n.n(b),k=n(33187),C=n(58455),w=n(6961);function R(e){var t,n,a,r,l,s,c,x=e.data,h=(0,i.useState)(),f=(0,Z.Z)(h,2),v=f[0],g=f[1],j=[{name:"Sangat Paham",color:"#0a6100",data:null!==(t=null===x||void 0===x?void 0:x.data[5])&&void 0!==t?t:[]},{name:"Paham",color:"#00c20d",data:null!==(n=null===x||void 0===x?void 0:x.data[4])&&void 0!==n?n:[]},{name:"Cukup Paham",color:"#fbff00",data:null!==(a=null===x||void 0===x?void 0:x.data[3])&&void 0!==a?a:[]},{name:"Kurang Paham",color:"#ffa600",data:null!==(r=null===x||void 0===x?void 0:x.data[2])&&void 0!==r?r:[]},{name:"Tidak Paham",color:"#ff2a00",data:null!==(l=null===x||void 0===x?void 0:x.data[1])&&void 0!==l?l:[]},{name:"Tidak ada feedback",color:"#bbbfbc",data:null!==(s=null===x||void 0===x?void 0:x.data[0])&&void 0!==s?s:[]}],b={chart:{type:"column"},xAxis:{categories:null!==(c=null===x||void 0===x?void 0:x.title)&&void 0!==c?c:[],crosshair:!0},yAxis:{title:{text:"Pemahaman Siswa (%)"}},title:{text:"",style:{fontWeight:"bold"}},plotOptions:{series:{stacking:"percent",events:{click:function(e){if(console.log("click",e),x&&e.point){var t=x.detail[e.point.index];console.log("data",t),console.log("index",e.point.series.index,Math.abs(e.point.series.index-5));var n=new p.Zf;n.id=t.id,g({model:n,level:Math.abs(e.point.series.index-5)})}}},dataLabels:{enabled:!0,inside:!0,align:"center"}}},series:j,credits:{enabled:!1}};return(0,m.jsxs)(m.Fragment,{children:[v&&(0,m.jsxs)(k.Z,{open:!0,maxWidth:"md",children:[(0,m.jsx)(C.Z,{model:v.model,level:v.level,fixedSize:!0}),(0,m.jsx)(w.Z,{children:(0,m.jsx)(o.Z,{onClick:function(){return g(null)},children:"Tutup"})})]}),(0,m.jsx)(u(),{highcharts:d(),options:b})]})}y()(d());var F=n(92649),S=n(45512),P=n(11579),M=function(e){var t,n,s=(0,f.UO)().courseClassroomId,d=(0,f.s0)(),c=i.useRef(),u=new p.dg;u.id=s;var g=(0,P.useQuery)(["report-module",s],(function(){return h.Xv.reportByCourseClassroom(u,{page:0})})).data;return(0,m.jsx)(F.Z,{title:"Modul Pembelajaran",showBackButton:!0,onBackButtonPress:function(){return d("/courses",{replace:!0})},sidebarContent:(0,m.jsx)(S.Z,{courseClassroomId:s}),toolbar:(0,m.jsxs)(o.Z,{onClick:function(){j()(c.current)},fullWidth:!1,variant:"outlined",color:"primary","aria-label":"add",children:[(0,m.jsx)(v.Z,{}),"Download"]}),children:(0,m.jsxs)("div",{ref:c,children:[(0,m.jsxs)(a.ZP,{container:!0,spacing:8,children:[(0,m.jsx)(a.ZP,{item:!0,sm:12,md:6,children:(0,m.jsx)(l.Z,{children:(0,m.jsx)(x,{title:"Index Pemahaman Materi",series:[{name:"Siswa",data:null!==(t=null===g||void 0===g?void 0:g.summary)&&void 0!==t?t:[]}]})})}),(0,m.jsx)(a.ZP,{item:!0,sm:12,md:6,children:(0,m.jsx)(l.Z,{children:(0,m.jsx)(x,{title:"Waktu Rata-rata Membaca per Topik",series:[{name:"Jumlah Topik",data:null!==(n=null===g||void 0===g?void 0:g.avgDurationRead)&&void 0!==n?n:[]}]})})})]}),(0,m.jsx)(r.Z,{mt:8,children:(0,m.jsx)(l.Z,{title:"Pemahaman terhadap materi",children:(0,m.jsx)(R,{data:g})})})]})})}},45512:function(e,t,n){n.d(t,{Z:function(){return y}});var i=n(47313),o=n(17049),a=n(44894),r=n(19106),l=n(3859),s=n(83311),d=n(57829),c=n(69680),u=n(20466),m=n(47414),x=n(63855),h=n(46417),f=function(e){var t=e.courseClassroom;return(0,h.jsx)(d.Z,{py:6,bgcolor:"#fff",style:{borderRadius:24},children:(0,h.jsx)(d.Z,{display:"flex",flexDirection:"column",flex:1,alignItems:"center",justifyContent:"center",children:t instanceof u.dg?function(e){var t,n,i,o,a;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.Z,{mt:1,mb:3,children:(0,h.jsx)(x.Z,{title:null!==(t=null===(n=e.teacher)||void 0===n?void 0:n.getFullName())&&void 0!==t?t:"",status:null===(i=e.teacher)||void 0===i?void 0:i.visibilityStatus,sx:{width:75,height:75}})}),(0,h.jsxs)(d.Z,{textAlign:"center",children:[(0,h.jsx)(d.Z,{color:"text.secondary",mb:3,children:null===(o=e.teacher)||void 0===o?void 0:o.getFullName()}),(0,h.jsx)(d.Z,{component:"p",fontSize:14,fontWeight:c.F3.BOLD,style:{color:"#000"},children:null===(a=e.course)||void 0===a?void 0:a.name})]})]})}(t):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.Z,{mt:1,mb:3,children:(0,h.jsx)(m.Z,{variant:"circular",width:80,height:80})}),(0,h.jsxs)(d.Z,{textAlign:"center",children:[(0,h.jsx)(d.Z,{color:"text.secondary",component:"p",mb:3,children:(0,h.jsx)(m.Z,{variant:"text",width:150,style:{display:"inline-block"}})}),(0,h.jsx)(d.Z,{component:"p",fontSize:14,fontWeight:c.F3.BOLD,style:{color:"#000"},children:(0,h.jsx)(m.Z,{variant:"text",width:150,style:{display:"inline-block"}})})]})]})})})},p=i.memo(f),v=n(19536),g=n(16330),j=n(11579),Z=[{title:"Modul",subtitle:"",page:"module",showNotificationIcon:!1,icon:(0,h.jsx)(r.Z,{}),roles:[a.lg.Student,a.lg.Teacher]},{title:"Siswa",subtitle:"",page:"student",showNotificationIcon:!1,icon:(0,h.jsx)(l.Z,{}),roles:[a.lg.Teacher]},{title:"Report",subtitle:"",page:"report",showNotificationIcon:!1,icon:(0,h.jsx)(s.Z,{}),roles:[a.lg.Teacher]}],b=function(e){var t=e.courseClassroomId,n=(0,j.useQuery)(["course-classroom",t],(function(){return g.$E.view(t)})),i=(n.isLoading,n.data);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p,{courseClassroom:null===i||void 0===i?void 0:i.item}),(0,h.jsx)(v.Z,{}),(0,h.jsx)(o.Z,{items:Z,onGenerateLink:function(e){var n,o="";"student"===e.page&&(o="/".concat(null===i||void 0===i||null===(n=i.item)||void 0===n?void 0:n.classroomId));return{path:"/module/".concat(t,"/").concat(e.page).concat(o),state:{}}}})]})},y=i.memo(b)},58455:function(e,t,n){var i=n(1413),o=n(29439),a=n(47313),r=n(40490),l=n.n(r),s=n(16330),d=n(57829),c=n(85345),u=n(40935),m=n(70816),x=n.n(m),h=n(11193),f=n(46417);t.Z=function(e){var t=e.model,n=e.level,r=void 0===n?"all":n,m=e.fixedSize,p=void 0!==m&&m,v=a.createRef(),g=a.useState([]),j=(0,o.Z)(g,2),Z=j[0],b=j[1];a.useLayoutEffect((function(){console.log("tref",v),y()}),[]);var y=function(){var e;s.mu.findAllByTopic(null!==(e=null===t||void 0===t?void 0:t.id)&&void 0!==e?e:"",r,{page:0}).then((function(e){console.log(e);var t=[];null!=e.items&&e.items.map((function(e){var n,i;e.id=null!==(n=null===(i=e.student)||void 0===i?void 0:i.id)&&void 0!==n?n:"",t.push(e),e.records&&e.records.length>1&&e.records.map((function(n){n.parentId=e.id,delete n.student,t.push(n)}))})),console.log(t),b(t)}))};return(0,f.jsx)(d.Z,{children:(0,f.jsx)(l(),{tableRef:v,components:{Container:function(e){return(0,f.jsx)(c.Z,(0,i.Z)((0,i.Z)({},e),{},{elevation:0}))}},title:"Daftar Pembaca",options:{search:!1,pageSizeOptions:p?[5]:void 0,pageSize:p?5:10,sorting:!1,draggable:!1,actionsColumnIndex:-1,exportButton:{csv:!0},exportAllData:!0,exportCsv:function(e,t){var n=new u.CsvBuilder("download.csv"),i=[];Z.forEach((function(e){var t;i.push([e.studentName,e.countRead,e.totalDuration,null!==(t=e.lastFeedback)&&void 0!==t?t:e.feedback,e.lastReadFormat])})),n.setDelimeter(",").setColumns(["Nama","Jumlah Membaca","Lama Membaca","Tingkat Pemahaman","Tanggal Membaca"]).addRows(i).exportFile()}},onRowClick:function(e,t,n){},data:Z,parentChildData:function(e,t){return t.find((function(t){return t.id===e.parentId}))},columns:[{title:"Name",field:"studentName",render:function(e){return e.studentName}},{title:"Jumlah baca",field:"countRead",render:function(e){return e.hasReading?e.countRead:"Belum Membaca"}},{title:"Lama baca",field:"totalDuration",render:function(e){return e.hasReading?e.totalDuration:""}},{title:"Tingkat Pemahaman",field:"lastFeedback",render:function(e){return e.hasReading?e.lastFeedback:""}},{title:"Terakhir Membaca",field:"lastReadFormat",render:function(e){return null==e.lastRead?"":(0,f.jsx)(h.Z,{title:e.lastReadFormat,children:(0,f.jsx)(d.Z,{children:x()(e.lastRead).fromNow()})})}}]})})}},63855:function(e,t,n){var i=n(1413),o=n(45987),a=(n(47313),n(63585)),r=n(50919),l=n(46417),s=["className","title","url","status"];t.Z=function(e){var t,n,d=e.className,c=e.title,u=e.url,m=e.status,x=(0,o.Z)(e,s),h={online:"#11C15B",offline:"#F04F47",busy:"#ffba52"};return void 0==m&&(m="offline"),(0,l.jsx)(r.Z,{anchorOrigin:{horizontal:"right",vertical:"bottom"},color:"success",variant:"dot",overlap:"circular",sx:{"& .MuiBadge-badge":{backgroundColor:null!==(t=h[m])&&void 0!==t?t:h.offline,color:null!==(n=h[m])&&void 0!==n?n:h.offline,width:18,height:18,bottom:"15%",right:"15%",border:"2px solid #fff",borderRadius:12,"&::after":"online"!==m?{}:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}}},children:u?(0,l.jsx)(a.Z,(0,i.Z)({className:d,src:u},x)):(0,l.jsx)(a.Z,(0,i.Z)((0,i.Z)({className:d},x),{},{children:c.charAt(1).toUpperCase()}))})}},17049:function(e,t,n){n.d(t,{Z:function(){return P}});var i=n(47313),o=n(88228),a=n(57829),r=n(98668),l=n(47605),s=n(71003),d=n(1001),c=n(69680),u=n(46417),m=function(e){var t=e.loader,n=e.placeholder,o=e.loading,m=e.title,x=void 0===m?(0,u.jsx)(d.Z,{id:"common.noRecordFound"}):m,h=e.actionTitle,f=e.content,p=e.onClick;return o||t?(0,u.jsx)(i.Fragment,{children:n||(0,u.jsxs)(a.Z,{sx:{flexDirection:"row",minHeight:"450px",height:"100%",flex:1,display:"flex",p:5,justifyContent:"center",alignItems:"center",borderColor:"transparent",borderRadius:"4px",textAlign:"center"},children:[(0,u.jsx)(r.Z,{size:16}),(0,u.jsx)(a.Z,{component:"span",sx:{ml:2},children:"Loading..."})]})}):(0,u.jsxs)(a.Z,{sx:{flexDirection:"column",minHeight:"450px",height:"100%",flex:1,display:"flex",p:5,justifyContent:"center",alignItems:"center",border:1,borderColor:"transparent",borderRadius:"4px",textAlign:"center"},children:[x?(0,u.jsx)(l.Z,{sx:{fontSize:14,color:function(e){return e.palette.text.secondary},fontWeight:c.F3.MEDIUM,mb:2},component:"h4",variant:"h4",children:x}):null,(0,u.jsx)(l.Z,{sx:{fontSize:14,color:function(e){return e.palette.text.secondary}},children:f}),h?(0,u.jsx)(s.Z,{color:"primary",variant:"contained",sx:{mt:7.5,height:45,minWidth:150},onClick:p,children:h}):null]})},x=n(35990),h=function(){return(0,u.jsxs)(x.ZP,{viewBox:"0 0 200 45",children:[(0,u.jsx)("rect",{x:"0",y:"10",rx:"0",ry:"0",width:"20",height:"20"}),(0,u.jsx)("rect",{x:"35",y:"12",rx:"2",ry:"2",width:"100",height:"15"})]})},f=function(){return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(h,{}),(0,u.jsx)(h,{}),(0,u.jsx)(h,{}),(0,u.jsx)(h,{}),(0,u.jsx)(h,{}),(0,u.jsx)(h,{})]})},p=n(3191),v=n(4942),g=n(1413),j=n(34499),Z=n(20729),b=n(88564),y=n(17551),k=n(74748),C=n(83213),w=(0,b.ZP)((function(e){return(0,u.jsx)(j.ZP,(0,g.Z)({component:Z.Z},e))}))((function(e){var t,n=e.theme;return t={padding:"7px 16px",borderRadius:"0 30px 30px 0",marginBottom:1,marginTop:1,color:n.palette.text.primary,width:"95%"},(0,v.Z)(t,n.breakpoints.up("md"),{paddingLeft:20,paddingRight:20}),(0,v.Z)(t,n.breakpoints.up("lg"),{paddingLeft:24,paddingRight:24}),(0,v.Z)(t,"& svg",{fontSize:"18px"}),(0,v.Z)(t,"&:hover,&:focus,&.active",{backgroundColor:(0,y.Fq)(n.palette.primary.main,.1),color:n.palette.primary.main,"& .material-icons, & svg, & .MuiTypography-root":{color:n.palette.primary.main}}),(0,v.Z)(t,"&.active",{color:n.palette.primary.main,"& .material-icons, & .MuiTypography-root":{color:n.palette.primary.main},"& .list-item-text":{"& .MuiTypography-body1":{fontWeight:c.F3.SEMI_BOLD}}}),t})),R=function(e){return(0,u.jsxs)(w,{to:e.to,replace:!0,activeClassName:"active",children:[(0,u.jsx)(k.Z,{sx:{minWidth:10,mr:3.5,"& .material-icons, & svg":{fontSize:22,color:function(e){return e.palette.text.secondary}}},children:e.icon}),(0,u.jsx)(C.Z,{primary:e.title,sx:{my:0,"& .MuiTypography-body1":{fontSize:14,mb:.5}},className:"list-item-text"})]})},F=n(88913),S=n(69737),P=function(e){var t=e.items,n=e.onGenerateLink,i=(0,S.f)().user;return(0,u.jsx)(p.Z,{sx:{mb:{xs:2,xl:5}},component:"nav",children:(0,u.jsx)(o.Z,{data:t.filter((function(e){return(0,F.P)(e.roles,i.role)})),ListEmptyComponent:(0,u.jsx)(m,{loading:!0,placeholder:(0,u.jsx)(a.Z,{sx:{px:{xs:4,md:5,lg:6.2}},children:(0,u.jsx)(f,{})})}),renderRow:function(e){var t=n(e),i=t;return"object"===typeof t&&(i=t.path),(0,u.jsx)(R,{title:e.title,subtitle:e.subtitle,page:e.page,showNotificationIcon:e.showNotificationIcon,icon:e.icon,to:i})}})})}},33187:function(e,t,n){var i=n(1413),o=(n(47313),n(19860)),a=n(24813),r=n(94469),l=n(33604),s=n(46417);t.Z=function(e){var t=(0,o.Z)(),n=(0,a.Z)(t.breakpoints.down("sm"));return(0,s.jsxs)(r.Z,(0,i.Z)((0,i.Z)({fullWidth:!0,fullScreen:n,maxWidth:"sm"},e),{},{children:[e.title&&(0,s.jsx)(l.Z,{children:e.title}),e.children]}))}}}]);