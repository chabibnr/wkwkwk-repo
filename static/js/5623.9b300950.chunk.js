"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[5623],{69307:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var i=t(47313),o=t(71003),r=t(19641),a=t(57829),l=t(14924),s=t(5845),c=t.n(s),d=t(97548),u=t.n(d),x=t(46417);function h(e){var n={chart:{type:"pie"},title:{text:e.title},series:e.series,credits:{enabled:!1}};return(0,x.jsx)(u(),{highcharts:c(),options:n})}var m=t(16330),p=t(97890),f=t(20466),v=t(16169),g=t(63492),Z=t.n(g),j=t(29439),b=t(85530),y=t.n(b),C=t(33187),k=t(81371),w=t(6961);function S(e){var n,t,r,a,l,s,d,h=e.data,m=(0,i.useState)(),p=(0,j.Z)(m,2),v=p[0],g=p[1],Z=[{name:"Sangat Paham",color:"#0a6100",data:null!==(n=null===h||void 0===h?void 0:h.data[5])&&void 0!==n?n:[]},{name:"Paham",color:"#00c20d",data:null!==(t=null===h||void 0===h?void 0:h.data[4])&&void 0!==t?t:[]},{name:"Cukup Paham",color:"#fbff00",data:null!==(r=null===h||void 0===h?void 0:h.data[3])&&void 0!==r?r:[]},{name:"Kurang Paham",color:"#ffa600",data:null!==(a=null===h||void 0===h?void 0:h.data[2])&&void 0!==a?a:[]},{name:"Tidak Paham",color:"#ff2a00",data:null!==(l=null===h||void 0===h?void 0:h.data[1])&&void 0!==l?l:[]},{name:"Tidak ada feedback",color:"#bbbfbc",data:null!==(s=null===h||void 0===h?void 0:h.data[0])&&void 0!==s?s:[]}],b={chart:{type:"column"},xAxis:{categories:null!==(d=null===h||void 0===h?void 0:h.title)&&void 0!==d?d:[],crosshair:!0},yAxis:{title:{text:"Pemahaman Siswa (%)"}},title:{text:"",style:{fontWeight:"bold"}},plotOptions:{series:{stacking:"percent",events:{click:function(e){if(console.log("click",e),h&&e.point){var n=h.detail[e.point.index];console.log("data",n),console.log("index",e.point.series.index,Math.abs(e.point.series.index-5));var t=new f.Zf;t.id=n.id,g({model:t,level:Math.abs(e.point.series.index-5)})}}},dataLabels:{enabled:!0,inside:!0,align:"center"}}},series:Z,credits:{enabled:!1}};return(0,x.jsxs)(x.Fragment,{children:[v&&(0,x.jsxs)(C.Z,{open:!0,maxWidth:"md",children:[(0,x.jsx)(k.Z,{model:v.model,level:v.level,fixedSize:!0}),(0,x.jsx)(w.Z,{children:(0,x.jsx)(o.Z,{onClick:function(){return g(null)},children:"Tutup"})})]}),(0,x.jsx)(u(),{highcharts:c(),options:b})]})}y()(c());var P=t(92649),R=t(45512),F=t(11579),I=function(e){var n,t,s=(0,p.UO)().courseClassroomId,c=(0,p.s0)(),d=i.useRef(),u=new f.dg;u.id=s;var g=(0,F.useQuery)(["report-module",s],(function(){return m.Xv.reportByCourseClassroom(u,{page:0})})).data;return(0,x.jsx)(P.Z,{title:"Modul Pembelajaran",showBackButton:!0,onBackButtonPress:function(){return c("/courses",{replace:!0})},sidebarContent:(0,x.jsx)(R.Z,{courseClassroomId:s}),toolbar:(0,x.jsxs)(o.Z,{onClick:function(){Z()(d.current)},fullWidth:!1,variant:"outlined",color:"primary","aria-label":"add",children:[(0,x.jsx)(v.Z,{}),"Download"]}),children:(0,x.jsxs)("div",{ref:d,children:[(0,x.jsxs)(r.ZP,{container:!0,spacing:8,children:[(0,x.jsx)(r.ZP,{item:!0,sm:12,md:6,children:(0,x.jsx)(l.Z,{children:(0,x.jsx)(h,{title:"Index Pemahaman Materi",series:[{name:"Siswa",data:null!==(n=null===g||void 0===g?void 0:g.summary)&&void 0!==n?n:[]}]})})}),(0,x.jsx)(r.ZP,{item:!0,sm:12,md:6,children:(0,x.jsx)(l.Z,{children:(0,x.jsx)(h,{title:"Waktu Rata-rata Membaca per Topik",series:[{name:"Jumlah Topik",data:null!==(t=null===g||void 0===g?void 0:g.avgDurationRead)&&void 0!==t?t:[]}]})})})]}),(0,x.jsx)(a.Z,{mt:8,children:(0,x.jsx)(l.Z,{title:"Pemahaman terhadap materi",children:(0,x.jsx)(S,{data:g})})})]})})}},45512:function(e,n,t){t.d(n,{Z:function(){return y}});var i=t(47313),o=t(17049),r=t(44894),a=t(19106),l=t(3859),s=t(83311),c=t(57829),d=t(69680),u=t(20466),x=t(47414),h=t(63855),m=t(46417),p=function(e){var n=e.courseClassroom;return(0,m.jsx)(c.Z,{py:6,bgcolor:"#fff",style:{borderRadius:24},children:(0,m.jsx)(c.Z,{display:"flex",flexDirection:"column",flex:1,alignItems:"center",justifyContent:"center",children:n instanceof u.dg?function(e){var n,t,i,o,r;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.Z,{mt:1,mb:3,children:(0,m.jsx)(h.Z,{title:null!==(n=null===(t=e.teacher)||void 0===t?void 0:t.getFullName())&&void 0!==n?n:"",status:null===(i=e.teacher)||void 0===i?void 0:i.visibilityStatus,sx:{width:75,height:75}})}),(0,m.jsxs)(c.Z,{textAlign:"center",children:[(0,m.jsx)(c.Z,{color:"text.secondary",mb:3,children:null===(o=e.teacher)||void 0===o?void 0:o.getFullName()}),(0,m.jsx)(c.Z,{component:"p",fontSize:14,fontWeight:d.F3.BOLD,style:{color:"#000"},children:null===(r=e.course)||void 0===r?void 0:r.name})]})]})}(n):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.Z,{mt:1,mb:3,children:(0,m.jsx)(x.Z,{variant:"circular",width:80,height:80})}),(0,m.jsxs)(c.Z,{textAlign:"center",children:[(0,m.jsx)(c.Z,{color:"text.secondary",component:"p",mb:3,children:(0,m.jsx)(x.Z,{variant:"text",width:150,style:{display:"inline-block"}})}),(0,m.jsx)(c.Z,{component:"p",fontSize:14,fontWeight:d.F3.BOLD,style:{color:"#000"},children:(0,m.jsx)(x.Z,{variant:"text",width:150,style:{display:"inline-block"}})})]})]})})})},f=i.memo(p),v=t(19536),g=t(16330),Z=t(11579),j=[{title:"Modul",subtitle:"",page:"module",showNotificationIcon:!1,icon:(0,m.jsx)(a.Z,{}),roles:[r.lg.Student,r.lg.Teacher]},{title:"Siswa",subtitle:"",page:"student",showNotificationIcon:!1,icon:(0,m.jsx)(l.Z,{}),roles:[r.lg.Teacher]},{title:"Report",subtitle:"",page:"report",showNotificationIcon:!1,icon:(0,m.jsx)(s.Z,{}),roles:[r.lg.Teacher]}],b=function(e){var n=e.courseClassroomId,t=(0,Z.useQuery)(["course-classroom",n],(function(){return g.$E.view(n)})),i=(t.isLoading,t.data);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(f,{courseClassroom:null===i||void 0===i?void 0:i.item}),(0,m.jsx)(v.Z,{}),(0,m.jsx)(o.Z,{items:j,onGenerateLink:function(e){var t,o="";"student"===e.page&&(o="/".concat(null===i||void 0===i||null===(t=i.item)||void 0===t?void 0:t.classroomId));return{path:"/module/".concat(n,"/").concat(e.page).concat(o),state:{}}}})]})},y=i.memo(b)},81371:function(e,n,t){t.d(n,{Z:function(){return F}});var i=t(1413),o=t(29439),r=t(47313),a=t(40490),l=t.n(a),s=t(16330),c=t(57829),d=t(85345),u=t(40935),x=t(70816),h=t.n(x),m=t(11193),p=t(45987),f=t(88564),v=t(51885),g=t(22429),Z=t(70660),j=t(59656),b=t(99990),y=t(72469),C=t(46417),k=["value"],w=(0,f.ZP)(v.Z)((function(e){return{"& .MuiRating-iconEmpty .MuiSvgIcon-root":{color:e.theme.palette.action.disabled}}})),S={1:{icon:(0,C.jsx)(g.Z,{color:"error"}),label:"Tidak Paham"},2:{icon:(0,C.jsx)(Z.Z,{color:"error"}),label:"Kurang Paham"},3:{icon:(0,C.jsx)(j.Z,{color:"warning"}),label:"Cukup Paham"},4:{icon:(0,C.jsx)(b.Z,{color:"success"}),label:"Paham"},5:{icon:(0,C.jsx)(y.Z,{color:"success"}),label:"Sangat Paham"}};function P(e){var n=e.value,t=(0,p.Z)(e,k);return(0,C.jsx)("span",(0,i.Z)((0,i.Z)({},t),{},{children:S[n].icon}))}function R(e){var n,t=e.onValueChange,a=e.ratingProps,l=r.useState(null!==(n=null===a||void 0===a?void 0:a.value)&&void 0!==n?n:3),s=(0,o.Z)(l,2),d=s[0],u=s[1],x=r.useState(-1),h=(0,o.Z)(x,2),p=h[0],f=h[1];return(0,C.jsx)(m.Z,{title:null===d?"Tidak ada":S[-1!==p?p:d].label,children:(0,C.jsx)(c.Z,{display:"inline-block",children:(0,C.jsx)(w,(0,i.Z)({name:"highlight-selected-only",IconContainerComponent:P,onChange:function(e,n){u(n),t&&t(n)},onChangeActive:function(e,n){f(n)},highlightSelectedOnly:!0},a))})})}var F=function(e){var n=e.model,t=e.level,a=void 0===t?"all":t,x=e.fixedSize,p=void 0!==x&&x,f=r.createRef(),v=r.useState([]),g=(0,o.Z)(v,2),Z=g[0],j=g[1];r.useLayoutEffect((function(){console.log("tref",f),b()}),[]);var b=function(){var e;s.mu.findAllByTopic(null!==(e=null===n||void 0===n?void 0:n.id)&&void 0!==e?e:"",a,{page:0}).then((function(e){console.log(e);var n=[];null!=e.items&&e.items.map((function(e){var t,i;e.id=null!==(t=null===(i=e.student)||void 0===i?void 0:i.id)&&void 0!==t?t:"",n.push(e),e.records&&e.records.length>1&&e.records.map((function(t){t.parentId=e.id,delete t.student,n.push(t)}))})),console.log(n),j(n)}))};return(0,C.jsx)(c.Z,{children:(0,C.jsx)(l(),{tableRef:f,components:{Container:function(e){return(0,C.jsx)(d.Z,(0,i.Z)((0,i.Z)({},e),{},{elevation:0}))}},title:"Daftar Pembaca",options:{search:!1,pageSizeOptions:p?[5]:void 0,pageSize:p?5:10,sorting:!1,draggable:!1,actionsColumnIndex:-1,exportButton:{csv:!0},exportAllData:!0,exportCsv:function(e,n){var t=new u.CsvBuilder("download.csv"),i=[];Z.forEach((function(e){var n;i.push([e.studentName,e.countRead,e.totalDuration,null!==(n=e.lastFeedback)&&void 0!==n?n:e.feedback,e.lastReadFormat])})),t.setDelimeter(",").setColumns(["Nama","Jumlah Membaca","Lama Membaca","Tingkat Pemahaman","Tanggal Membaca"]).addRows(i).exportFile()}},onRowClick:function(e,n,t){},data:Z,parentChildData:function(e,n){return n.find((function(n){return n.id===e.parentId}))},columns:[{title:"Name",field:"studentName",render:function(e){return e.studentName}},{title:"Jumlah baca",field:"countRead",render:function(e){return e.hasReading?e.countRead:"Belum Membaca"}},{title:"Lama baca",field:"totalDuration",render:function(e){return e.hasReading?e.totalDuration:""}},{title:"Tingkat Pemahaman",field:"lastFeedback",render:function(e){return e.hasReading?(0,C.jsx)(R,{ratingProps:{readOnly:!0,size:"small",value:e.lastFeedback}}):""}},{title:"Terakhir Membaca",field:"lastReadFormat",render:function(e){return null==e.lastRead?"":(0,C.jsx)(m.Z,{title:e.lastReadFormat,children:(0,C.jsx)(c.Z,{children:h()(e.lastRead).fromNow()})})}}]})})}},63855:function(e,n,t){var i=t(1413),o=t(45987),r=(t(47313),t(63585)),a=t(50919),l=t(46417),s=["className","title","url","status"];n.Z=function(e){var n,t,c=e.className,d=e.title,u=e.url,x=e.status,h=(0,o.Z)(e,s),m={online:"#11C15B",offline:"#F04F47",busy:"#ffba52"};return void 0==x&&(x="offline"),(0,l.jsx)(a.Z,{anchorOrigin:{horizontal:"right",vertical:"bottom"},color:"success",variant:"dot",overlap:"circular",sx:{"& .MuiBadge-badge":{backgroundColor:null!==(n=m[x])&&void 0!==n?n:m.offline,color:null!==(t=m[x])&&void 0!==t?t:m.offline,width:18,height:18,bottom:"15%",right:"15%",border:"2px solid #fff",borderRadius:12,"&::after":"online"!==x?{}:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}}},children:u?(0,l.jsx)(r.Z,(0,i.Z)({className:c,src:u},h)):(0,l.jsx)(r.Z,(0,i.Z)((0,i.Z)({className:c},h),{},{children:d.charAt(1).toUpperCase()}))})}},17049:function(e,n,t){t.d(n,{Z:function(){return F}});var i=t(1413),o=t(47313),r=t(88228),a=t(57829),l=t(98668),s=t(47605),c=t(71003),d=t(1001),u=t(69680),x=t(46417),h=function(e){var n=e.loader,t=e.placeholder,i=e.loading,r=e.title,h=void 0===r?(0,x.jsx)(d.Z,{id:"common.noRecordFound"}):r,m=e.actionTitle,p=e.content,f=e.onClick;return i||n?(0,x.jsx)(o.Fragment,{children:t||(0,x.jsxs)(a.Z,{sx:{flexDirection:"row",minHeight:"450px",height:"100%",flex:1,display:"flex",p:5,justifyContent:"center",alignItems:"center",borderColor:"transparent",borderRadius:"4px",textAlign:"center"},children:[(0,x.jsx)(l.Z,{size:16}),(0,x.jsx)(a.Z,{component:"span",sx:{ml:2},children:"Loading..."})]})}):(0,x.jsxs)(a.Z,{sx:{flexDirection:"column",minHeight:"450px",height:"100%",flex:1,display:"flex",p:5,justifyContent:"center",alignItems:"center",border:1,borderColor:"transparent",borderRadius:"4px",textAlign:"center"},children:[h?(0,x.jsx)(s.Z,{sx:{fontSize:14,color:function(e){return e.palette.text.secondary},fontWeight:u.F3.MEDIUM,mb:2},component:"h4",variant:"h4",children:h}):null,(0,x.jsx)(s.Z,{sx:{fontSize:14,color:function(e){return e.palette.text.secondary}},children:p}),m?(0,x.jsx)(c.Z,{color:"primary",variant:"contained",sx:{mt:7.5,height:45,minWidth:150},onClick:f,children:m}):null]})},m=t(35990),p=function(){return(0,x.jsxs)(m.ZP,{viewBox:"0 0 200 45",children:[(0,x.jsx)("rect",{x:"0",y:"10",rx:"0",ry:"0",width:"20",height:"20"}),(0,x.jsx)("rect",{x:"35",y:"12",rx:"2",ry:"2",width:"100",height:"15"})]})},f=function(){return(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(p,{}),(0,x.jsx)(p,{}),(0,x.jsx)(p,{}),(0,x.jsx)(p,{}),(0,x.jsx)(p,{}),(0,x.jsx)(p,{})]})},v=t(3191),g=t(4942),Z=t(34499),j=t(20729),b=t(88564),y=t(17551),C=t(74748),k=t(83213),w=(0,b.ZP)((function(e){return(0,x.jsx)(Z.ZP,(0,i.Z)({component:j.Z},e))}))((function(e){var n,t=e.theme;return n={padding:"7px 16px",borderRadius:"0 30px 30px 0",marginBottom:1,marginTop:1,color:t.palette.text.primary,width:"95%"},(0,g.Z)(n,t.breakpoints.up("md"),{paddingLeft:20,paddingRight:20}),(0,g.Z)(n,t.breakpoints.up("lg"),{paddingLeft:24,paddingRight:24}),(0,g.Z)(n,"& svg",{fontSize:"18px"}),(0,g.Z)(n,"&:hover,&:focus,&.active",{backgroundColor:(0,y.Fq)(t.palette.primary.main,.1),color:t.palette.primary.main,"& .material-icons, & svg, & .MuiTypography-root":{color:t.palette.primary.main}}),(0,g.Z)(n,"&.active",{color:t.palette.primary.main,"& .material-icons, & .MuiTypography-root":{color:t.palette.primary.main},"& .list-item-text":{"& .MuiTypography-body1":{fontWeight:u.F3.SEMI_BOLD}}}),n})),S=function(e){console.log(e);var n=o.useCallback((function(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(C.Z,{sx:{minWidth:10,mr:3.5,"& .material-icons, & svg":{fontSize:22,color:function(e){return e.palette.text.secondary}}},children:e.icon}),(0,x.jsx)(k.Z,{primary:e.title,sx:{my:0,"& .MuiTypography-body1":{fontSize:14,mb:.5}},className:"list-item-text"})]})}),[]);return e.onAction?(0,x.jsx)(w,{component:c.Z,onClick:function(){return e.onAction(e)},children:n()}):(0,x.jsx)(w,{to:e.to,replace:!0,activeClassName:"active",children:n()})},P=t(88913),R=t(69737),F=function(e){var n=e.items,t=e.onGenerateLink,o=(0,R.f)().user;return(0,x.jsx)(v.Z,{sx:{mb:{xs:2,xl:5}},component:"nav",children:(0,x.jsx)(r.Z,{data:n.filter((function(e){return(0,P.P)(e.roles,o.role)})),ListEmptyComponent:(0,x.jsx)(h,{loading:!0,placeholder:(0,x.jsx)(a.Z,{sx:{px:{xs:4,md:5,lg:6.2}},children:(0,x.jsx)(f,{})})}),renderRow:function(e){var n=t(e),o=n;return"object"===typeof n&&(o=n.path),e.to=o,(0,x.jsx)(S,(0,i.Z)({},e))}})})}},92649:function(e,n,t){t.d(n,{Z:function(){return S},W:function(){return w}});var i=t(29439),o=t(57829),r=t(34499),a=t(37429),l=t(80836),s=t(83213),c=t(47313),d=t(26672),u=t(97890),x=t(94614),h=t(4942),m=t(57451),p=t(21212),f=t(57775),v=t(50301),g=t(86302),Z=t(1084),j=t(67375),b=t(46417),y=function(e){var n=e.isAppDrawerOpen,t=e.sidebarContent,i=(0,Z.I0)();return(0,b.jsx)(v.Z,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,b.jsxs)(o.Z,{sx:{width:{lg:280}},children:[(0,b.jsx)(m.Z,{lgUp:!0,children:(0,b.jsx)(p.ZP,{open:n,onClose:function(){return i((0,j.Y1)())},sx:(0,h.Z)({position:"absolute"},"& .".concat(g.Z.paper),{width:280,"& .listItem":{zIndex:1305}}),children:t})}),(0,b.jsx)(m.Z,{lgDown:!0,children:(0,b.jsx)(f.Z,{style:{height:"100%"},children:t})})]})})},C=t(19406),k=c.createContext({setTitle:function(e){}}),w=function(){return(0,c.useContext)(k)},S=function(e){var n,t=(0,c.useState)(e.title),h=(0,i.Z)(t,2),m=h[0],p=h[1],f=(0,c.useState)(e.toolbar),v=(0,i.Z)(f,2),g=v[0],j=(v[1],(0,c.useState)(e.subTitle)),w=(0,i.Z)(j,2),S=w[0],P=(w[1],(0,c.useState)(e.showBackButton)),R=(0,i.Z)(P,2),F=R[0],I=(R[1],(0,c.useState)(e.fullView)),T=(0,i.Z)(I,2),B=T[0],D=(T[1],(0,c.useState)()),M=(0,i.Z)(D,2),z=M[0],A=(M[1],(0,c.useState)(e.sidebarContent)),N=(0,i.Z)(A,2),L=N[0],O=(N[1],(0,c.useState)(e.contentPadding)),W=(0,i.Z)(O,2),E=W[0],_=(W[1],(0,u.s0)()),U=(0,c.useCallback)((function(){_(-1)}),[history]),J=((0,Z.I0)(),(0,Z.v9)((function(e){return e.common})).isAppDrawerOpen),V=(0,C.l5)().footer;(0,C.l5)().navStyle;return(0,c.useEffect)((function(){document.title=null!==m&&void 0!==m?m:"AFresto System Indonesia"}),[m]),(0,b.jsx)(k.Provider,{value:{setTitle:p},children:(0,b.jsxs)(o.Z,{children:[m&&(0,b.jsxs)(r.ZP,{component:"div",sx:{backgroundColor:"#fff",borderBottom:"1px solid #ccc",position:"sticky",top:"70px",zIndex:99},secondaryAction:g,children:[F&&(0,b.jsx)(a.Z,{children:(0,b.jsx)(l.Z,{onClick:null!==(n=null!==z&&void 0!==z?z:e.onBackButtonPress)&&void 0!==n?n:U,children:(0,b.jsx)(d.x_l,{})})}),(0,b.jsx)(s.Z,{primary:m,primaryTypographyProps:{fontSize:20},secondary:S})]}),(0,b.jsx)(x.uc,{animation:"transition.slideUpIn",delay:200,children:(0,b.jsx)(o.Z,{sx:{p:null!==E&&void 0!==E?E:{xs:5,md:7.5,xl:12.5}},children:L?(0,b.jsxs)(o.Z,{sx:{display:"flex"},children:[L?(0,b.jsx)(o.Z,{children:(0,b.jsx)(y,{isAppDrawerOpen:J,footer:V,fullView:B,sidebarContent:L})}):null,(0,b.jsx)(o.Z,{sx:{display:"flex",flexDirection:"column",width:{xs:"100%",lg:"calc(100% - ".concat(B?0:280,"px)")},pl:{lg:B?0:8}},children:e.children})]}):e.children})})]})})}},33187:function(e,n,t){var i=t(1413),o=(t(47313),t(19860)),r=t(24813),a=t(94469),l=t(33604),s=t(46417);n.Z=function(e){var n=(0,o.Z)(),t=(0,r.Z)(n.breakpoints.down("sm"));return(0,s.jsxs)(a.Z,(0,i.Z)((0,i.Z)({fullWidth:!0,fullScreen:t,maxWidth:"sm"},e),{},{children:[e.title&&(0,s.jsx)(l.Z,{children:e.title}),e.children]}))}}}]);