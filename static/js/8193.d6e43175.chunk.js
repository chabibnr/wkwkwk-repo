"use strict";(self.webpackChunkcra_ts_5=self.webpackChunkcra_ts_5||[]).push([[8193],{52101:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var i=t(29439),o=t(47313),r=t(85523),s=t(57775),l=t(51057),a=t(57829),c=t(47605),d=t(83213),u=t(83061),x=t(2682),h=t(29466),f=t(46417),m=function(e){var n=e.model;return(0,f.jsx)(a.Z,{component:h.rU,sx:{textDecoration:"none"},to:"/assignment/".concat(n.id,"/detail"),children:(0,f.jsxs)(s.Z,{className:(0,u.Z)("card-hover"),children:[(0,f.jsxs)(a.Z,{sx:{backgroundImage:"url(/assets/images/assignment.jpg)",color:"#fff",borderRadius:"16px",padding:2,height:"200px",textAlign:"center",backgroundSize:"cover",display:"grid",alignItems:"center",margin:2,position:"relative"},children:[(0,f.jsx)(a.Z,{sx:{position:"absolute",bottom:0,left:0,right:0,padding:"8px 16px",borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px",background:"rgba(0,0,0,.7)"},children:n.name}),(0,f.jsx)(s.Z,{elevation:6,sx:{width:60,height:40,position:"absolute",top:"10px",right:"10px",background:function(e){return e.palette.warning.main},borderRadius:"8px",textAlign:"center",color:"#fff",padding:"3px",display:"flex",alignmentItems:"center",justifyContent:"center",flexDirection:"column"},children:(0,f.jsx)(c.Z,{fontSize:"14px",children:"Tugas"})})]}),(0,f.jsx)(l.Z,{sx:{textAlign:"left",padding:3},children:(0,f.jsx)(a.Z,{display:"flex",alignItems:"center",children:(0,f.jsx)(a.Z,{children:(0,f.jsx)(d.Z,{primary:"Dimulai Pada",secondary:(0,x.ss)(n.createdAt)})})})})]})})},p=t(94614),v=t(92649),Z=t(16330),b=t(69737),g=t(20466),j=t(88913),S=t(44894),k=t(97890),y=t(33187),B=t(79842),w=t(3463),I=t(69625),A=t(6961),C=t(71003),D=t(20791),T=t(29417),_=t(56417),P=t(1084),R=t(67375),z=w.Ry({name:w.Z_().required("Judul Artikel harus diisi")}),O=function(e){var n=(0,P.I0)(),t=((0,k.s0)(),new _.O(Z.Xv,{onSaveSuccess:function(e){n((0,R.PV)("Artikel Telah ditambahkan"))},onSaveFailed:function(){n((0,R.Tl)("Artikel Telah ditambahkan"))}},{onBeforeSubmit:function(e){return e.content="",e.type=g.oz.ARTICLE,e}}));return(0,f.jsx)(y.Z,{open:!0,title:"Tambah Artikel baru",children:(0,f.jsx)(B.J9,{initialValues:e.model,validationSchema:z,onSubmit:function(e,n){return t.onSubmit(e,n)},children:function(n){var t=n.isSubmitting;return(0,f.jsxs)(a.Z,{component:B.l0,children:[(0,f.jsxs)(I.Z,{children:[(0,f.jsx)(a.Z,{mb:8,children:(0,f.jsx)(T.nv,{variant:"filled",name:"name",label:"Judul Artikel"})}),(0,f.jsx)(a.Z,{mb:8,children:(0,f.jsx)(T.ou,{variant:"filled",name:"startDate",label:"Waktu Mulai"})}),(0,f.jsx)(a.Z,{mb:8,children:(0,f.jsx)(T.ou,{variant:"filled",name:"endDate",label:"Waktu Selesai"})})]}),(0,f.jsxs)(A.Z,{children:[(0,f.jsx)(C.Z,{color:"secondary",onClick:e.onCancel,disabled:t,variant:"text",disableElevation:!0,children:"Batal"}),(0,f.jsx)(D.M,{isSubmitting:t,text:"Simpan"})]})]})}})})},F=function(e){var n=e.moduleId,t=(0,o.useState)(!1),r=(0,i.Z)(t,2),s=r[0],l=r[1],a=(0,o.useState)(!1),c=(0,i.Z)(a,2),d=c[0],u=c[1],x=new g.Zf;return x.moduleId=n,(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(C.Z,{onClick:function(){return l(!0)},children:"Tambah"}),(0,f.jsx)(y.Z,{open:s,title:"Tambah Baru",onClose:function(){return l(!1)},children:(0,f.jsx)(C.Z,{onClick:function(){return u(!0)},children:"Tambah Artikel"})}),d&&(0,f.jsx)(O,{model:x,onCancel:function(){return u(!1)}})]})},E=t(11579),L=function(e){var n=(0,b.f)().user,t=(0,k.s0)(),s=(0,k.UO)(),l=s.courseClassroomId,a=s.moduleId,c=o.useState(!1),d=(0,i.Z)(c,2),u=d[0],x=d[1],h=(0,E.useQuery)(["list-module-items",a],(function(){return Z.r.findAllItems(null!==a&&void 0!==a?a:"",{page:0})})).data;return o.useEffect((function(){var e;x((0,j.P)(S.lg.Student,null!==(e=null===n||void 0===n?void 0:n.role)&&void 0!==e?e:[]))}),[n]),(0,f.jsx)(v.Z,{title:"Detail Modul",showBackButton:!0,onBackButtonPress:function(){return t("/module/".concat(l,"/module"),{replace:!0})},toolbar:!u&&(0,f.jsx)(F,{moduleId:null!==a&&void 0!==a?a:""}),children:(0,f.jsx)(p.O1,{data:null!==h&&void 0!==h?h:[],footerProps:{loading:!1,footerText:""},onEndReached:function(){},column:4,responsive:{xs:1,sm:2,md:4},renderRow:function(e,n){return e instanceof g.Zf?(0,f.jsx)(r.Z,{model:e,showDateStart:!0}):e instanceof g.ot?(0,f.jsx)(m,{model:e}):(0,f.jsx)(f.Fragment,{children:"Unsupported content"})}})})}},85523:function(e,n,t){t(47313);var i=t(57775),o=t(51057),r=t(44610),s=t(57829),l=t(47605),a=t(83213),c=t(83061),d=t(2682),u=t(11193),x=t(29466),h=t(69737),f=t(88913),m=t(44894),p=t(46417);n.Z=function(e){var n,t,v=e.model,Z=e.showDateStart,b=void 0!==Z&&Z,g=(0,h.f)().user;return(0,p.jsx)(s.Z,{component:x.rU,sx:{textDecoration:"none"},to:"/topic/article/".concat(v.id,"/view"),children:(0,p.jsxs)(i.Z,{className:(0,c.Z)("card-hover"),children:[(0,p.jsxs)(s.Z,{sx:{backgroundImage:"url(".concat((0,d.y5)(v.content),")"),color:"#fff",borderRadius:"16px",padding:2,height:"200px",textAlign:"center",backgroundSize:"cover",display:"grid",alignItems:"center",margin:2,position:"relative"},children:[(0,p.jsx)(s.Z,{sx:{position:"absolute",bottom:0,left:0,right:0,padding:"8px 16px",borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px",background:"rgba(0,0,0,.7)"},children:v.name}),(0,p.jsx)(i.Z,{elevation:10,sx:{width:60,height:40,position:"absolute",top:"10px",right:"10px",background:function(e){return e.palette.primary.main},borderRadius:"8px",textAlign:"center",color:"#fff",padding:"3px",display:"flex",alignmentItems:"center",justifyContent:"center",flexDirection:"column"},children:(0,p.jsx)(l.Z,{fontSize:"14px",children:"Artikel"})})]}),(0,p.jsx)(o.Z,{sx:{textAlign:"left",padding:3},children:(0,p.jsxs)(s.Z,{display:"flex",alignItems:"center",children:[(0,p.jsx)(s.Z,{children:(0,p.jsx)(a.Z,{primary:b?"Diajarkan Pada":null===(n=v.module)||void 0===n?void 0:n.name,secondary:b?(0,d.KB)(v.startDate):null===(t=v.course)||void 0===t?void 0:t.name})}),(0,p.jsx)(s.Z,{marginLeft:"auto",children:function(){var e;return(0,f.P)(m.lg.Student,null!==(e=null===g||void 0===g?void 0:g.role)&&void 0!==e?e:[])?v.lastRead?(0,p.jsx)(u.Z,{title:"Tanggal ".concat((0,d.ss)(v.lastRead)),children:(0,p.jsx)(r.Z,{label:"Dibaca",variant:"outlined",color:"success",size:"small"})}):void 0:v.isPublish?(0,p.jsx)(r.Z,{label:"Publish",variant:"filled",color:"success",size:"small"}):(0,p.jsx)(r.Z,{label:"Disimpan",variant:"filled",color:"warning",size:"small"})}()})]})})]})})}},92649:function(e,n,t){t.d(n,{Z:function(){return w},W:function(){return B}});var i=t(29439),o=t(57829),r=t(34499),s=t(37429),l=t(80836),a=t(83213),c=t(47313),d=t(26672),u=t(97890),x=t(94614),h=t(4942),f=t(57451),m=t(21212),p=t(57775),v=t(50301),Z=t(86302),b=t(1084),g=t(67375),j=t(46417),S=function(e){var n=e.isAppDrawerOpen,t=e.sidebarContent,i=(0,b.I0)();return(0,j.jsx)(v.Z,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,j.jsxs)(o.Z,{sx:{width:{lg:280}},children:[(0,j.jsx)(f.Z,{lgUp:!0,children:(0,j.jsx)(m.ZP,{open:n,onClose:function(){return i((0,g.Y1)())},sx:(0,h.Z)({position:"absolute"},"& .".concat(Z.Z.paper),{width:280,"& .listItem":{zIndex:1305}}),children:t})}),(0,j.jsx)(f.Z,{lgDown:!0,children:(0,j.jsx)(p.Z,{style:{height:"100%"},children:t})})]})})},k=t(19406),y=c.createContext({setTitle:function(e){},setSubtitle:function(e){},setShowBackButton:function(e){},setOnBackButtonPress:function(e){},setToolbar:function(e){},resetLayout:function(){}}),B=function(){return(0,c.useContext)(y)},w=function(e){var n=(0,c.useState)(),t=(0,i.Z)(n,2),h=t[0],f=t[1],m=(0,c.useState)(e.toolbar),p=(0,i.Z)(m,2),v=p[0],Z=p[1],g=(0,c.useState)(),B=(0,i.Z)(g,2),w=B[0],I=B[1],A=(0,c.useState)(e.showBackButton),C=(0,i.Z)(A,2),D=C[0],T=C[1],_=(0,c.useState)(e.fullView),P=(0,i.Z)(_,2),R=P[0],z=(P[1],(0,c.useState)()),O=(0,i.Z)(z,2),F=O[0],E=O[1],L=(0,c.useState)(e.sidebarContent),U=(0,i.Z)(L,2),W=U[0],V=(U[1],(0,c.useState)(e.contentPadding)),J=(0,i.Z)(V,2),M=J[0],N=(J[1],(0,u.s0)()),q=(0,c.useCallback)((function(){N(-1)}),[history]),K=((0,b.I0)(),(0,b.v9)((function(e){return e.common})).isAppDrawerOpen),Q=(0,k.l5)().footer,X=((0,k.l5)().navStyle,null!==h&&void 0!==h?h:e.title),Y=null!==w&&void 0!==w?w:e.subTitle,G=null!==v&&void 0!==v?v:e.toolbar,H=null!==D&&void 0!==D?D:e.showBackButton,$=null!==F&&void 0!==F?F:e.onBackButtonPress;return(0,c.useEffect)((function(){document.title=null!==X&&void 0!==X?X:"AFresto System Indonesia"}),[X]),(0,j.jsx)(y.Provider,{value:{setTitle:f,setSubtitle:I,setOnBackButtonPress:E,setShowBackButton:T,setToolbar:Z,resetLayout:function(){f(void 0),I(void 0),T(void 0),E(void 0),Z(void 0)}},children:(0,j.jsxs)(o.Z,{children:[X&&(0,j.jsxs)(r.ZP,{component:"div",sx:{backgroundColor:"#fff",borderBottom:"1px solid #ccc",position:"sticky",top:"70px",zIndex:99},secondaryAction:G,children:[H&&(0,j.jsx)(s.Z,{children:(0,j.jsx)(l.Z,{onClick:null!==$&&void 0!==$?$:q,children:(0,j.jsx)(d.x_l,{})})}),(0,j.jsx)(a.Z,{primary:X,primaryTypographyProps:{fontSize:20},secondary:Y})]}),(0,j.jsx)(x.uc,{animation:"transition.slideUpIn",delay:200,children:(0,j.jsx)(o.Z,{sx:{p:null!==M&&void 0!==M?M:{xs:5,md:7.5,xl:12.5}},children:W?(0,j.jsxs)(o.Z,{sx:{display:"flex"},children:[W?(0,j.jsx)(o.Z,{children:(0,j.jsx)(S,{isAppDrawerOpen:K,footer:Q,fullView:R,sidebarContent:W})}):null,(0,j.jsx)(o.Z,{sx:{display:"flex",flexDirection:"column",width:{xs:"100%",lg:"calc(100% - ".concat(R?0:280,"px)")},pl:{lg:R?0:8}},children:e.children})]}):e.children})})]})})}},33187:function(e,n,t){var i=t(1413),o=(t(47313),t(19860)),r=t(24813),s=t(94469),l=t(33604),a=t(46417);n.Z=function(e){var n=(0,o.Z)(),t=(0,r.Z)(n.breakpoints.down("sm"));return(0,a.jsxs)(s.Z,(0,i.Z)((0,i.Z)({fullWidth:!0,fullScreen:t,maxWidth:"sm"},e),{},{children:[e.title&&(0,a.jsx)(l.Z,{children:e.title}),e.children]}))}},56417:function(e,n,t){t.d(n,{O:function(){return r}});var i=t(15671),o=t(43144),r=function(){function e(n,t,o){(0,i.Z)(this,e),this.repository=void 0,this._onSaveSuccess=void 0,this._onSaveFailed=void 0,this._onBeforeSubmit=void 0,this.repository=n,this._onSaveSuccess=t.onSaveSuccess,this._onSaveFailed=t.onSaveFailed,this._onBeforeSubmit=null===o||void 0===o?void 0:o.onBeforeSubmit}return(0,o.Z)(e,[{key:"submitToServer",value:function(e){return this._onBeforeSubmit&&(e=this._onBeforeSubmit(e)),e.id?this.repository.update(e):this.repository.create(e)}},{key:"onSubmit",value:function(e,n,t){var i=this,o=n.setSubmitting,r=n.resetForm;o(!0),this.submitToServer(e).then((function(e){e.status?(!0===t&&r(),i._onSaveSuccess&&i._onSaveSuccess(e.item)):i._onSaveFailed&&i._onSaveFailed(),o(!1)}))}}]),e}()}}]);